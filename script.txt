{"created_by":"Tampermonkey","version":"1","scripts":[{"name":"雨课堂刷课助手","options":{"check_for_updates":false,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["*://*.yuketang.cn/*","*://rain.gdufemooc.cn/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null},"storage":{"ts":1696740304242,"data":{}},"enabled":true,"position":1,"file_url":"https://greasyfork.org/scripts/466651-%E9%9B%A8%E8%AF%BE%E5%A0%82%E5%88%B7%E8%AF%BE%E5%8A%A9%E6%89%8B/code/%E9%9B%A8%E8%AF%BE%E5%A0%82%E5%88%B7%E8%AF%BE%E5%8A%A9%E6%89%8B.user.js","uuid":"d27360f2-50d8-4aea-acc4-48ce1b10aac3","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDpm6jor77loILliLfor77liqnmiYsKLy8gQG5hbWVzcGFjZSAgICBodHRwOi8vdGFtcGVybW9ua2V5Lm5ldC8KLy8gQHZlcnNpb24gICAgICAyLjEuMQovLyBAZGVzY3JpcHRpb24gIOmSiOWvuembqOivvuWgguinhumikei/m+ihjOiHquWKqOaSreaUvgovLyBAYXV0aG9yICAgICAgIOmjjuS5i+WtkAovLyBAbGljZW5zZSAgICAgIE1JVAovLyBAbWF0Y2ggICAgICAgICo6Ly8qLnl1a2V0YW5nLmNuLyoKLy8gQG1hdGNoICAgICAgICAqOi8vcmFpbi5nZHVmZW1vb2MuY24vKgovLyBAaWNvbiAgICAgICAgIGh0dHA6Ly9uaXV3aC5jbi9mYXZpY29uLmljbwovLyBAZ3JhbnQgICAgICAgIEdNX2FkZFN0eWxlCi8vIEByZXF1aXJlICAgICAgaHR0cHM6Ly9jZG4uYm9vdGNkbi5uZXQvYWpheC9saWJzL2pxdWVyeS8zLjcuMS9qcXVlcnkuanMKLy8gPT0vVXNlclNjcmlwdD09Ci8vIOmbqOivvuWgguWIt+ivvuiEmuacrAovKgogIOW3sumAgumFjembqOivvuWgguWtpuagoeWPiue9keWdgO+8mgogIOWtpuagoe+8muS4reWOn+W3peWtpumZou+8jOays+WNl+Wkp+WtpueglOeptumZou+8jOW5v+S4nOi0oue7j+Wkp+Wtpu+8jOi+veWugeWkp+Wtpu+8jOays+WMl+Wkp+Wtpu+8jOS4reWNl+Wkp+Wtpu+8jOeUteWtkOenkeaKgOWkp+Wtpu+8jOWNjuWMl+eUteWKm+Wkp+Wtpu+8jOS4iua1t+eQhuW3peWkp+WtpueglOeptueUn+mZouWPiuWFtuS7lumZouagoS4uLgogIOe9keWdgO+8mmNoYW5namlhbmcueXVrZXRhbmcuY27vvIx5dWtldGFuZy5jbiAuLi4KKi8KCi8vIOa3u+WKoOeUqOaIt+S6pOS6kueql+WPowpmdW5jdGlvbiBhZGRXaW5kb3coKSB7CiAgLy8g5o+S5YWl55qE5Lqk5LqSSFRNTOeql+WPowogIGNvbnN0IG91dGVySFRNTCA9IGAgIDxkaXYgY2xhc3M9Im5fb3V0ZXIiPgogIDxkaXYgY2xhc3M9Im5faGVhZGVyIj4KICAgIOmbqOivvuWgguWIt+ivvuWKqeaJiwogIDwvZGl2PgogIDxkaXYgY2xhc3M9Im5fYm9keSI+CiAgICA8dWwgY2xhc3M9Im5faW5mb0FsZXJ0Ij4KICAgICAgPGxpPuKtkCDohJrmnKzmlK/mjIHvvJrpm6jor77loILlrpjmlrnniYjmnKzvvIzkuozlgI3pgJ/vvIzoh6rliqjmkq3mlL48L2xpPgogICAgICA8bGk+8J+ToiDmiYvliqjngrnlh7vov5vlhaXopoHliLfnmoTor77nqIvnm67lvZXvvIzngrnlh7vlvIDlp4vliLfor77vvIzljbPlj6/oh6rliqjov5DooYzvvIzlpoLpobXpnaLkuI3liqjor7fogZTns7vkvZzogIU8L2xpPgogICAgICA8bGk+4pqg77iPIOi/kOihjOWQjuivt+S4jeimgemaj+aEj+eCueWHu+WIt+ivvueql+WPo++8jOWPr+aWsOW8gOeql+WPo++8jOWPr+acgOWwj+WMlua1j+iniOWZqDwvbGk+CiAgICAgIDxsaT7wn5KhIOaLluWKqOS4iuaWueagh+mimOagj+WPr+S7pei/m+ihjOaLluaLveWTpiE8L2xpPgogICAgICA8aHI+CiAgICA8L3VsPgogIDwvZGl2PgogIDxkaXYgY2xhc3M9Im5fZm9vdGVyIj4KICAgIDxwPumbqOivvuWgguWKqeaJiyAyLjAuMCA8L3A+CiAgICA8ZGl2IGlkPSJuX3phbnNoYW5nIj4KICAgICAgPHA+6LWe6LWP5L2c6ICFPC9wPgogICAgICA8aW1nCiAgICAgICAgc3JjPSJkYXRhOmltYWdlL2pwZWc7YmFzZTY0LC85ai80QUFRU2taSlJnQUJBUUFBQVFBQkFBRC8yd0JEQUFZRUJRWUZCQVlHQlFZSEJ3WUlDaEFLQ2drSkNoUU9Ed3dRRnhRWUdCY1VGaFlhSFNVZkdoc2pIQllXSUN3Z0l5WW5LU29wR1I4dE1DMG9NQ1VvS1NqLzJ3QkRBUWNIQndvSUNoTUtDaE1vR2hZYUtDZ29LQ2dvS0Nnb0tDZ29LQ2dvS0Nnb0tDZ29LQ2dvS0Nnb0tDZ29LQ2dvS0Nnb0tDZ29LQ2dvS0Nnb0tDZ29LQ2ovd0FBUkNBUU5CQTBEQVNJQUFoRUJBeEVCLzhRQUh3QUFBUVVCQVFFQkFRRUFBQUFBQUFBQUFBRUNBd1FGQmdjSUNRb0wvOFFBdFJBQUFnRURBd0lFQXdVRkJBUUFBQUY5QVFJREFBUVJCUkloTVVFR0UxRmhCeUp4RkRLQmthRUlJMEt4d1JWUzBmQWtNMkp5Z2drS0ZoY1lHUm9sSmljb0tTbzBOVFkzT0RrNlEwUkZSa2RJU1VwVFZGVldWMWhaV21Oa1pXWm5hR2xxYzNSMWRuZDRlWHFEaElXR2g0aUppcEtUbEpXV2w1aVptcUtqcEtXbXA2aXBxckt6dExXMnQ3aTV1c0xEeE1YR3g4akp5dExUMU5YVzE5aloydUhpNCtUbDV1Zm82ZXJ4OHZQMDlmYjMrUG42LzhRQUh3RUFBd0VCQVFFQkFRRUJBUUFBQUFBQUFBRUNBd1FGQmdjSUNRb0wvOFFBdFJFQUFnRUNCQVFEQkFjRkJBUUFBUUozQUFFQ0F4RUVCU0V4QmhKQlVRZGhjUk1pTW9FSUZFS1JvYkhCQ1NNelV2QVZZbkxSQ2hZa05PRWw4UmNZR1JvbUp5Z3BLalUyTnpnNU9rTkVSVVpIU0VsS1UxUlZWbGRZV1ZwalpHVm1aMmhwYW5OMGRYWjNlSGw2Z29PRWhZYUhpSW1La3BPVWxaYVhtSm1hb3FPa3BhYW5xS21xc3JPMHRiYTN1TG02d3NQRXhjYkh5TW5LMHRQVTFkYlgyTm5hNHVQazVlYm42T25xOHZQMDlmYjMrUG42LzlvQURBTUJBQUlSQXhFQVB3RDZwb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQ2pxK3BSNmJBcnVwZDNPRlFkNjUrUHhUT0pjeTI4Wmo5RkpEQ2p4bWppN3Q1VC9xeWhVZXh6WE45NmFRSHB0cGNSM1VDU3d0bEdHUlV0WXZoS0tTUFNoNXY4VGxsSG9PUDhLMnFRRVgyaUwrOStocFB0TVA5LzhBUTAveWsvdUwrUW84bVA4QXVMK1FvQVo5cGgvdi9vYVB0TVA5L3dEUTAveW8vd0RubW41Q2p5by8rZWFma0tBR2Zhb2Y3LzZHajdWRC9mOEEwTlA4cVA4QTU1cCtWSGxSL3dEUE5QeW9BWjlxaC92L0FLR2o3VkQvQUgvME5QOEFLai81NXArVkhsUi84ODAvS2dCbjJxSCsvd0RvYVB0VVA5LzlEVC9Lai81NXArVkhsUi84ODAvS2dCbjJxSCsvK2hvKzFRLzMvd0JEVC9Lai93Q2VhZmxSNVVmL0FEelQ4cUFHZmFvZjcvNkdqN1ZEL2Y4QTBOUDhxUDhBNTVwK1ZIbFIvd0RQTlB5b0FaOXFoL3YvQUtHajdWRC9BSC8wTlA4QUtqLzU1cCtWSGxSLzg4MC9LZ0JuMnFIKy93RG9hUHRVUDkvOURUL0tqLzU1cCtWSGxSLzg4MC9LZ0JuMnFIKy8raG8rMVEvMy93QkRUL0tqL3dDZWFmbFI1VWYvQUR6VDhxQUdmYW9mNy82R2o3VkQvZjhBME5QOHFQOEE1NXArVkhsUi93RFBOUHlvQVo5cWgvdi9BS0dqN1ZEL0FILzBOUDhBS2ovNTVwK1ZIbFIvODgwL0tnQm4ycUgrL3dEb2FQdFVQOS85RFQvS2ovNTVwK1ZIbFIvODgwL0tnQm4ycUgrLytobysxUS8zL3dCRFQvS2ovd0NlYWZsUjVVZi9BRHpUOHFBR2Zhb2Y3LzZHajdWRC9mOEEwTlA4cVA4QTU1cCtWSGxSL3dEUE5QeW9BWjlxaC92L0FLR2o3VkQvQUgvME5QOEFLai81NXArVkhsUi84ODAvS2dCbjJxSCsvd0RvYVB0VVA5LzlEVC9Lai81NXArVkhsUi84ODAvS2dCbjJxSCsvK2hvKzFRLzMvd0JEVC9Lai93Q2VhZmxSNVVmL0FEelQ4cUFHZmFvZjcvNkdqN1ZEL2Y4QTBOUDhxUDhBNTVwK1ZIbFIvd0RQTlB5b0FaOXFoL3YvQUtHajdWRC9BSC8wTlA4QUtqLzU1cCtWSGxSLzg4MC9LZ0JuMnFIKy93RG9hUHRVUDkvOURUL0tqLzU1cCtWSGxSLzg4MC9LZ0JuMnFIKy8raG8rMVEvMy93QkRUL0tqL3dDZWFmbFI1VWYvQUR6VDhxQUdmYW9mNy82R2o3VkQvZjhBME5QOHFQOEE1NXArVkhsUi93RFBOUHlvQVo5cWgvdi9BS0dqN1ZEL0FILzBOUDhBS2ovNTVwK1ZIbFIvODgwL0tnQm4ycUgrL3dEb2FQdFVQOS85RFQvS2ovNTVwK1ZIbFIvODgwL0tnQm4ycUgrLytobysxUS8zL3dCRFQvS2ovd0NlYWZsUjVVZi9BRHpUOHFBR2Zhb2Y3LzZHajdWRC9mOEEwTlA4cVA4QTU1cCtWSGxSL3dEUE5QeW9BWjlxaC92L0FLR2o3VkQvQUgvME5QOEFLai81NXArVkhsUi84ODAvS2dCbjJxSCsvd0RvYVB0VVA5LzlEVC9Lai81NXArVkhsUi84ODAvS2dCbjJxSCsvK2hvKzFRLzMvd0JEVC9Lai93Q2VhZmxSNVVmL0FEelQ4cUFHZmFvZjcvNkdqN1ZEL2Y4QTBOUDhxUDhBNTVwK1ZIbFIvd0RQTlB5b0FaOXFoL3YvQUtHajdWRC9BSC8wTlA4QUtqLzU1cCtWSGxSLzg4MC9LZ0JuMnFIKy93RG9hUHRVUDkvOURUL0tqLzU1cCtWSGxSLzg4MC9LZ0JuMnFIKy8raG8rMVEvMy93QkRUL0tqL3dDZWFmbFI1VWYvQUR6VDhxQUdmYW9mNy82R2o3VkQvZjhBME5QOHFQOEE1NXArVkhsUi93RFBOUHlvQVo5cWgvdi9BS0dqN1ZEL0FILzBOUDhBS2ovNTVwK1ZIbFIvODgwL0tnQm4ycUgrL3dEb2FQdFVQOS85RFQvS2ovNTVwK1ZIbFIvODgwL0tnQm4ycUgrLytobysxUS8zL3dCRFQvS2ovd0NlYWZsUjVVZi9BRHpUOHFBR2Zhb2Y3LzZHajdWRC9mOEEwTlA4cVA4QTU1cCtWSGxSL3dEUE5QeW9BWjlxaC92L0FLR2o3VkQvQUgvME5QOEFLai81NXArVkhsUi84ODAvS2dCbjJxSCsvd0RvYVB0VVA5LzlEVC9Lai81NXArVkhsUi84ODAvS2dCbjJxSCsvK2hvKzFRLzMvd0JEVC9Lai93Q2VhZmxSNVVmL0FEelQ4cUFHZmFvZjcvNkdqN1ZEL2Y4QTBOUDhxUDhBNTVwK1ZIbFIvd0RQTlB5b0FaOXFoL3YvQUtHajdWRC9BSC8wTlA4QUtqLzU1cCtWSGxSLzg4MC9LZ0JuMnFIKy93RG9hUHRVUDkvOURUL0tqLzU1cCtWSGxSLzg4MC9LZ0JuMnFIKy8raG8rMVEvMy93QkRUL0tqL3dDZWFmbFI1VWYvQUR6VDhxQUdmYW9mNy82R2o3VkQvZjhBME5QOHFQOEE1NXArVkhsUi93RFBOUHlvQVo5cWgvdi9BS0dqN1ZEL0FILzBOUDhBS2ovNTVwK1ZIbFIvODgwL0tnQm4ycUgrL3dEb2FQdFVQOS85RFQvS2ovNTVwK1ZIbFIvODgwL0tnQm4ycUgrLytobysxUS8zL3dCRFQvS2ovd0NlYWZsUjVVZi9BRHpUOHFBR2Zhb2Y3LzZHajdWRC9mOEEwTlA4cVA4QTU1cCtWSGxSL3dEUE5QeW9BWjlxaC92L0FLR2o3VkQvQUgvME5QOEFLai81NXArVkhsUi84ODAvS2dCbjJxSCsvd0RvYVB0VVA5LzlEVC9Lai81NXArVkhsUi84ODAvS2dCbjJxSCsvK2hvKzFRLzMvd0JEVC9Lai93Q2VhZmxSNVVmL0FEelQ4cUFHZmFvZjcvNkdqN1ZEL2Y4QTBOUDhxUDhBNTVwK1ZIbFIvd0RQTlB5b0FaOXFoL3YvQUtHajdWRC9BSC8wTlA4QUtqLzU1cCtWSGxSLzg4MC9LZ0JuMnFIKy93RG9hUHRVUDkvOURUL0tqLzU1cCtWSGxSLzg4MC9LZ0JuMnFIKy8raG8rMVEvMy93QkRUL0tqL3dDZWFmbFI1VWYvQUR6VDhxQUdmYW9mNy82R25KTWovZGJQNFVHS1Avbm12NUNuS2lyOTFRUG9LQUhWbGExckVlbTdVQ2VaTTNJWE9NRDFyVnJodkZrYnJyRHU0K1YxVXFmYkdQNTAwcmdYYlh4VEo1ditsUXA1Wjd4NUJINTlhNnFOMWtqVjBPVllaQnJ5K3ZRdEFqZUxSN1ZKZnZiYzgraEpJL1NocXdHaFJSUlNBS0tLS0FJcnEyaXVvV2luUU1oN0dzbUh3MVl4eWh5SkhBNTJzM3kxdDBVQUlxaFZDcUFBT2dGTFJRYUFDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLclgxakJleDdMaE53N0h1UHBWbWlnREh0ZkQ5amJ5aVRFa2hIUU9lUDBGYkE0NlVVVUFGRkZGQUJSUlJRQkZkZjZodncvblRvZjlVbjBIOHFaZC84ZTcvaC9PbndmNmxQOTBmeW9BZlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUJYdVdLeXc0WWdFOGdkK1JWaXF0My9yN2Y2LzFGV3FBQ2lpaWdBb29vb0FodlArUFovd0FQNTArRC9VeC83by9sVEx6L0FJOW4vRCtkUGcvMU1mOEF1aitWQUQ2S0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBS3QzL3I3ZjhBM3Y2aXJWVmJ2L1gyL3dEdmYxRldxQUNpaWlnQW9vb29BaHZQK1BaL3cvblQ0UDhBVXgvN29wbDUvd0Flei9oL09ud2Y2bVAvQUhSUUEraWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQ3RkZjYrMy8zdjZpck5WcnIvQUY5di92ZjFGV2FBQ2lpaWdBb29vb0FodlA4QWoyZjhQNTArRC9VeC93QzZLWmVmOGV6L0FJZnpwOEgrcGovM1JRQStpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdDdGRmNiszL0FONytvcXpWYTYvMTl2OEE3MzlSVm1nQW9vb29BS0tLS0FJYnovajJmOFA1MCtEL0FGTWYrNktaZWY4QUhzLzRmenA4SCtwai93QjBVQVBvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BclhYK3Z0Lzk3K29xelZhNi93QmZiLzczOVJWbWdBb29vb0FLS0tLQUliei9BSTluL0QrZFBnLzFNZjhBdWltWG4vSHMvd0NIODZmQi9xWS85MFVBUG9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FyWFgrdnQvd0RlL3FLczFXdXY5ZmIvQU85L1VWWm9BS0tLS0FDaWlpZ0NHOC80OW4vRCtkUGcvd0JUSC91aW1Ybi9BQjdQK0g4NmZCL3FZLzhBZEZBRDZLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FLMTEvcjdmL2UvcUtzMVd1djhBWDIvKzkvVVZab0FLS0tLQUNpaWlnQ0c4L3dDUFovdy9uVDRQOVRIL0FMb3BsNS94N1A4QWgvT253ZjZtUC9kRkFENktLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUsxMS9yN2Y4QTN2NmlyTlZyci9YMi93RHZmMUZXYUFDaWlpZ0Fvb29vQWh2UCtQWi93L25UNFA4QVV4LzdvcGw1L3dBZXovaC9PbndmNm1QL0FIUlFBK2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS2h2R2RMU1pvdjlZcU1WK3VPS0FKcUsvUGp3MzhTL0Uray9FNkxWYnpXTDJVL2J0dHpGSkt4UjBMNFpTdlRHUHlyOUJJWkZsaVNSRGxYVU1EN0dnQjlGRkZBSHkxOFJ2MmtkVzBENGgzMms2VHAxbExwZGhPWUpETUc4eVFxY01RUWVPYzQ0TmZUZWszMGVwNlhhWDBQK3F1WVVtWDZNQVIvT3Z6L0FQMmk5TmwwejR5K0pFbFhBbm1Gd2h4Z0ZYVU54K0pJL0N2dHY0UHRNM3d1OExHNWphT1grem9RVlk4ajVCaWdEcjZLS0tBUEhQMml2aXBxUHczc05MWFI3T0NlNnZtZk1rNEpWQXVPd0l5ZWEyL2dOOFFicjRqZURIMVRVTFNPMnU0TGhyZVFSWjJNUUFjalBzYTZ2eGY0UjBMeGhZcGFlSTlOaHY0STIzb0pNZ29mVUVFRWZuVnJ3NW9PbWVHOUtpMDNRN0tLeXNvOGxZb2hnWlBVbnVUN21nRFRvb29vQUtLODAvYUpsOFFSZkN6VW04Si9hUmY3NDk1dHMrYUl0M3o3Y2MrblR0bXZPZjJRWmZGa2lhNnZpQnRSYlRBRU1IMnpkL3JDZm0yN3UyTVpvQStrYUtLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BclhYK3Z0Lzk3K29xelZhNi93QmZiLzczOVJWbWdBb29vb0FLS0tLQUliei9BSTluL0QrZFBnLzFNZjhBdWltWG4vSHMvd0NIODZmQi9xWS85MFVBUG9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBcUs2blMxdHBaNWp0aWpVdXg5QUJrMUxVTjVieDNkcE5iekRNY3FHTnZvUmlnRHhqd2YrMFY0YjhUZU1vdEJqc3J1MEZ4SVlyZTZtWmRrajlnUU9tZTFlMjErYm54RThPM3Z3L3dEaUZmNmR1ZEpMU2NTMjB2VGNoTzVHSDRmcURYM3o4TGZFTGVLL0FHaWExSWhTVzZ0dzBnLzJnU3JmcURRQjFWRkZGQUh3ZjhZL2hYNGxzL2lkcXE2Um90NWRXTjdjRzR0WmJlSXVwRG5PTWpvUVNSejZWOXUrR0xhZXk4T2FYYlhuL0h6RGF4eHk4NStZS0FmMXE5ZFhFTnBieVhGMUxIREJHTnp5U01GVlI2a25wVkxSZGQwclhJbmswZlViUytSRHRZMjh5eWJUNkhCNG9BMHFLS0tBTUhYdkIzaHp4QmVRM2V0NkxZWDF6RHdrczhJWmdQVE5ia2FKSEdxUnFGUlJnS293QUs4QS9hbCtJL2lYd1A4QTJOYmVHcGxzMXV3N3kzUGxxNUpHTUtOd0lIclhkL0FMeFpxM2pQNGIyV3JhK2lpK2FSNGpJcWJCTXFuaDhkUGJqamlnRDBhaWlpZ0Q1aS9hWCtMUGkzd2Y0MnROSjhQWEMyRm10dWt6U0dGWE14WW5JeXdQQXhqaXZlL2gxclYxNGk4RGFKcTJvd2lHOHU3VkpaVUF3QXhIVUQwUFg4YTBOVzBIU2RZZU45VjB5enZYais0YmlGWEsvVEk0clFpalNLTlk0MUNJb3dxZ1lBRkFEcUtLUjJDS1dZNEFHVFFCSEpjd1J5ckhKTkVramZkVm5BSitncVExK2Nmai93QVZhbDRsK0kycGFvbDVPWlpMd3JiNGNqWW9iQ0FlbkFGZm9mb1huLzJMWWZiRG01OGhQTVArMXRHZjFvQXZVVVVVQWMvNDg4V2FiNEo4TVhldWF3N0MyZ0FBUlB2U09laXI3bXVQK0VIeGswbjRsM1Y3YVdWamRXTjVhb0pESE13WU1tY1pCSHYycnhMOXREeFRjVDYvcGZobU1sYlMyaUYzSU0vZmRzZ2ZrQWZ6cnFQMk5mQmoyT2pYL2l1NVVxMTltMnRnZThhbjVtL0ZoajhLQVBwV2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0N0ZGY2KzMvQU43K29xelZhNi8xOXY4QTczOVJWbWdBb29vb0FLS0tLQUliei9qMmY4UDUwK0QvQUZNZis2S1plZjhBSHMvNGZ6cDhIK3BqL3dCMFVBUG9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBUE92SG54azhJK0NOZmkwYldycWY3Y3lxenJERVhFS3QwTG50a2M0R2E3K3l1b0w2emd1clNSWmJlWkJKRzZuSVpTTWcxNFQ4WGYyZmY4QWhPL0c4bXYydXRDeSswcWl6eHZGdndWVUxsVG4wQXIyenc3cFVXaDZEcCtsVzdGb2JPQklGWTlTRkFHZjBvQTBLS0tLQU9KOGUvQy93cjQ3dWJhNThSYWUwMXhiamFrc2NyUnNWem5hY0hrVjFXamFaWjZMcFZycHVtUUpiMlZ0R0lvb2s2S29xNVh4TjhYZmkzNDYwWDRzYXZCYWFwY1dkcFlYWGx3MmlnQ01vTVl5Q1BtM0RuSjlhQVB0bWlzRHdGNGx0dkYvaEhUTmNzbVV4M2NRWmdQNEg2TXA5d1FSVy9RQnd2eHQ4SzZqNHorSEdwNk5vc3l4WDB1eDBEdHRXVGF3SlFudGtDdk5QMlgvQUlYZUp2QTkvckYvNGtTTzBTNWpXR08yV1VTRmlEbmNkcHdQVDFyNkZvb0FLS0tLQUtXcTZUcCtyd0NIVkxLMnZJZ2R3U2VNT0FmWG1yRnJiUVdsdWtGckRIREJHTUpIR29WVkhzQlhsUDdUbXErSXRJK0d6WEhoVjdtR2RybEV1SnJZSHpJNGlEa2dqa2M0R2E1djlrclhQRldzNkhyQjhTM0Y1ZFdjVXFpMm11OGxpU0R1QVk4a2RQem9BOS9vb29vQStNdmlIOFZQaUZwM3hudkxDenZycUMydDc0UVc5Z2tZOHVTTU5nWkdQbXlEblB2WDJUYk84bHZFOHE3SkdVRmw5RGprVkROcDluTGRwZFNXbHU5eW4zWldqQmNmUTlhdFVBRmNUOGF0ZkhobjRZZUlOU0RiWlZ0bWlpT2VkNy9JdVB4YXUycmd2amY0S3VmSHZ3K3ZkRzArYU9HOExwTkNaTWhXWlRuYVNPbVJubm1nRDRsK0IyZ2Y4Sk44Vk5Bc1pGTHcvYUJQTWY4QVlRRnpuNjR4K05mb3VCZ1lIU3ZuejluRDRNNnQ0RTFpOTFueEtiWDdZOFJnZ2loZmZ0VWtFc1RqdmpHSytnNkFDaWl2bW45cW40cjZwNGN2N0x3NTRXMUJyTzcyZWZlVFE0M3FEOTFNOXZYOHFBUFh2SG53dThLZU9yMjN2UEVXbnROY3dMc1dTT1ZveVZ6bmFjSGtkYTYzU05PdE5JMDIyMC9Ub0V0N08yakVVVVNkRlVkQlhsSDdMM2lyWGZGbnc4bHV2RWR3OTNOQmROQkZjT29EU0lBRHlRT2NFa1pyMkdnQmFLS0tBT0orSlB4TThPL0R1SzBQaUdlWVMzUlBsUlFSNzNJSFUrd3JvZkMzaURUZkZPaFd1c2FKY0M0c0xsU1VjQWpvY0VFSG9RUVJYbXZ4MitEWitKdHhwdDNiYW90aGRXYU5GODhaZFhVblBZOEd1eStGbmd5SHdENExzdEJndUd1ZkpMTzh4R043TWNuQTdDZ0RyYUtLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdDdGRmNiszLzN2NmlyTlZyci9YMi8rOS9VVlpvQUtLS0tBQ2lpaWdDRzgvNDluL0QrZFBnLzFNZis2S1plZjhlei9oL09ud2Y2bVA4QTNSUUEraWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb3J5cjRnZkhid2I0TnVYdEpMcVRVcjlEdGVDeUFmWWZSbUp3RDdkYTRGUDJydEQ4N0RlSGRSMlorOEprT0I5S0FQcE9pdlBmaDc4WC9DWGpzaUhTcjR3WDUvNWM3c0NPVS83dk9HL0ExNkZRQVVWUTFuV2ROMFMzV2ZWNysxc29HTzBQY1NoQVQ2RE5XTEs3dDcrMWp1YktlSzR0NUJsSlluREt3OVFSUUJQWHpKKzF2OE5yM1ZwYkh4UDRmMCtXNnVGQXQ3eU8zUXM1QXlWZkE1UGNaK2xmVGRGQUhoWDdJMmk2N292Z1hVVTEyMHViT0dhODMyc053cFZnTnZ6RUtlUUNmNUd2ZGE1dnhkNDU4TmVEL0lIaVRWN2F3YWYvVnJJU1diM3dBVGozcmIwNit0ZFRzWUx6VDU0N2kwblFQSExHd1pYVTl3UlFCWm9vckE4ZGVLOU84RmVHYnZYTllaeGFXNEdWUVpaMkpBQ2dlcEpvQTM2Szg2K0ZIeGMwTDRrdGVRNlZGYzIxNWFxSGVDNEM1S0hqY0NDYzgxNkxRQU1Bd0lZQWc4RUh2VEk0a2pVTEdpb29PY0tNQ3VRK01YOXRqNGE2OGZDL21mMnVMZjl6NVgzOFpHN2I3N2QySzhML1pIWHhndmlYV0YxeGRVR2ttM3lmdG0vSG5iaGpidTc0M1VBZlUxWjNpUysvc3Z3L3FXb0RibTF0cEp4dTZmS3BQOUswYTVINHUzQnRmaGY0cG1DbHR1blRqQTc1UWordEFIeUI4SmZpZDR0bitMZWtQZGF6ZjNjV29YaXd6MjBrcFpHUnpnZ0tlQmpPUmpwaXZ1MnZ6dStBTUgyajR5ZUZVQndSZDcrZjhBWlV0L1N2MFJvQUtLYkxJc1VUeVNIQ0lDeFBvQlhrSGhuOW9Id3A0aDhhUitIYldLOWlrbWxNTUZ6S29FY2o4NEhYSXpqaWdEMkdpaWlnQ2hyK3EyK2g2SmZhbmV1RXRyU0ZwbkpPT0FNMStjR3RYK28rUC9BQjlQZEVOTGY2dGRnSWhQUXNjS3YwQXdQd3I3dCtQUGh6VmZGWHd3MWJTdEJ3MTdMc1pZczQ4MEs0SlhQdUJYaTM3TS93QUdkWjBieFkvaUx4ZnByV2YyTlNMU0dZcVdhUWpHL0FKNkRwOWZhZ0Q2SzhCZUhMZndsNFEwdlJMVUtFdElWUm1BeHZmcXpmaWNtdCtsb29BSythdjJtdml4NHI4RmVMTlAwcnc3S2xsYk5iQzRhVm9Wa01yRmlNZk1EZ0RIYjFyNkExTHhIbzJsM3NWbnFPcTJOcmRTL2NpbW5WR2IwNEpwZFkwSFI5ZVdGdFcwNnp2aEVkMFpuaVY5djB6UUJrL0MzWDczeFA0QTBUV05VaEVONWQyNGtsVURBemtqSUhZSEdmeHJxcXAzbDFZYUxwcjNGNU5iMlZqYnI4enVRaUlvL1FWNGw0bC9hZDhINlhldGI2WGEzMnJCRGd6UkFSeG42RnVUK1ZBSHZORmZPdW0vdFZlR3BycFV2OUcxTzFpYnJJcFNUYitIRmUzZUV2RnVoK0x0T0Y5NGQxR0M5Zy9pMkhESWZSbFBJUDFvQTNLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FLMTEvcjdmOEEzdjZpck5WcnIvWDIvd0R2ZjFGV2FBQ2lpaWdBb29vb0FodlArUFovdy9uVDRQOEFVeC83b3BsNS93QWV6L2gvT253ZjZtUC9BSFJRQStpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDdm1yOXFuNHRYT2hrK0VmRHM3UTNzc1lhOXVVUHpSbzNTTlQySkhVK2hyNlZKd0NmVG12eng4dC9HM3g0OG5VRzMvQU5vYXpzazV6OG5tWXgvM3lNVUFkbjhIUDJmOVE4YjZlbXRlSXJxYlROTG0rYUVLdVpweC9lNTZEM1BXdlk1ZjJYL0E3V3hqanVOWFNiR1BOODlUejY0MjRyM0ZWaHNyTUxFaXhXOENZQ3FNQlZBNkN2QlBESDdTV25hMzQ5ZzBFNlBOQmFYVno5bWh1L00zTnVKd0NWeDBKb0E4TytML0FNSHRhK0YxekJxdW5YVXQzcFc4R084aUJSNEg3QnNkUFk5SytpZjJhL2lwTjQ4MFdmVGRZS25XOVBSZDhnNDgrUG9IeDYrdjRWNnA0cTBpMjEzdzVxT21YMGF5UVhNRHhzR0dSeU92NGRhK0cvMmM3NmZRL2pscFZ0QS95VHl6V1VvSndHVXEzOVZCb0E5aS9iTzhQYWxlNlJwR3QycXZMWVdMTkhjSXZTUGRqRGtlbkdNMXhuN0tIeE5iUXRkWHducTBySFR0Umt4YXM3WkVNeDZENk4wK3RmWCtwMkZ2cW1uWE5qZlFwTmEzQ0dPV05oa01wR0NLOEc4TGZzMDZib25qaTAxcisycDViS3p1QmN3MnZsQU5sVGxRelo2QWdkcUFQb1dpaWlnRHdIOW9yNE02MThRdGQwN1ZOQnVyUkhoZyt6eVJYRGxRQnVKREFnSDEvU3ZVL2hYNFdrOEYrQXRJMEdlNEZ4UGFSa1NTTG5CWXNXSUdld3ppdXJvb0FLOHovYU8wS1R4QjhJZGNnZ3o1dHVxM2FnZC9MTzRqOHMxNlpVRi9iUjN0amNXc3k3b3BvMmpaVDNCR0RRQjhEZnMwK0lmK0VlK0x1a05JeFcydlMxbkx6eDg0K1hQL0FBSUxYNkFWK1ptcjIxejRVOGJYVU9DbHpwdDh3SHN5UHgvSVYra3VoWFJ2dEdzYnRoZzNFRWNwSG9XVUgrdEFGNmlpcXd2N00zWnRCZDI1dWgxaDh3Yi9BUHZuT2FBTE5jaDhYZEZ2UEVYdzI4UWFYcGhiN1pjV3JDSUx3V1ljN2Z4eGo4YTYraWdENHovWmwrRzNpUzArS050cTJ0YVBkMkZucHNjak05MUNVRE95bFFxNTcvTm44Syt6S0tLQUdYRUtUd1NSU0RLU0tVYjZFWU5lRitFZjJjdEg4TytPb1BFQTFXNXVJYmFjendXcklCdGJxTXQzeCtGYi93QWR2aTJmaG5iYWVsdnB5M3Q1ZWxpb2Q5cUlxNHlUajYxMEh3ZDhleC9FWHdlbXRMYUd6a0VyUVN3bHR3RExqa0h1Q0NLQU80cU80bWp0cmVXZWR4SERFcGQzUFJWQXlTZndxU3FldGFmSHEyajN1bnprckZkUXZDeEhVQmdRZjUwQWNONEwrTXZnM3hqNGliUk5GdjVXdnZtTVlsaEtMTHRHVHRKNjhBbXZSYStmUGhWK3p3M2dyeDViK0lMdldrdkk3UXViZUtPTXFTV1VybGlmUU1lbGZRZEFCWEtmRXp4dHAvZ0x3cGRheHFMS1dVYkxlSFBNMHArNm8vcjdBMTA5MVBGYTIwdHhjU0xIREVwZDNZNENxQmtrMThCZnRBZkV1WDRoZUxXK3lNeTZKWWxvclJQNy9QTWhIcWY1VUFjcFBQcm54RThjR1Z2TnZOWDFPNHdvWEp4azhBZWlnZmtCWDZNNk5DMmsrSExPSzltM05hV3FMTEl4NjdWNVA2VjRkK3l2OExmK0VlMFpmRkd0UUFhcmZ4LzZPanI4ME1KL2tXNi9URmVnZnRCNnJOby93ZjhBRWwxYXVVbWFBUUFqc0pHQ0g5R05BSHlsOGEvaVZxdnhSOFdKcE9qck0ya3h6ZVZaV2tRT1oyempldzdrOXZTdlVQQWY3TGRrZFBodWZHZW8zSnVYVU0xcmFFS0kvWXNRY242VnpIN0dXZ1d1bytNTlcxZTZqVjVyQzNWWU53enRaenkzMXdNZmlhK212aWw0MXRmaC93Q0Q3alhieUI3a1J1c1VjS0hCZDJPQU05dS81VUFlVGVJUDJXZkM5elpQL1llbzZqWjNRQjJHWnhLaFB1TUEvclh6Ny94VnZ3TitJUUJMd1R4Tm5na3czY1dmMUIvTUd2clA0SS9GKzMrSnAxQ0E2YzloZTJZVjJReWIxZENjQWc0SE5jNysySDRmdDlRK0dpYXVVVVhlbVhDRlh4eVVjN1N2NWtIOEtBUFYvQUhpcXo4WitFOVAxelR6aUs1VExKbm1OeHd5bjZITmREWHpQK3hMcVUwdWdlSWRPZGlZSUxoSmtCL2hMTGc0L3dDK1JYMHhRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUJXdXY5ZmIvd0M5L1VWWnF0ZGY2KzMvQU43K29xelFBVVVVVUFGRkZGQUVONS94N1A4QWgvT253ZjZtUC9kRk12UCtQWi93L25UNFA5VEgvdWlnQjlGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFCeFhpSDRwK0MvRHV2ZjJOck92VzF0cUl4dWlJWnRtZWdZZ0VMK0pyc0xXNWh1N2FPNHRaVW1na0c1SkViS3NQVUd2amI5cFg0UmE5WitLZFU4VjZYREpxR2szc25uekNNYnBMZHNjN2gvZDlEWEVmQ2Y0eGVJZmg1Y0xieHlOZmFNVCs4c1oyT0Y5U2gvaFA2VUFmb0l3eUNQWGl2ejA4UkpQOEFEejQ1enpYS05uVDlWRnlNajc4WmZjQ1BxcHI3WitHdnhJMEQ0ZzZXTG5SYmpiY0lCNTFwTHhMRWZjZHg3aml1QS9hUitFTCtPYkJkYTBKRUd2V2tlMHg5UHRNWS9oei9BSGgyL0tnRDJYU3IrMDFuU2JlOXNaVW5zN3FNUEc2OGhsSXJ6VFEvZ0w0TjBmeGl2aUsyaXUydUk1alBGQThvTVViazV5QmpKeDJCTmZMZncxK0xYaW40VjNNK2xTVy8yaXlWeUpOUHU4cVltN2xUMVUrM1N2VnB2MnNvVEQrNjhMU0NiSDhWMk51ZndXZ0Q2QytJbmlXeThJK0Q5UzFmVUpsampnaWJZQ2VYY2pDcVBVazRyNHkvWmkwaWZYZmpSWlh5Z2lHeDgyOW1jZEJrRUFmaVdGWkhqSHhqNHcrTS9pVzF0QkE4NTNZdHRQdFZPeVBQVW4xUHF4L1N2cnI0RS9DKzMrSFBoMWxtWlo5WHU4UGRURG9NZEVYMkdUejNQNFVBZW5VVVVVQUZGRmN0cm54QzhKYURyQzZWckd2Mk5wcURZL2N5UHlNOU05aCtOQUhVMXdYeG0rSU1mdzQ4SnJxeHN6ZVR5ekxCREZ1MnFXSUp5VDJHQWE3eFdES0dVZ3FSa0VkQ0s0bjR6ZUVJL0czdy93QlQwb3FEY2hQUHRtN3JLdkl4OWVSOURRQnpYd0wrTUVmeEtGL2EzVmtsaHFWb0JKNWFTYmxrUThaR2VlRC9BRHIxeXZ6ZitGdmlpNThCZkVMVDlUYmNpd1RlVGRSbnZHVGgxUDhBUDZpdjBhczdpTzd0WWJpQmc4TXlDUkdIUmxJeURRQjUzNHQrQzNndnhWNG0vdDNWYkNVM3JFTktJcFNpVEVkQzRIWHAyeFhvOE1hUXdwSEdvVkVVS29IUUFVK2lnQkpBU2hDbkJJNE5mRjJoL0NmNGlRZkdXQzhrc3JtT0tMVXZ0RDZsNW43c3hoOXhPYzVPUjI5NiswcXlkUzhSNkxwbDlEWmFqcXRqYTNjMytyaG1uVkhiNkFtZ0RXcXRxT29XZW1XclhPbzNVRnBicWNHV2VRSW8vRThWWkJCQUlPUWErVy8yM05VbVcyOE5hWWpzSVhhV2QxQjRZamFCbjZab0ErbTlPdjdQVXJWYm5UcnFDNnQyKzdKQzRkVCtJcXpYemIreExMY1A0VjhReHlTczF1bDJubG9Ud3BLZk5qNjhWOUErSTlXZzBIUWRRMVc3L3dCUlp3UE80empJVVp4K05BR0Y4UmZoNTRmK0lOamIyM2lLM2tmN094YUdXSjlqb1Qxd2ZRMXBlRFBDdWsrRGRCaDBqUUxiN1BaeGt0Z3NXWm1QVm1KNmsxODYvQzc5b25YdkVueEdzTkkxV3hzVTA3VUpqRWdoVWg0czUybkpQUHZ4WDFOUUFVVjVIKzBSOFVadmgxNGV0VjBnUVByVjg1V0VTamNJMEgzbjI5K3cvR3N2OW1mNG02NTQvdE5YaThSTEE4OWlVS3p4SUUzQnM4RURqSXhRQjdoUlJSUUI0TCsySHJlcWFYOFBMTzEwMW5qdHIrNThxNmtRSE93RElYUFlFL3lyeFQ5bWY0V254bDRoR3M2dkUzOWhhYzZzUXk4WEVuVUtENkRnbjhQV3Z0NitzclcvdDJndnJlRzRoYnJIS2daVCtCcGJPMHQ3RzNXQ3lnaXQ0Ris3SEVnVlI5QUtBSlZVS29WUUFvR0FCMnJoUGpub2N2aUw0VStJdFB0c21kcmZ6WTFIOFJqWVBqOGR1Szd5a1pReWtNTWcwQWZGSDdJZmkyMTBIeDFkNlRxTWl3cHFzUWpqZHpnQ1ZUa0xuM0dmMHI2NzhiZUZkTThaK0hMblJOYmlhU3pud1NVYmF5TURrTXA3RVY4bGZ0Qy9CaSs4TGF2TjRrOEx3U3k2Sk5KNXNrY0FKYXpjbk9lT2R1ZWg3VTd3RiswenJ1ZzZkRlllSXJGTlpTRmRpVDcvQUM1U0IwREhCQit1TTBBZlN2d3YrRjNoL3dDSEVWMk5DRnhKTmRZODJhNGNNNUE2QVlBQUhXdk12Mnh2Rjl0WmVETGJ3MUZJalgyb1NyTEpIMUtSSWM1UHBsc2ZrYTVQWGYycnJ1V3hlUFEvRHNkdGRNQ0JMY1Q3d3Z2dEFHYTh4OEIrQ3ZGSHhtOFp5M3Q5Tk04RHlCNzNVWlI4cUQrNnZiT09paWdEM1g5aXpSSjdUd2hyR3JUS1ZpdmJrUnhaR053UWNuNlpPUHdOZlJ0Wm5oblJMTHc1b05qcEdseENLenRJaEVpajI2ays1UE5jajhkL0Yrb2VDUGh2ZjZ2cEVTdmU3a2hqZHhsWWk1eHZJNzQvbmlnRGI4WWVPL0RQZzJORzhTYXZiMlJrKzRqWloyK2lxQ2YwclI4TStJZEs4VDZURnFlZzNzVjdZeVpDeXg1NmpxQ0R5RDdHdnpsdDdieEo4UVBFZ1dGYnpWOVh1bXlTU1dQMUo2QUQ4aFgzTjhBdkFOMThQUEFxNmJxTndzMTljVEc1bVdQbEkySUEyZzk4WTYwQWVrMFVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUZhNi8xOXYvQUwzOVJWa1ZXdXY5ZmIvNzM5UlZrVUFGRkZGQUJSUlJRQkRlZjhlei9oL09ud2Y2bVA4QTNSVEx6L2oyZjhQNTArRC9BRk1mKzZLQUgwVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQ09vZFNyQUVIZ2cxNEg4WWYyZU5MOFR0TnFuaFF4YVpxN2ZNOE9NUVRINkQ3cDl4eFh2dEZBSDVvWDFuNGwrSG5pWHk1eGVhUnF0czJWWlNWSndlb0k0WWZwWDJ0K3psOFJiLzRoZUVybWJXSW8xdjdHVVFTU3hqQ3lnakliSFkrb3J1ZkYvZ3p3LzR3dEJiK0l0THQ3MUY1VXVDR1g2TU1FZm5VdmhId3JvdmhEUy83TzhPMkVWbGFiaTVWTWtzeDdrbmtuNjBBVVBGL3crOExlTUVJOFFhTmEzVW1NQ1lMc2xIL0FBTmNHdUdqL1p3K0hTU2Ivd0N6cnh2OWxyeDhmenpXSjRvL2FSMDNRdkh0em9IOWpUejJ0cmMvWnByb1NnSGNEZ2xWeHlBZmV2ZW9aRW5oamxpSVpIVU1wSGNHZ0RFOEwrRU5COEsyM2tlSDlLdExGTVlZeEo4emZWanlmeHJKK01uaUxVdkNmdzMxbldORWlFbW9XOGErVVdYY0V5NFV1UjN3Q1RYYUNvN3EzaXU3YVczdVkxbGhsVW82TU1oZ2VvTkFIeUY4SXYyamRYdHRjRm40OXV2dG1uWERiUmRDSlZhM0o3a0tCbGYxRmZYdHBjdzNkdEhjVzBpU3d5S0dSME9Rd1BRZzE4ZmZHVDluZlZySFcydnZBVmsxOXAxeXhZMml1b2UzSjZnYmlNcjZlblN2b2o0RmVHOVY4Si9ETFNkSjE5ODM4ZTkyajNidktETVdDWjlnYUFPK3I1ZitMWDdQZmlEeFY4UjczWE5LMUN4RmxmeUxKSjU3c0hpd29VZ0RCeU9NanBYMUJSUUJVMGl6L3MvU3JPejNtVDdQQ2tXODlXMmdEUDZWYm9vb0ErRnYycXZCWC9DTWZFSjlUdEVDNmZyR1oxQUdBa294dlgrVGZqWHUzN0p2alp2RWZnTTZQZXliNzdSeUlRU2ZtYUUvYy9Ma2ZnSzZqOW9Md09QSEh3N3ZiZTNoOHpWTE1mYXJQSFV1bzVYL0FJRU1qNjRyd1Q5a3p3bjRvc1BpSkxxTTlsZDJHbHhXN3gzUDJpSW9KU2Z1cU05U0RnL2hRQjllNmxjZlpMRzR1TnBmeVkyazJqcWNET0srUnZCWDdTUGlhNDhmMnNHdS9ZMjBTNnVSQzBTd2hXaFZqZ0VNT1NSeG5PYSt3SFZYUXF3QlVqQkI3aXZ6OThXZkRIeFBhL0ZDL3dCSzB2UnIyVU5mTWJhVllXTVpSbXlyYnVtQUQraG9BL1FRRUVBam9hL1BUOW9tYTZmNDBlSmpkU2xuanVRc1pCKzZnUmRvSDRZcjlBdE1qbGgwMjFpdVNHblNKRmtJNkZnb3ordGZGZjdUSGdqeEJjZkY3VWJ6VHRFdmJpMXZoRTBNc0VKZFpHMktwNmREa2Q2QVByUDRYWDc2bjhPZkRsN0p1THpXRUxNVzZrN1JrMTh5ZnRzWEFmeG5vRUFZNWpzV2NyMkdYUDhBaFgwcjhJZEd2OUErR25oM1M5WUJXL3RyVUxLcE9kaEpKQy9nQ0IrRmZOLzdYWGhyeEZxbnhDc2J1eDBxOXZMQTJTUlJ5UVFsd0gzTVdCMmpnOGpyUUI2Rit4alorVDhOZFF1VEdGTStvT0ErZnZCVVVmcHpXcCsxcjRnR2ovQ21leWprMjNHcVRKYmdEcVVCM04vSUQ4YTNmMmN2QzE5NFIrRm1uMk9yUW1DK2xra3VaWWoxVGNlQWZmYUJYbDM3Wk9qZUlkV20wQTZicHR4ZDZaQ3I3bWdRdVZsWWpnZ2NqZ2RmclFCNXoreUpvQzZ0OFV4ZnlydWkwdTNhY1o2YjIrUmY1ay9oWDNHN0JVTE1RRkF5U2V3cndmOEFaTDhDMzNoZndwZjZucmRrOXBmYWxJTmtjb3c0aVVjWkhiSnlhOU4rSzhPczNIdzcxNkR3eXU3VnBMVmtoR2NFNXh1QTk5dTdIdmlnRDRmK1BYak9UeHg4UnI2NWlMR3l0VDlrdEUvMkZKNStwT1QrVmZYbjdPL2dqL2hDdmh4WlJYTVlYVTc3L1M3bzQ1QmI3cW42TGdmWE5mTC9BTUR2aFZxK3ZlUDdNNjdwVjdhNlhaUDU5dzl4RVVERlRrSU05U1NQZml2dThBQUFLQUFPQUJRQXRGRkZBQlJSUlFCd1B4ZitKbWwvRGpRR3VydGxuMUtZRmJXelUvTkkzcWZSUjNOZlAzd1orTjNqZnhIOFV0TzA3VTdpTzcwNi9sWkh0MGdWUkN1Q1F5a0RQR0IxSjRxMyswZjhLUEd2aWI0a3RxbWkyVW1wNmZjeFJwR1ZsVUNEYXVDcERFWUdRVGtldGV2ZkF6NFIySHc2MGtUM0FqdWRmdUVIMmk1eGtJUDdpZWc5VDNvQTlVZFZrUmtkUXlzTUVFWkJGZWRlS1BncDRDOFNYSDJpKzBLS0djbkprdEhhQXQ5UXB3ZnlyMGVpZ0R5YlNmMmZQaDNwdHlsd3VqeVhMcDBXNXVIa1g4VnpnMTZocDFoYWFiYXBiMkZ0RGJRSU1MSENnUlFQb0s0UDQwL0U2MStHZWpXZDNOWXZmWEYzS1k0b2xmYU9Ca2tuOFJVL3diK0kxcjhTdkRrK3BXMW85bk5iemVUTkF6YnNIQUlJUGNFR2dEdnFyNmhZMnVwV2N0cHFGdkZjMnNvMnZGS2daV0h1RFZpaWdERzhQK0Y5RDhPcTY2RnBObHA0ZjczMmVJSVQ5Y1ZzMFVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFCV3V2OEFYMi8rOS9VVlpGVnJyL1gyL3dEdmYxRldSUUFVVVVVQUZGRkZBRU41L3dBZXovaC9PbndmNm1QL0FIUlRMei9qMmY4QUQrZFBnLzFNZis2S0FIMFVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFmTU90L3RTLzJmNHJ1N0tMdytzdW1XODdRbVV6RVNzRk9DY1l3T25TdlovaDU4VVBESGoyRWYyRmZyOXJDNWV6bUd5WlBYanVQY1pGZWNmRkw5bS9TUEV0NWQ2cjRjdWpwbXB6c1pIaWY1b0hjOVRqcXVmYmoycmkvZ3A4Q3ZHUGhqNGw2ZnJHc2kydGJDd1oyTHhUaHpObFNvVUFkam5uTkFIMWxSUlJRQVVVVVVBZVM2LzhBQVB3ZnJmalIvRWR5dDJrMHN3bm10bzVBSXBYSEpKR004bms0TmVzSWl4b3FJQUZVWUFIWVU2aWdCS1dpdUQ4ZC9GandqNEgxV0RUZkVHb1BGZVNxSDh1T0ZwTmlub1d3T0tBTzhvcXZwOTdiNmpZMjk1WXpMTmF6b0pJcEVQREtSa0VWWW9BYkk2eHFXa1lLbzZrbkFGVXY3WjB3RWc2alpnK2huWC9Hdm52OXIvWEw2MlRROUl0cmlXRzF1RmttbVZHeHYya0FBK3ZVMTh4QVk2VTByZ2ZwRi9iR21mOEFRUnMvKy82LzQwZjJ4cHYvQUVFTFAvdit2K05mbkVxOUttQ1ZYS0p1eCtpNTFmVFQvd0F4Q3p4LzEyWC9BQm8vdGZUZitnaFovd0RmNWY4QUd2enRVY1UvWlJ5aTVqOUQvd0MxdE8vNkNGcC8zK1gvQUJvL3RiVHYrZ2hhZjkvbC93QWEvUE5SUzRwOGdjeCtoZjhBYTJuZjlCQzAvd0MveS80MGYydHAzL1FRdFA4QXY4ditOZm5waWpGSElITWZvWC9hK25mOC93RGFmOS9sL3dBYVgrMXRPLzUvN1Qvdjh2OEFqWDU0a1V3clJ5QmMvUkgrMTlPLzUvN1QvdjhBTC9qUi9hK25mOC85cC8zK1gvR3Z6cVphaklvNUE1ajlHZjdYMDcvbi90UCsvd0F2K05IOXI2ZC96LzJuL2Y1ZjhhL09GbHFNaWprRG1QMGgvdGZUZitmKzAvNy9BQy80MGgxclN4d2RScy8rL3dDditOZm0weTFFUlJ5QnpINlUvd0J0NlgvMEVyUC9BTC9yL2pSL2JlbGY5Qk94L3dEQWhQOEFHdnpSSzgwM0h2U2NMQnpINmJXMnBXTjAreTJ2TGFaLzdzY3FzZjBOV3EvTTNROVp2ZEMxVzMxRFM3bVczdW9IRHE4YkVkRG5COXEvU2pTNXpkYVphWEQ0M1N4STUrcEFOUzFZYWR5MVJSUlNHWit2YTFwdmgvVEp0UTFtOWhzN09JWmFXVnNEOFBVK3dyelR3ajhmZkIvaWp4WkRvTmliMk9lNGZ5N2VhYUlMSEszUEhYSXpqak5mTW43UnVxK0pOYStLbXJhZHFRdXpiMnM1aHNyVlZPM3kvd0NGbEE2azljMTZQK3oxOENOVXROWjA3eFY0c0RXYTJ6Q2Uxc3YrV2pOL0N6LzNRT3VPdEFIdjN4TStIbWkvRVRTWWJIWFJPb2dmeklab0gydWg3OVFRUWZRaXAvaHg0RTBmNGY2Q2RLMEpKZktkekxMTE0yNTVIUEdTY0Q4cTZxaWdBb29vb0FLcjM5OWE2ZmJQYzMxeERid0lNdEpLNFZRUHFhK2MvaWQrMDFaYVpjWE9uZURySTNsekV4ak4zY0RiRUNPTXF2VTgrdUsrYmZFL2pMeFg0LzFRdHF0L2VYODBoK1MyaUIyTDdMR3ZINlVBZlUzeEIvYVk4TzZLN1czaGlCdGF1bEpEUzVNY0svUWtaYjhPSzYzNEUvRlgvaFoybmFpODJuaXh1ckYxVndyN2xZTURnanYyTmZPdnc5L1p1OFQ2K3NOMzRoZGRFc1grYmE0M1RrZjd2OFA0L2xYMWQ4TmZoOW9mdzkwZDdEUVluekt3ZWVlVnQwa3JEdVQwL0FVQWRmUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUJXdXY4QVgyLys5L1VWWkZWcnIvWDIvd0R2ZjFGV1JRQVVVVVVBRkZGRkFFTjUvd0Flei9oL09ud2Y2bVAvQUhSVEx6L2oyZjhBRCtkUGcvMU1mKzZLQUgwVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFCNUg4Y3ZqSEg4TXA5T3RZOU1OL2RYaU5KZ3liRlJRY2RjYzFSK0h2N1JQaFB4TzhkcnFyTm9tb053RnVHekV4OXBCd1B4eFhWZkZyNFdhTDhTYkdCTlRhYTJ2TGJQa1hVSitaUWVxa0hnanBYeWQ4UlAyZnZGM2hNUzNWbEFOWjAxY256YlFaa1VlckoxL0xOQUgzWmJYTU4xQ3N0dEtrc1RES3VqQWdqNjFMWDUwZUFmaVI0dDhCNnBHdW1YdHdJRmNDV3duRzZOL1VGVDArb3dhL1EzUzdscnpUclc0ZE5qeXhKSXlmM1NWQngrdEFGcXZBZmpWOEJiang3NHpYWGJEV0lyTVNSSkhOSExHV3dWNEJYSHRYdjFGQUdSNFIwV1B3NTRaMHpSNEhNa2RsQWtDdWVyYlJqTmE5RkZBSHl6KzJOL3lIL0RmL1hyTi93Q2hyWHp5QjByNkgvYkZIL0UrOE4vOWUwMy9BS0d0ZlBxRGdWY1FGVVZNb05OUVZZUmFzellLdE94VHdLY0ZxZ0dxdFNBVTRDbmJhQ1NMRkdLbjIwYmFBS3pJRFViSVJWdGtxTmxvQzVUWmFqWmF0dXRSTXRBcmxObHFJaXJUTFVUTFFWY3FNT2FpSXEwNjgxQXdxUmtCV295S21OUnNLVEdRRWM5Sy9UVFFPTkEwMy9yMmkvOEFRUlg1blYrbU9nLzhnSFRmK3ZhTC93QkJGUklwR2hSUlJVaklaTFcza2xXV1NDSnBWNk9WQkkvR3BxS0tBQ2l2RVAyblBpVHJ2Z0xUTkpqOE9DS0dlOWQ5OTFKR0gyQlFQbEFQR1RtdWgvWjY4YjZwNDg4QkRVdGNqakY3RE8xdTBxTHRFb0FCRFk3ZGNjY2NVQWNwOFdQMmc0UEF2alNYUUlOR2E5TnNxRzRsTTJ6QlpRMkZHRG5BSXIyblI3K0RYZEJzNytGV0Z2ZTI2eXFyY0VLNjV4K3RjTDQ4K0MvaEh4dDRpajFyV0xlNFc4d3F5bUNYWUpnQmdCaGowNHlPYTlFc3JhR3lzNExXMWpXSzNoUVJ4b3ZSVkF3QlFCODFOK3lyYVMrSVpiaWZ4REovWmJ5bVR5VWh4S0FUbmJ1SngrT0s5dThEL0R6d3o0SnRoRjRmMHlLQ1VqRDNEL1BMSjlXUE5kYlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFGYTYvMTl2L0FMMzlSVmtWV3V2OWZiLzczOVJWa1VBRkZGRkFCUlJSUUJEZWY4ZXovaC9PbndmNm1QOEEzUlRMei9qMmY4UDUwK0QvQUZNZis2S0FIMFVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFCd0h4bCtKTnA4TlBEMXZxRnphU1hrOXpMNU1NS050Qk9Na2s5Z0JYbGZoMzlxclJyaVVSNjlvbDNacWYrV3R1NGxBL0E0TmV6L0V2d0hwSHhDOFAvd0JsYTJKVlZIOHlHYUk0ZUo4WXlPeCtocjV4OFEvc3FhbkVYYlFOZXRaMTZoTHRER2Z6R2Y1VUFlLytHUGkzNEk4U0t2OEFadmlDMEVqZjhzcmdtRjgrbUh4bjhLN3BHVjBWMElaV0dRUjBJcjg4TmUrRG5qN1E1eWx4NGR2SjB6Z1MyZzg1Vy83NXlmekZmWC83TjJqZUlkRCtHTnJhZUtoTkhkbVozaWhuT1hpaU9OcW4wN25IYk5BSHFORmVKZkdmNDd4ZkR2eEpGb3R2cEJ2N255Vm1sWnB0aXFHNkFjY25pc253eCsxSDRXdjNTTFhMQyswdHoxa0FFc1kvTG45S0FQb09pdVg4TytQL0FBcDRqaUQ2TnIybjNPZjRSS0ZiL3ZrNFA2VjFDa01BUWNnMEFZRjU0TzhPM3VvcnFGM29lbVRYd0lJbmt0VUw1SGZPSzFkUU0wR21YVFdhaHJoSW1NUzQ2c0FjZnJWcWlnRDg5WS9pMThRZEI4VXoza3V1WC8ydFpXTWx0ZEV0SDE1VXhuZ0Q2WTlxK29QZ1Y4Ym8vaUpmUzZQcU5nTExXSW9QT3pHMjZLVlFRQ1Jua0hrY1YyM2o3NFplRi9ITnV5NjNwMGYybkdFdTRma2xYL2dRNi9RNXJBK0Zmd1UwRDRkNnJjNmxwOXpkM2w1TWhpRDNHM0NJVGtnQURyd09mYWdEMU9pdkp2MmgvaVhmL0RmdzlZVDZSYTI4OTVlVEdOV3VBU2tZQXlUZ0VaTlMvczlmRUxWZmlKNFZ2TC9XN1NDQ2UzdVBKRHdLVlNRYlFjZ0VucG1nRHpEOXNUL2tPK0cvK3ZhYi93QkNXdm4xT2dyNkQvYkRHZGQ4Ti84QVh0Ti82RXRlQUl2U21nSG90V0VYaW80MXEwaThWcWpOaUt2TlNxbE9SS21WT0twRWtRanhVZ1RqcFZpQ0hjY1lxMkxDVmg4aVZjYWNwN0lpVTR4K0ptWVVPQmpGS1k4RHFLMURwczBhQm1XbVhGbThTQnlweFYrd25GWGFKOXJHV3pNeGtxTmxxNHljZEtpWkt6WnBjcHVsUXN0WFhXcTdyVXNDbTY4MUM2MWNkYWdjVkpSVVlWQXdxMDQ1cUNRVXdLckRtbzJGVHZVTGppa01nTmZwaG9QL0FDQWROLzY5b3Y4QTBFVithSkhQU3YwdTBIL2tBNmQvMTdSLytnaW9rVWpRcXBxOS9CcFdsM2VvWFpLMjlyRTgwaEhVS29KUDhxK1U5Ui9hWThTVzNqZDdKZElzVTArSzYrenRBeXQ1cEFiYVR1endmd3I2cXZMYTMxalNaclc2UXRiM1VKamtUUFZXWEJINUdvS1BqbjRqZnRLK0lOY1NXejhMeERSN05pUjV3K2FkaDllaS9oejcxMmY3SVhpZnhWcmVyYTFEclY5ZlgrbExDSFdXNmRuQ1M3dWlzZlVaeUs2M1EvMlp2QmVuYXVieTdsdnRSaERia3RiaHdFSHNkb0JOZTA2YnA5bnBsbkhhNmZiUlcxdkdNTEhFZ1ZSK0FvQWcxdlJOTDEyMUZ0clduMmwvYmc3aEhjUkNRQStvQnFmVE5PczlLc1lyUFRMV0cwdEloaElZVUNJdjBBcTFSUUFVVVZ5SHhBK0kzaHJ3RkhiSHhKZkdDUzVKOHFKSTJkMkE2bkFIQTl6UUIxOUZadmh6WGRPOFNhTmI2cm90MGwxWTNBekhJdVJubkJCQjVCQkhRMXBVQVp1c2E3cGVpdyticStvV2xsR2VRMDh5cG44Njh0OFVmdEdlQTlGTHgybDNjYXJjTHh0czRqdHovdnRnZmxtdkQvMmtQQTNqYlZmaW5xRjNCcGVvYWxwOCt6N0k5dkcwaUlvUlJ0d09oQnovQURySThMZnMzK090WkFrdm9MWFI0VHptN2x5NS93Q0Fway9uaWdEMUxTZjJxTE84MTYzdFovRDAwTmpOS3NmbWljTTZnbkdjWXgrdGZUQ2tNb0lPUVJrR3ZuZndIK3pGcEdqNmpiWC9BSWkxU2JVNVlIRWd0NDA4dUlrY2pKNmtmbFgwU0FBQUJ3QlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFCV3V2OWZiL0FPOS9VVlpxdGRmNiszLzN2NmlyTkFCUlJSUUFVVVVVQVEzbi9Icy80ZnpwOEgrcGovM1JUTHovQUk5bi9EK2RQZy8xTWY4QXVpZ0I5RkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQjVaOFhQZ3RvZnhIdTQ3KzVubnNOVWpqOHI3UkRnaDFIUU1wNjRyd1h4TCt5ejRtc2xhVFF0U3N0U1VkSTVNd3ZqOGNqOWEremFLQVB6WjEvNGUrTVBDN0Y5WDBIVWJWVlArdEVaWlA4QXZwY2lwZkRueE04WitHcEFOSzhRWDhLcndZcEg4eFBwdGJJcjlINUVTUlNzaXF5bnNSbXVWOFIvRG53ajRqaGFQVjlBc0ppdzVrV0lSeUQ2TXVEUUI4eWVIUDJwL0VOcXFwcnVrMlYrQjFraEpoZHZyMUg2VjdaOE12anY0WThjNmxEcFNwYzZicTBveWtGd0FWa0lHU0ZZZFQ3SEZjbDRsL1phOE4zZTk5QjFPKzA1enlFa0lsUWZuZy9yVkw0WS9zNFhmaGJ4eFlhM3FXdFFYTU5qSjUwY2NNYktYYm5HU2Vnb0ErbEtXc0x4enFsem9mZzNXdFRzSWhOZFdscEpORWhHUVdWU1J4WHhUWWZ0RWZFTzB2amNUYW5iM2FzY3RCTmF4N0I3RGFBUitkQUgyMTRxOE1hTjRyMHc2ZjRoc0liNjAzQmdrbWVDTzRJd1Fmb2F0YUhvK25hRHBrT242Tlp3MlZsRjl5R0ZkcWozOXo3MTh5K0dmMnJWM0tuaVRRQ0JqbVd6bHovNDYzK05lL2ZEbng3b3Z4QTBpWFVOQWtsYUtHVHlwVWxUWXlOak9DUDZpZ0R3cjlzSC9rTitHLzhBcjNtLzlDV3ZBWWh4WHY4QSsyQi95Ry9EZi9Ydk4vNkV0ZUJ4RGdVMEprc1lxM0dPQlZlTVZjakhGYW9oa2lMVTZKVFl4elZsRjZWU0pMZWtXL216RE5kWEhhQlZHQlhPYVFka3d4WFhRdDhvSnIyOHY1ZVU4WE1wUzVsWXJTV3ZtRlJnaytsVTlhc25Hbk5zVEFISnJwOU1oREZwR0hIUVZZMUswQ2FYUDh1N2NoSjlxOUtwUVU2YjlEeG80MTA2cVhtZVNGT0tpZEt1c2xRdXRmS3MrdlRLTHJWZDFxOUl0VjNXb1phS0xyelZlUmF1dXZXcThpMUpSU2tGVjNGWEpGcXM2NG9BcU9LaVlWWWtGUXVLQUlhL1NyUWYrUURwMy9YdEgvNkNLL05adXRmcFRvUC9BQ0FkTy82OW8vOEEwRVZFeTRuT2FoOE0vQitvK0pvdGZ2TkN0Wk5VamJmNW1DQXpmM21VSERIM0lyc2xVS01DdkN2R0g3UzNoUFFydTRzOU90YjdWTG1GaWpGRjhxUGNEZzh0eWZ5cnlIeFArMUQ0c3Y4QWRIb2RuWTZYR2VqbGZPa3gvd0FDNHorRlFVZmFVc2lSSVdsZFVVZDJPQlVkdGN3WFNscmVhS1ZSMUtNR3grVmZtenJualR4WDRwbUkxWFdkU3ZpeHo1WG1OdC9CQndQeXIzMzlqL3cxNG9zdkVtbzZ0ZjIxN2FhSzlyNVdMZ01vbWNzQ3BWVDF3TTgrOUFIMWZYalA3VWZqRHhCNE84RTJWeDRhbGEybHVibnlaYmxVREdOZHBQR1FRQ2NkYTltcUs2dG9MdUJvYnVHS2VGdXFTb0dVL2dhQVBHdjJXZkdYaUx4aDRSMUdYeFBNOTFKYTNJamh1blVLemdya2c0QUJ4Nis5UCtQZndibitKVjdwbDlZYW5IWlhWcEcwUkVxRmxaUzJleDRJNXIyRzB0YmV6aEVOcEJGQkN2UklrQ3FQd0ZUVUFjZjhKL0JpK0FmQk5sb0szSnVtaEx1OHUzYnVabUpPQjJGZGhSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUZhNi8xOXY4QTczOVJWbXExMS9yN2YvZS9xS3MwQUZGRkZBQlJSUlFCRGVmOGV6L2gvT253ZjZtUC9kRk12UDhBajJmOFA1MCtEL1V4L3dDNktBSDBVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJVRi9kd1dGbFBkM2tpeFcwQ0dTUjI2S29HU2Fuck44UzZSRHIvaC9VZEp1V1pJYjJCNEhaZW9EREdSUUJ4dmdINHcrRWZIT3VUNlJvZDNQOXRqQlpFbWlLQ1pSMUtIditPRFhvbGVDL0I3OW4vL0FJUUx4bXV2M2VzcmZHQkhTQ0tPSXB5d3hsaVQ2RThDdmVxQUd5T3NhTTdzRlZSa2s5QUt6WS9FV2pTdTZSYXRwN09od3dGd25INjF6bnhxMFhWdkVQd3kxelRQRHhJMUtlSUNOUTIwdUF5bGxCN1pBSS9HdmcyLzhCK01kT21aTHp3N3JFVDg1LzBaem4zeUJ6UUIra2NOMUJNTXhUeE9QVlhCcWF2ekdBOFJXSFFhckJuMmtYTldiWHhqNHFzY2VScnVydzQrWGk1Y2NlbldnRDlNS0svT216K0wvd0FRTE1wNVBpdlV6czZlWTRmODl3T2Z4cjYyL1puOGQ2NTQ2OElYcy9pTXBMZFdkd0lWdUZqQ2VhcFhQSUhHUjdBVUFld1VVVjVkOGFmaTlZL0RKYkNLV3hrdjd5OERNa2FPRUNxT0NTYUFQVUhWWFVxNERLUmdnamdpdk5QRlh3UDhCK0pHZVNmUlk3TzVia3pXYkdJaytwQTRQNVY1ZmEvdFlhY2RuMnJ3MWRKL2U4dTRWdjZDdDJ4L2FtOEhUTEg5cjAvVjdkbSs5aU5IQy9pRzUvS2dEbXRmL1pQaFp5MmcrSW5qVW5pTzdoM0VEL2VValA1VjdOOEdmaHpiL0RYd3MrbVJYVFhkelBMNTA4eEcwTTJNQUFkZ0JYTjJmN1J2dzd1V0FmVXJ1M0pPUDMxby9IdmtBMTZSNFQ4VWFQNHQwb2FsNGV2bzcyekxGQzZBakREcUNEZ2cvV2dENTcvYS93RCtRMzRiL3dDdmViLzBKYThEaTZDdmZQMnYvd0RrTitHLyt2ZWIvd0JDV3ZBb3Z1MVVWY1RMY0lxMUdPbFZJanpWcUk4Vm9rUTJYWWxxeWkxWGhOVzQrMVVrUzJXck03SEJycGJlYmZDSzVlTTlLNkRTem1NVjM0T2JUNVRneGtGSlhPbTBzTTZqbmdDdWl0clVYTUxSa2svTFhQYWJsRkh2WFkrSDAzYlNlL0ZmUVNsYWtmRVk2WExKdEhobDNGNVU4cStqRWZyVk54bXQvd0FYMnd0UEVlb1JLY3FKaVI5RHpXQkp4WHk5UldrMGZlVVpxZE9NMTFTSzdqclZTVWRhdHUzV3FrcDYxaTBkQ1pXZnBWZDZzUDBxdTlLdzdsZDZyeVZZZXE4bldpd1hLMGxRUDBxekpWZHU5SW9nZnJYNlVhRC9BTWdIVHY4QXIyai9BUFFSWDVydUsvU25RZjhBa0JhZC93QmUwZjhBNkNLaWFzWEUrYS9GbjdMY3VvK0ticTgwalhZWU5NdVpXbE1VMFJhU1BKeVFDT0c1UHRYVCtHUDJZUENPbmhIMXU2dnRWbEJCMmwvS2ovSmVmMXJzdGY4QWpmNEEwSzh1Yk8rMTFXdXJkekhKSERCSklRdzZqSVhCL091YnZmMm1mQUZ1RzhoOVV1U09ubDJ1QTMvZlJGWmxIcG5oN3dYNGE4T0lGMFhRN0N6SUdOMGNJM0g2dDFOZENCd0FBQUJYenBlL3RXZUc0NUdGbm9lcVRyL0NYWkk4L3FhekUvYXdzamVSaVR3emNMYms0ZGhjcVdBOVFNYzBBZlQ5RlZOSnY0ZFUweTF2N1VrMjl6RXMwWlBkV0dSVnVnQW9yNGorTHZ4dThkTDQyMWpUZFAxSjlKc3JPNGUzU0dDTlF4Q2tqY1dJSnlldld2T0x2NGxlTmIwc2JueFJyRDd4Z2dYTEFZK2dvQS9TQjVFVDc3S3YxT0twM09zNlpiWiswYWhaeFlHNCtaTXE4ZXZKcjgySk5WOFIzLzM3N1ZybmR4ekxJMmZhblFlR2ZFMm9qTVdrYXZjZ0hia1c4amYwb0EvUTI4K0lIaEd5ejlxOFNhUkhoZDNOMm5JL09zSzgrTlh3OHRSbVR4Ull0eG5FWWQvNUthK0tMUDRUZVBMc0V3ZUZOVzRPUG5nS2YraFlyb0xMOW56NGozV2YrSkdrR1A4QW50ZFJMLzdOUUI5TFgvN1NQdzh0Z3ZrMzE3ZDVCLzFOcTR4OWQySzMvaG44WXZESHhEdlpySFJudW9MK0pQTU52ZFJoV1pjNEpCQklQYnZYelBaL3N3ZU9wcytmTHBFQUdNWnVHYlA1TFhzdndNK0JFL3crOFNOcnVwNnJGZDNJaGFLT0tCQ0ZYZGpKSlBXZ0QzbWlpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBSzExL3I3Zi9lL3FLczFXdXY5ZmIvNzM5UlZtZ0Fvb29vQUtLS0tBSWJ6L2oyZjhQNTArRC9VeC83b3BsNS94N1ArSDg2ZkIvcVkvd0RkRkFENktLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0NLUzNoay8xa01iL3dDOG9OVWJqUU5JdVJpNDB1eGxIWEQyNkgrbGFkRkFITFhmdzg4SFhnWVhIaGpSbjNIY2Y5RVFFbjZnVnU2VnBkanBGbXRwcFZuYjJkcXZJaWdqQ0tQd0ZYS0tBQ3ZPZmkzOEp0SStKVU5tZFN1YmkwdXJUY0lwNEFDY04xQkI2aml2UnFLQVBsZSsvWk5BSit3K0tXeG5nVFd2K0RWaDNmN0tmaUJDZnMydmFaS08yOUhRL3dBalgyR3pCUmxpQjlUaXM2Zlh0SXR4bTQxT3lpR2NmUE9vL3JRQjhaWDM3TVhqcURlYmQ5S3VRdlRaY2xTMy9mU2l2b3o5bm40ZVgvdzc4R3oybXJ6eHlYOTVQNThrY1J5c1hBQVhQYzhjMTFkNThRUENObUgrMCtKTklqMmZlQnUwNC9XdGpROWEwM1g3QmIzUmI2M3ZyUmlWRXNEaDFKSFVaRkFIemQrMkNmOEFpZCtHL3dEcjJsLzlDV3ZBWW00cjMzOXNQL2tPK0cvK3ZhYi9BTkNXdm45T2xheDJJa1hvalZxSTFRamJwVmhHclJJemJOU0pxdEkxWmtibmlyS1BnQ25ZbTVveHVBYTZQUlNHaUZjaWo5SzZMUkp0b1VacnF3cjVaNm5MaWZnTzYwM1p1Ry9PMEN1dzhPc3JTbFZ6dHhYSTZVbm1CRllqQjVycmZEZk1yYk1ZSEZmUlZkYVI4SG1EM1BKZmlEOG5qRFVsUC9QUUVma0s1V1kxMkh4VlR5ZkdGMGYrZWlJLy9qb0g5SzRtVjg5NitjclJ2SnMrMXkrYWVHcCtpL0lqa1BKcXBLY2sxSkkxTVVianhXUEt6dTVoaXd2TnVFYTdpQm1xMTNFOEVoamxYYTNXdlFmQldsTEpaVFhFcWZNVGdHcXZqUFJtZXdtdUk4RTIvSkFIWThHdXo2akwyWHREem5tTVBiK3lQUEpLcnZWaCtsVjNyaTVUMGlDVTFEbk5TU21vaHpTNVMweGRtYS9TTFEvK1FIcC8vWHZIL3dDZ2l2emxpVElyOUc5RS93Q1FKcC8vQUY3eC93RG9Jck90RzFpNmJ1MmZIbmkvOW0zeG5QNHR2MzBscks1MDZlWjVZN2lTY0lRR0pPR1hya1p4eG1tV1g3TFhqQ1ZWYTYxSFNiZjFBZDNJL0phK3FicjRnK0VMVFU1Tk91dkVtbHczc2JGSGllNFVGV0hVSDByUXRmRm5oNjZ4OW0xelRKZDNUYmRJYy9yV0JxZk1Obit5ZnFoeDlzOFMyaWMvTjVVREhqOFNLNlRTZjJVOUhodUkzMUx4QmUzRWFzQzBjVUt4N3ZiSnpYMGJCZTJzNEJndUlaQWU2U0EveXF4UUJXMDYwaHNMRzNzN1pka0Z2R3NjYStpZ1lGV2FTbG9BNTdWL0JQaGpXYjhYdXE2QnBkNWRnNTgyYTJWbUo5eVJ6K05TVy9oRHczYjQ4alFOS2p3ZDN5V2lEbjE2VnUwVUFWWWRQc29GeERhVzhZem5DUktPZnlxeXFxdjNWQStncGFLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BclhYK3Z0LzhBZS9xS3MxV3V2OWZiL3dDOS9VVlpvQUtLS0tBQ2lpaWdDRzgvNDluL0FBL25UNFA5VEgvdWltWG4vSHMvNGZ6cDhIK3BqLzNSUUEraWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLeGZHdHZmM1hoSFdMZlIzS2FqTGFTcGJzRGdoeXBBd2V4elFCcnh6UlNsaEhJamxlQ0ZZSEZQcjVDL1psOExlT05OK0o3M21yV1dwMmVteHhTcmR0ZGhsU1JpUGxBejk0NXdjaXZyMmdDanJlcldPaDZWYzZscTF5bHJZMnlGNVpYNktLNS93SjhSZkRIam8zSytHdFJGekxiOHl4dEcwYktNNEJ3d0dSNzAvNHBlRS8rRTM4RGFub0F1UHN6M1Nyc2xJSkNzckJoa0RxTWl2T2ZnRDhGNzM0Y2F2cUdwNnBxVUYzUGNRK1FpUUt3VlJ1eVNjOVR3S0FQY2FLS0tBUE1mano4VEpQaG40ZXNydTFzVXZMeThtTU1TeU1RaTRHU1RqbjhLK2E5US9hYjhkM0c0V3cweTBCYkkyVys0Z2VuekUxOWcrT1BCMmllTjlIL3N6eEZaaTV0ZzI5TU1WWkc5VlljaXVBc1AyZFBoMWFzalBwVnhjbFNmOEFYWGNoRGZVQWdVQWFYd0E4ZlgveEQ4RlBxV3EyOFVOM0JjTkE1aFVoSHdBY2dFbjFyMDJxR2g2TnAyZ2FiSFlhUFp3V1ZuSDkyS0ZBcWo4QjM5NnYwQWZMbjdZVVhpcHRTMGR0TEdvdG9pd0hmOW0zYmZOM2Z4YmZiR00rOWZPTnQ0UjhUNmpLRnQ5RDFhNGQ4a0FXem5QNlYrbUJBWUVFQWc5alNnQURBR0JRQitjMXA4SlBIMTNzOG53cHF1MStoZUhZUC9Ic1Y5ZS9zMGVCTlg4QytCN2lEWDhSWGw3Y2VmOEFaZzI3eVZ3QUFUMHllcHhYckU4OFZ2R1hubGppUWZ4T3dVZm1hYmFYZHZlMjRudEpvNTRXKzdKR3daVHo2aWdENWgvYkVQOEF4UHZEZi9YdE4vNkV0ZlA2R3ZvRDlzWC9BSkQzaHY4QTY5cGYvUWxyNTlVMTBRK0V4azdPeFpqUHZWbFByVldJOFZhajZWb2tadGx1UHBVeVZCRlZoQjdWZktSY2xSc1ZzYVRMaHdNOTZ6a3RKREFaY2ZMNjFmMFNMenJoVkZiVW92bVJqVmtuRm5vK215WnRvMjlLN2Z3MEZTRDVmdkUxdzFqaUszakQ5NjdYdzZ1NC9LM3k3ZWxmUVZWKzZQZ3N3VGQyZWJmR2VQYjRtamYrOUF2OWE4NGtQRmVwZkhDUEdxNmZKNnhFZmthOHJtNzE0azRhbjFtVlQ1c0xEMElKM3dCVnpSb0ROY0NzK2JraXVpOExSZ3pqTlRTcDgwMGR0ZWZMVGNqMENLT1BUZEhndDA0a2Y1ajlEVWEyajMxcmRRbnBORXlBZXB4eFZIVjd6YzYrdzIwbWtYY3E2cEc1UDNtSHkrZ3IybTdlNnVoOHU0eXM2blhWbmo4c2JSVFNSdDFSaUQrRlFTRGl1azhWNlpMQjR4djdORXdXdU1Mbi9hNUg2RVZRdk5EdkxhT2Q1WThMRTIwbjFyd3BVWmF0SStvamlJdFJiZTZPZmxIV29nZWE2U1R3OU9GM0JsYktiOFkvU3F0cHBZbXM1c2pFdTc1ZndvK3J6dnFhckVRdG9WN0xrQ3YwVDBYL0FKQTFoLzF3ai84QVFSWHdKcE9oelhHbXlYS2RVT2ErL05FR05Ic1Flb2dUL3dCQkZjMkxoS0tpMnR6ZkMxSXpjbEhvZkRueEMrQjNqdXk4VDZuTFo2UE5xbG5MTzhzZHpia1B1REVrWlhPNEg4SzRpOStIbmpQVGhJOXo0YTFpSVJuQmI3SytCK0lGZm8wdXE2ZTE0OW1sN2F0ZHB3OEN5cVhYNnJuSXE1bFQ2VnhuV2ZtUWJQeERweDIvWjlWdHR2emZja1RIdldobzNpL3hqcDE3RTJtYXhyQ1hJWUZFV1YyeWY5M29mcGl2MGtlQ0tRL1BIRzMxVUdvRjAyeFdZU3JaMjRsSEFjUkxuODhVQVYvRGM5M2MrSHRNbjFKTmw5SmJSdk91TWJYS2pjTWZYTmFkSUJqcFMwQUZGRkZBSGh0diswZjRjbThkRHc4TlB1MWdhNit5TGZGaHQzWjI1Mll6alB2WHVMc3FJenVRcXFNa25zSzhYZy9aMjhMUStPVjhSTGRYMjFibjdVTE1zTmdmTzdyMXhudFhzV29XeTN0aGMycnNWV2VOb3lSMUFZWS9yUUI1YmRmdENmRHUyMUdTemsxaVZqSGtHWkxhUm95UjJCQTUvTEZkVDRQK0pYaEx4aGNDMjhQNjFiWFYwVjNlUnlraEhmQ3NBVFh5N3IzN0x2aSszdlpScE43cGw3YkZpVVpwR2piSGJJSXhuOGE2SDRKZkFieGQ0ZCtJT202M3IzMld5dExDUnBDSTV4SThwMmtBQUxrWTU3MEFmV05NaW1pbHo1VWlQdDRPMWdjVnozeEl0ZFV2ZkFldTIyZ09VMVdXMGtXM0t0dE8vSFk5alh6aCt5djRaOGE2VjQrdmJyV0xQVTdMUzF0blNjWFlaVmxrSkczQWJxUWNuSTdVQWZXZEZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBVnJyL1gyLzhBdmYxRldhclhYK3Z0L3dEZS9xS3MwQUZGRkZBQlJSUlFCRGVmOGV6L0FJZnpwOEgrcGovM1JUTHovajJmOFA1MCtEL1V4Lzdvb0FmUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJYblhpRDR6ZUN0QjhWZjhBQ1A2anFqSnFBY1J5YlltYU9KajBETU9oNS9DdlJFWlhRTWhES1JrRUhnMEFMVWR4TkhiVzhrODdySERFcGQzYm9xZ1pKTlNWUjEzVFk5WTBhKzA2WjJTTzZnZUJtWHFBeWtaSDUwQWNoNFArTGZnM3hkcjB1ajZIcXZuWHloaXFQRXlDVUwxS0VqbkZhWHhWMXJVUER2dzgxM1ZkR2pFbW9XdHNYaEJYZGc1QXpqdmdFbjhLOGkrRXY3UE56NEs4ZlFhL2ZhMURkUTJlODI4VVVaVXNXVXI4eEo3QTlxK2gzUlpFWkhVTXJEQkJHUVJRQithZXMrSmZGUGpDOXhxT282bnFsekljQ0xlejU5QUZIRmZZWDdLbmh6WFBEdncrdUYxK0dhMysxWFBuVzhFMlE2SmdESkhiSjV4WHJGajRmMGpUNXpQWWFaWlcweDZ5UXdJakg4UUswaU9LQVBsdjlzVC9BSkR2aHY4QTY5cGYvUWxyNThVMTlEZnRoai9pZStHLyt2YWIvd0JDV3ZueFV5YTZxU3ZFNTUvRVRRaXIxdkdYWVZhajBpV1BTQmVPUGwzZ2ZnYTNmQnVtTGRYbjc3N2kxMTA2RW5KUjduSFZ4TUlRYzc2SXpidlRack1RR1VZODFONCtsWDlIMDVyeVRhT2E3bjRwYWZHbWw2UFBCd3VHUWdmaFdYNE5pV09DU1FqbXVtRkJlMTVlaDVzY2U1NFgyM1gvQUlKWkdtUi9ZWHRsUEtvZnpySThLMi8razU5SzZtQnc5NHVPaDRyTThIV3UrNWtIdWY1MTJPa3ZhUnNja2E4dlpUY3ZMOVRka0hNYWorR3V5OEx0OHlodnZFVmxhWGIySXZXR3BGMWkybkczcm50WFc2S2RJVmJkU0pXWmp0ZkhUSGF0cTFUbGk0MmJPS3BnVmlhQ2w3U01mVm5uWHh0aTNOcDBtT3pEOVJYa00wZld2b2I0amFGTnJkdEViUlZQa3N4d2ZUL0lyaTR2aGpjM0ppYVc1aWpVc3U1UURrRHYrVmNYcytaWE5zdXpHaFF3NmhPV3F1ZVF5SXpOaFFTYTZmdzNielJ5eE02UDg0TEw3NDYxM05yNE1HaTYvTEhHdm5ReUtFVjNISU9jbitsYXRwcHNjY2R2OGdEdzd0dkhZNUpGYjRmQzJmTTJYaXMyaE5jc05VYzRkRXViMkl5aGNLVHdLN0RUZkNrRnY1akZ0em1MYnVic2M4RVZyYWZiL3VJNDhmeFZzMjhPMkYwK3RhMVpjdXg4L1h4dFNTNVk2SEhlS3ZEa04xZFFYQ1E1dUdDbHBPK1ZHUDZWZ2E1b0xOcFlNcS9mYmExZXdRMlF2TGlLTEh6WjRwbmlEUmtSVGJPVlBjRURwV01jVEJOVTJYUnE0aU5KVnJlN0YydWVINkpvWm5OM0hJbnpSSngrRmM1cVdpUFpCNU52eXMyNzhxOXkwN1RFdE5RdXNnWWtUSFQ4NjVmWDlNRnpZM1d4Y21KLzA3MTFYaExUc2RkSE1IS2IxMFp3L2hTelJZcDQ4Zkp1REw5Q0srd2JBYmRPdFFPMFNqL3gydmx5d3NtdDdTM09NZk1FYitsZlVsai9BTWVGdi8xekg4cThqT0k4cXByMS9RK215U3B6MUtyOVAxUHoxK0puaGJ4VjRiOFo2dE5xbHJxRWJQY3lTcmVJR0tTS3pFaGc0NDZZcjBuOW1INGhlTGJ6NGcyV2dYVi9kYWpwTTZPSkVuSmtNSVZDUXdZOGprQWZqWDJKTEJGUEdVbWpqbFE4WWRRUlZUVE5EMHJTcFhrMDNUck8wa2NZWm9ZVlFuOFFLOE0raE5ERkxSWEIvSEhTOWIxbjRZYTFZK0dESi9hY2lMdFdOdHJPb1lGbEI5U29OQUhiMjl6QmNvV3Q1bzVWQndTakFqTlMxOHovQUxKbmhMeGZvR3I2MWNlSWJPOXNkTmxoQ0pGZEFydmwzZmVWVDZEdmp2WDB4UUFVVnpIai93QWRhRDRDMHlLKzhTWFRRUlRQNWNTSWhkNUQxT0FQU3VlOE5mRzN3RDRoWUphYS9CYnpFNEVkNERBVDlDM0IvT2dEMGlpb3JhNWd1b3c5dE5ITWhHUTBiQmgrWXFXZ0Fvb29vQUtBQU9nQW9vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FyWFgrdnQvOTcrb3F6VmE2L3dCZmIvNzM5UlZtZ0Fvb29vQUtLS0tBSWJ6L0FJOW4vRCtkUGcvMU1mOEF1aW1Ybi9Icy93Q0g4NmZCL3FZLzkwVUFQb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb3J4cjlxVHhWNGk4S2VCclc0OE1TeVd6ejNQbHozVVM1YUpjWkFCN1pQZW9mMldQRm5pUHhYNFExR1h4UGNTM1p0N2tKYjNNcUFNNmtaSUpBR2NIdjcwQWQ1OFF2aUo0ZThBV2R2Y2VJN21TSVhERllvNG95N3ZqcVFCMkdSV3I0UDhUNlQ0djBLRFY5QXVoYzJNeElEWUtsU0RncVFlUVJYQWZIajRTUDhBRTZIVEd0dFNTeHViTGVBWkl5eXNyWTlPblN1aStEM2dLUDRkZURvOUZXNisxekdWcDVwZHUwRjJ4MEhZWUFvQThPL2FmK0kvalR3ejQ4dGRPMEc5dU5PMDViWkpZM2lqSDc1eVR1eVNEbkdBTVY5Q2ZEZlZOUTFyd0hvV3Bhekg1V28zTnFrazY3ZHZ6WTY0N1o2NDk2MnJ6VDdPOUtHOHRZSjJUbFRKR0dLL1RJcXlvQ3FBb3dCUUI4M2VPdjJiWmZFUHhCdTljdHRjamdzTDI0KzBUUXZFV2RTVGxncHpnL2o2MTlHMnNJdDdhS0ZTU3NhQkFUN0RGUzBVQUZGRmNmNDYrSkhoYndSYnlQcnVxUXgzQ3J1VzFqTytaL1lLUDY0RkFIWVVWOGEvRUw5cHpXOVZTVzA4SjJnMG0zUEgyaVQ1NXlQYnN2NjF1L3NsK0x2Rit2ZUw5UnQ5VzFDKzFIU1JhdEpJOXl4ZFk1TncyNEo2RTVQRkFIcC83U1h4SDFUNGVlR2JDVFE0by90dDlLMFFua1hjc1FBem5IYzg4WnFYOW5INGdhcDhRUEJkeGRhNmtadnJPZjdPMDBhN1JLTUFna2RBZWUxZWllSlBEdWtlSnRPTmpyMm4yOS9hRmczbHpMa0FqdVBRMHZoM3cvcFBoclRGMC9RYkNDd3NsWXNJb1Z3TW5xZmMwQWVPZnRBYUxGclBpN3cvSE1BVkZ0S0FENjdnYStaNExIek5XOGdkQXhYOHErdFBqQkJJL2lyUVpFVmlGaWxCSUhUa1Y0ZnBQZ3U5aTFBM2N3aVhjemJWTGpKeWZUT2YwcjJjUFFVNmROMjduenRmRk9uaUtzWlBSSldHWGxpOG5oeTRnaFRjVUtISHR6WFRlRlBCZDVZVzZTM1JRR1dNeUFET1Z4Mk5kcG9YaDZDNHQxamRsakRERE1SWFhKYVc2MmtTcytUbmFmcDYxMzFIR25OTmJvK2JxWTJyVXB5aFRhczI3MytSdyt1ZUZwdGQwYlRJYmVGcEVoWm1mSEdBUjEvT3FPa2VCN20yMCs2bkl4RkErMWhubm9NQUQ4YTlRc3JrV0N5ZVN3MjlCdUhVWXFuTnFsdU5PdW9wSlBtbWNkQm4wLzhBcjFncXMrZHRSNmxZZkVRalJWSnkxdEwwdjBQTTdQVEVoMUMxK1RJZjE5VFhUYVA0ZXRZTHU0bmpqQ0k3QXF2cHhnL3JXWnFHc1dTYWxiOG9OcFRwd0J6aXV1MGZ4RHBjMXJJeVNRWlVsRHVjY0VkYTZhODVSU2NVY042dFg0NVdUOVRIbjBpSzR2SlFaaEFGd1FTQ2ZyMHE3cDJuTGFsL0xjUGorTEdNL25WTzc4UWFOYlRCN2pVYmFOVHU1YVJRQ01BK3RWNS9pSDRUdFk4U2F2YXVTTURZUzJQeUJxSlY1V1N1WSt5cjFZOG5LN2Q3Tm5YeFFxOXBJMzhhamowN2Y0MUdiWjQ0bGsyZkkzSWF2UEp2akw0WXRKQkZIZU5JalozTWtaK1hwN1UyOCtQZmh1SFRoQkY5cXVGR1FBc1dQNTF5dHlYbWRzTXRsVlNVcWNvdFI3YnU1M3Mxdkd6TElRQ2NqcldScUZza2NxcWc3SCtkZVI2dDhlSUpCc3N0TGxBQnlHWndEL0tzVzcrTnR6Y29WT2xLRGc4bVhPQ1JqUFN1aW5XakY2eUhUeVBHUFhsL0wvTTl3dFp2S2tIUDNRZjByY2hiTVJmK0VWOHZENHZhb3NpdXRwQVhYUDNza0hJeDBxQzQrTWZpTjRXamkrelJjbHR5eDg4L1hORlRFVXBiTTZGdzVpWjZ1MzNuMWZETHRJYU4vbnpnWXJPMWpWR2l1bmptY001QkNzRG5KK3RmS3RyOFdmRmNGMmt3MURjQVEyeG8xMm5CK2xaR3ZlTzlmMVc5bHVaTlJ1RUx0djJSdVZWVDdBZEs1bFhwcVhNOVRlbnc1WDVlU2N0UG5iN2o2eWcxQ0c0dDVMaTh1bzdSWXVOMDNHNG5HQitOUUk5c0xtK3RwcFkxTWloaGxoMzVyNDVtMS9WWmwyelg5eklwT2NHUWtWV2wxSzhsSmFTNm1ZK3JNVFZmWDRxOWtkWCtyT2k1WjJ0NWY4RSt1NWJuU1kvRGR4TExkMnF6UU9HQ0daUVR6WHZPbk9KTk50blhHMW9sSXdjOXEvTU41cEgrL0l4K3ByOU4vRDNQaC9UZit2V0wvd0JBRmVmamNTNjdWMTMvQUJQYnl6TGZxUE43MTdueDdyMzdTSGpPeDhiMzdXNjJuOW1RenRFdGpKRU1iVk9QdmZleWZYUDRWN1A4T2YyaC9DM2loNDdUVldiUmRRYkFBdVNQS2MrejlCK09LMS9pTDhEdkNQalF6WExXbjltNnBKay9hN1Q1ZHplckwwYitmdlh6RDhRdmdCNHc4SjdwN0dIKzJkT0dTWmJSU1hRZjdTZGZ5elhDZXNmZDF2UEZjUkxMQklra2JES3NoeUNQclVsZm5MNEkrSmZpM3dGYytYcE9vekpBamZ2TE9mNTRqNmdxZWgrbURYMTc4Qy9qSkI4U2pkMlZ4WUd5MVMwakVycXJia2tYb1NwNmpudFFCNjdSUlJRQjVWOGZ2aGJOOFM5R3NFc0w2TzB2N0YyYVB6UVRHNFlBRUhISTZEbXZrN3hUOER2SHZodEhsbjBXUzh0MVArdHNXRXcrdUI4dy9LdjBHb05BSDVtYWRyZmlid3RlNXM3N1U5TXVFUDNRN3hrZlVWK2dmd2cxblUvRUh3MzBMVk5kWGJxTnhCbVVsZHBiREVCc2RzZ0EvalhSWFdrNmRkc0d1N0cxbVlkREpFckVmbUt1b2l4b3FJb1ZWR0FBTUFDZ0R6Ynh6OGF2QnZndlhuMGZXTHk0Ti9HRk1xUVFNNGpEREl5UnhuSE9LMmZESHhOOEcrSm9nMmsrSUxGMlAvTEtTVHluSC9BV3dhOFgrT0g3UHVxK0tQRnQ5NGk4TTN0cVh2TnJ5Mmx3U2hEQlFQbGJrYzQ3NHI1ODhTZkM3eHQ0YlpqcVhoNitTTmYrV3NLK1luL2ZTNUZBSDZObzZ5SUdSZ3lua0VISU5MWDUyZkRUeHA0eDhQZUt0T2cwYS92eVh1RWpheWRtZEpBVGdxVVB0WDZJeGt0R3BZWVlnRWlnQjFGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQVZyci9YMi8rOS9VVlpxdGRmNiszLzN2NmlyTkFCUlJSUUFVVVVVQVEzbi9BQjdQK0g4NmZCL3FZLzhBZEZNdlArUFovd0FQNTArRC9VeC83b29BZlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBRVYxYnhYVUxSWEVjY3NUZmVSMURBL1VHa3RMYUMwaFdHMWlqaGlYb2thaFFQd0ZUVVVBRkZGRkFCUlJYRC9GYjRrNlQ4TjlIaXZkV2ptbmtuY3h3UVJmZWtZREo1NkFEMW9BN2l2UGZpRDhYdkNYZ2lKMTFIVUV1TDhjTFoycDh5UW4zeHd2MU5mSjN4RytQM2kzeGY1bHRaei8yTnBqY2VSYU5oM0grMC9YOHNDdWE4Qy9DL3dBWGVPN29OcFduVGZaM09YdmJqNUloNm5jZXYwR1RRQjNQeEUvYU84VGVJVmUxOFBxTkNzRGtFeE52bWNlNzQ0L0Q4Njg1OEsrQy9GbmovVW5PazJGM2Z5dTJaYnFVNFFlN08zSDlhK3FQaDUrelY0ZTBLU0c4OFN6dHJOMmdCOGtqWkFyZlRxMzQ4ZTFlNldGbGEyRnNzRmhieFc4S2pBamlRSW8vQVVBZk92dzcvWmcweXc4bTc4YVhoMUM0WERHenQ4cERuMFp1cmZoaXZvUFI5SDAvUnJHT3owcXlnczdXTVlXS0ZBb0g1Vm9VVUFGQjZVVVVBZUZmdEYrTjdmd2xxdWlSM05zMDNud3lPTnZiYVYveHJ3U1g0cXhMZU5QYjZjd0JPZHBrcjF6OXJQdzJkYjFIUXAvUFNFVzl2TU11NFVFbDE3azE4NnplRWt0NUVScjBtUjVGUUtxSHVTQ2M1NmNmalhvME1UVmhCS0wyUEtyNEREVmFrcDFGZHZjOUZ0UGoxZVd0dDVVZWtRdGdraG1rUDlCVmFmNDllSUpYYnlMV3hpQjZEQk9QMXJEaCtHNmI3VXlhbEVJNW5DWllsU21RVGxoMjZWdS84S3MwNk41SWplR1dSU21TcmZMaHU5ZEY2MVIzT0dXQ3k2bTlhZjUvNW1IcUh4ZThWWGlrZmI0NGM1SDd1TlI2ZTN0V0hONDg4U1N3bUo5YnUvS0p5VUVtQVRYYVIrQU5FUzdTS1I1eXZPN0c3dFhMMy9oaXpqdW5TRXlLZ1BCSnJTZEd2RlhiTG9Ud1YrV25UdDhrYzNQcTk1T1NaYnFaejZsaWFpRjVJZXMwaC9HdDhlSHJZU2JUSTMxcmEwRHdWWmFoRy9uT1F5OC9XcGpRclRlNTB6eFZDbkc3WDRIQVNYQlBVay9VMDFaajZWMTkvd0NGb2t1WklvajkzM3E5cFBnMktZcDVtUHpwTERWVzdGTEUwM0htUndmbUQrNmFQTUg5MDE2cnFIZ095UzJiWW8zci9FdWF6MDhEd05iNzFaeldqd1ZWR1g5cFVPclBPREo2TGlrODFnT2dycmRTOE14d3Q4am1zOXRFVlZ5eHpXTXNQTmJuUkRFMDViTTU4czNzS1lXUHFLNk9QU0l5Y1lxMUhvRWJEN3RTc0xNcDRxbkhjNUF0L3RVMHQ3bXU1dHZDc2NrbnpyeFhRYWo0RHRGMHBIaFVpWCtMRFpvK3FWT3hsUE1xTUdrK3A1S1RUU2E2VzUwTHlwQ01IaXFVbWxnZGpXVThQTmFIVkN2Q1N1bVl1YS9UL3dBTy93REl2NlovMTZ4ZitnQ3Z6UWV3SVBCTmZwZjRmR05BMDBlbHRILzZDSzVLc0pRdGM2SVNVdGkvUlJVVnhjUTJ5QjdpV09KU2NaZGdvL1dzU3poZmlCOEpmQ1hqZTNrL3RMVG80TDRqNWIyMkFqbFUrNUhEZlFnMVMrRXZ3ZjBYNGJYZDdkNmRkWFY1ZDNTQ0l5VDRHMU01d0FCNjQvS3ZTMUlaUVZJSVBJSTcwdEFDMWcrS3ZHSGg3d21rRGVJOVd0TlBFNUlpRXo0TDQ2NEhYSHZXOVh6L0FQdEgvQi9YdmlEckdtYWpvRnhhazI4SmdraHVKQ244V2R3UFA0L1NnRDNqVHI2MTFPeGd2TlBuanVMV1pROGNzYmJsWUh1RFZpdU4rRUhoUzQ4RmZEL1M5Q3Zia1hOemJLeGtkU2R1NW1MWVhQWVp4WEorSlBqL0FPRWRBOGFTZUhicGIyU2FHVVFUM0VjWU1jYituSnljZERnVUFldmQ2S2FqckpHcnhzR1JnR1ZnY2dnOTZkUUFVaktyRERBRWU5TFJRQlNUU3RQUzZGeWxqYXJjRC9scUlsRGZuak5YYUtLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUsxMS9yN2YvQUh2NmlyTlZyci9YMi84QXZmMUZXYUFDaWlpZ0Fvb29vQWh2UCtQWi93QVA1MCtEL1V4LzdvcGw1L3g3UCtIODZmQi9xWS85MFVBUG9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS3hmR3V2eCtGdkNlcTY1UEMwMGRqQTB4alU0TFk3VjhvLzhMdDhlL3dEQzR2c0huZjZGL2FQMlQrelBzNjQyYjl1TTQzWnh6bk5mWCtwMkZ0cW1uM0ZqZndyUGFYQ0dPV051aktlb29BOE8rQ1h4NG4rSVBpeVhROVIwaUt6ZG9ubWhraGtMREM0eUdCOWoxcnR2ak44TDdQNG1hVFoyMDk3SlpYRnBJWklwbFhlT1JnZ2o4dnlxMTRHK0ZmaFB3UHFWeGZlSHRPTU4xTXV3eVBLMGhWZXBWZHg0RmQwS0FQRi9oOSt6eDRTOE1PTG5WRU91WHdPVmU2VUNOZnBIMHo3bk5leVFReFc4U3hRUnJIR293cXFNQUNwS0tBQ2lpdlBQajlGcjAvd3IxbVB3cUp6cUxLb0t3ZjZ3eDdodkM5ODdjOUtBT2MrSjM3UUhoendiZS8yZllJZFoxQlRpVkxhUUJJdlpuOWZZWnJyZmhEOFE3VDRrZUduMVd6dHBMUjRwakJMREkyNHF3QU9RZTRJTmZGL3c4K0R2aXZ4cnFnaVd4bTArelZ2Mzk1ZVJzaXI2NEI1WSt3cjdiK0YzZ1RUdmg3NFhqMGZUR2FVbHpMUE8vd0I2V1E0eWZZY0FBVUFkZFFhS0tBUG5mOXF5ZXlpWFQwdTRaSG5lMmw4cDFZZ0tReTlSM3J3dXl2UERqM0NOOW1uMkJobFZadVI5U3h3Y1lING12cjM0dC9EaTIrSVdsUlF2ZEd6dklNK1ZPRjNBQTlRUjZjVjQxRCt6SHFjTGZMNGx0RC8yN01QL0FHYXV1alZoRks3T09wU2syN0k1TFNiclMxdklVQ2JrYmFWTFpKVTU1Ny9XdTl1cnpTV2hiL1JpRkk1ZFh6MzZFVkpEK3p4cVNUUXlONGd0V0tIa0dGc0gvd0FlcnBXK0RkODFxWXY3V3RRZU1FUUhIL29WZXJUeGxCYnkvTThXdmdNUkpweGluOTMrWnlOOXFXbHIvcXJSMCtiM1BHMGNZT2UvTmNUcWFKTFlYVXl4N3RzbjN1Qi85ZXZiSWZoRmVmOEFMYlZvR1QrNmtKR2Z6TlpiZkEvVUhlNC80bmRxa01tU0VFRGNIdDNvcTQyaEpXVWpUQzRLdkNUY28yMHQwUEFUSC9wTVJ3dmF1czhGUEQ1OGtNN291NGYzZWE3MC9zOWFvWkZZK0lyWEEvNmRtLzhBaXEwdE4rQlY3WjNUU3RyZHZJRG5BOGdqSDVOVlVzYlFpN3VYNEN4R0FyVGh5cEhqZDdHQjRnbFFMeHVxL280eEk0M0ttMG12VXIvNEU2bFBlQ2FQeEJicW81SWEzT2MvZ2FrdGZnYmZ4U0YyMXUyYlBYTUIvd0FhUHI5Qnp2ekcxTENWbzBsQngxWG9jWmVJejJiUHQvaEI5OGV1S2RwU1JYTmsvd0M2ajZjTXgvTTE2ci93cXVYeVdpL3RDSW95N1QrN1ArTlo5bDhJOVJ0SkNVMVcwMmdFTCs1YlA4NjZWbVdHdGJtL1AvSTh1cmxlS2xOMmpwZnVqd1B4S0lta0FSZWgvd0E5T0s1NmJiakZmUldxL0EyK3ZEdWoxbTJWanlkOExISDA1ckpQN1BlcUhQOEF4UDdQL3dBQmovalhMVXgxQnl1cEhvVWNIV2hGSnhQQTRzQjYxYlFoc1Y3TkgrenpxSU9XMTJ6UC9idTMrTldvdjJmNzVQOEFtT1d2L2dPMytOSlkyai9NVlBDMW50RThrc3lBV0k1L3BYWTJjZm42VGs3aXVEL0NmeXJ1TGY0SFhjUC9BREY3Yi92dzMrTmJNWHdqa1czVkpOVTh4Z2NsY0VJMzFBT2EyV1B3NisxK0RPQ3RsMkpsYTBQeFgrWjgwNjlCNVYyUTQyOC8zaG44cXc3aU1IT09hK2w5VCtCVnhlVHlPbXFXa0t0MFZiYzRINjFuZjhNOVhtUCtRM2FmK0E3ZjQxZzhYUWJ2ekhvVXNQaUl4U2NmeVBtbWVEUE9NR3YwUzBJWTBQVHgvd0JPOGY4QTZDSzhMMFQ5bmRZZFVobjFiV1k1N2FOZ3hpaGhLbHVlbVNlSytnSTBXS0pJMEdGVUJRUFFDdk54bFdGUnJrUFV3c0p4VDUxWVd2bGY5c3ZSL0VFMTdwR3EyaVhNbWl3d0ZKREZuYkZKdXpsZ09tUmptdnFpbzdpQ0s1Z2VHNGpTV0p4aGtjWkJGY1IxSHc1OEdmanJyUGd5V0RTOVpaOVQwSm1DN0pHekpiZ25xakh0L3NuOE1WOXgyOHlYRnZITkN3YU9SUTZrZHdSa1Y0M3FmN09QZ2k5OFNycXNhWGxwSDVnbGF5aGtBaFpzNTdna0QyQnIyV0pGaWlTTkFGUkFGQUhZQ2dDU2lqTkZBQlhndmkzOW5EU2ZFSGp5NDhRZjJ2Y1FXOTFjZmFaN1FSZzViT1dBYlBBUDA3MTcxUlFCaitJZFJnOE0rRjc3VVdqZDdmVDdWcFNpbmxsUmM0L1N2RnZnMThmcmp4MTQyWFFkUTBhSzBGd2p2QkxESVdJMmpPR0I5Z2VSWHZkN2F3WDFuTmEzVWF5Mjh5R09SRzZNcEdDRFhFZUNmaE40UDhGYXhMcW1nYVlZcjJSU2dra2xhVHkxUFVMazhaL09nRHZhSzhuL0FHbFBHZXVlQ2ZBS1h2aHZFZDFQY3JBMXdVRCtTcEJPUUR4azR4eURXTCt5ejQrOFJlTnRFMVllSnBmdGJXa3FpSzY4b0lXM0RsVHRBQkl4NlVBZTVVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQVZyci9YMi93RHZmMUZXUlZhNi93QmZiLzczOVJWa1VBRkZGRkFCUlJSUUJEZWY4ZXovQUlmenA4SCtwai8zUlRMei9qMmY4UDUwK0QvVXgvN29vQWZSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQm0vMkZwUDhBYWY4QWFQOEFadGw5dnpuN1I1Qytabi9leG10S2pGRkFCUlJVTjdkMjloYXkzTjdQSGIyOFEzUEpJd1ZWSHFTYUFKcUsrWGZpcCswMExTN2V3OEF4UlRlVzIxNys0VGNqSHZzWHVQYy9sWG8vN09IeEUxYjRoK0ZyKzUxNktFWGRuY0NIellVMkxJQ3VlbllpZ0R3cjRpL0ZENGcySHhudmJLeXZidUNDMnZ2SXQ3QkUvZHlSN3NESzQrYmNEblB2WDJaYk03MjhUU3Jza1pRV1gwT09SVWNsamFTWEszRWxyQTA2NHhJeUFzTWU5V0tBQ2lpdVcrSjNpeFBCSGdmVk5mZUV6bTFRYklzNDNPekJWSDB5UlFBL3huNDg4TmVDMGhieExxc05rWmppTkdCWm05OXFnbkh2V3pvMnEyT3Q2WkJxR2xYVVYxWlRydWpsak9Rd3I4NU5WMUh4SDhUdkdna2xFMm9hdmZTYklvazZLT3lxT3lpdnZMNE5lRDV2QXZ3OTB6UXJ1Y1QzTVcrU1ZsT1ZEdXhZZ2V3emlnRHRxS0tLQURGR0tLS0FLR3U2cGI2Sm85N3FkNjIyMnRJV21rUG9xak5lWS9DajQ1YUo4UTljbTBpS3puMCs5VkRKRXN6aGhNQjF3UjM3NHJpLzJ4L0doc2RCc3ZDdG5MdHVMOCtkY2hUeUlsUEFQc1dINlZ3bjdIbmd3NnA0c3VmRXQxR3h0dE1IbHdIb0RNdy9YQ25QNGlnRDdMNlY0ZjRtL2FLOFBlSC9BQjNkZUhidlRydDRyYWZ5SmI2TjFLcTNHVHQ2a0FuSDRWN1BxZHcxcHA5MWNLdTh3d3ZKdDljQW5GZm10REZjK0tmSEFqQ21TNjFLL3dDbnFYazUvblRCSDZXMnNzZHhieHl3dXNrVWloMFpUa0VIa0d2SHZpZDhmZEY4QmVLMjBHNDB1OHZwNGxWcDNpY0tJOXd5QnoxT0NEWHJtbFdrZW42YmFXa1grcmdpV0pmd0dLK0JmMmxidHJ2NDArSTkyMzkxSkhFTUQrN0VvcEFmZVhoclc3UHhIb05qckdseUdTeXZJaExFeEdEZzlpT3hCeUQ5SzgxK0xmeHcwbjRkYS9iNlJjNmJkWDEwOFFtZnkzQ0tpa2tEazlUd2E2RDRFMnd0UGhENFZpR2YrUEpYNTYvTVMzOWErYWYyMExSWWZpTnBsd3FzUE8wNVFTZWgydXcvcUtZSDF0NEs4VDZmNHg4TTJXdDZRN05hWFNrZ09NTWhCd3lrZW9JSXJpL2pEOFl0SytHbHhaV3QzWjNGOWUzU0dRUlJFS0ZRSEdTeEdPdWVLd2YyUUxyei9oRXNXOE45bnZwazI0KzZEaHYvQUdZMXpIN2F1Z21mdzlvbXVvb3phenRiU0hIOExqSS9WVCtkSVI3TjhML0h1bWZFUHcwdXJhUUpJdHJtS2FDUWZORTQ3SDE0SU9hMS9HSGlLeDhKK0c3L0FGdlZYWmJPelRlKzBaSnlRQUI3a2tDdmwzOWlyWFRGcnV1YUU3L0pQQ3QxR0QvZVU0UDZNUHlyNmk4WWVIclB4VjRhMURSTlNCTnJlUkdOaU9xbnFHSHVDQWZ3b0E4NStFM3h6MG40aWVJWjlIZzA2NXNMbFltbGk4MXd3a0FQUFRvY0hOZXZDdkZQZy84QUFlMCtIdmlpWFczMVdTL25FVFJRS1l0Z1FOMUo1T1RqajhUWHRZb0FPOUE2MEdxV3FhcnAra1FMTnFsN2IyY0pPQTg4Z1FFL1UwREx0TFVGcGRXOTVicFBaenhUd09NckpHd1pUOUNLbk5BQlZhOXU3ZXl0Mm11NVVpaVVaSlkvNXpWZlc5VmcwaXdlNXVUa0FmS2dQTEgwRmVQNjlyRnpyRjQwMXczeTlGUWRGSCtlOWVkanN3amhseXJXUjFZZkN5cjY3STYvVnZpQnlVMHUzQkgvQUQwbC93QUJYS1h2aVBWcng5MHQ3S3ZiRWZ5QWZnS3lhQnpYek5mSFlpcy9lbHAyUjY5UEMwNmEwUmMvdFRVUCtmNjQvd0MvamY0MW82ZjRwMWF5WUZidHBGN3JMOHcvWHBXN28vZ2I3VFp4M0dvWEJoTGpjcUtPUjlUV1o0cDhMU2FMR3M4Y25uV3pIYVd4Z3FlMmExZUh4ZEtIdGJ1M3FSN1hEemx5TzMzSFNhUDQ5Z25aWTlSaDhnbmp6Rk9WL0VkcTdTQ1dPZUpaSVhEb3d5R1U1QnJ3TWRLM3ZESGlTNDBlNFZYWnBMUmo4MGVlbnVLN2NIbkVrMUN2cXU1aGlNQkZybXA2TTlpb3FHenVZcnkyanVMZHc4VGpLa1ZOWDBpYWF1anlXcmFNcjMxbmIzOXJKYlhzRVZ4YnlERHh5cUdWaDdnMHpTOU5zdEx0aGI2YmFXOXBBT1JIQkdFWDhoVnVpbUlLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUsxMS9yN2YvQUh2NmlySXF0ZGY2KzMvM3Y2aXJJb0FLS0tLQUNpaWlnQ0c4L3dDUFovdy9uVDRQOVRIL0FMb3BsNS94N1A4QWgvT253ZjZtUC9kRkFENktLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0RodmlkOFQvQUE5OFBMSHpOWHVQTnZuR1liS0VneXllK1A0UjdtdmlyNHAvRmZ4RDhRNzkxdTVudHRMRGZ1YkNFbllCL3RmM2o5YTlFK05Yd2Q4ZTY5OFV0VXZkUHNIMUd5dnBROEZ3SmxDeHBnQUsyVDh1T2xlci9CMzRBNlI0UUVPcGVJUkZxdXRqNWxERE1NQi8yVlBVKzUvQ2dEeFQ0Ty9zL3dDcitMaEZxWGlJUzZWb3h3eXFSaWFjZXdQUWU1cjYzc3JQdzM4TnZDRHJDc0dsNk5aSVhkaWV2dVQxWmorZGRNQUFBQUFBT2dGZkZIN1UzajI2OFMrT204TWFkSTdhYnByaUx5MFBFMXdlcFByZ25hUHhvQTNQSGY3VWVxVDNFMXY0TnNJTFcyQktyYzNTK1pJdzlRdlFmam11Q1Q0OS9FNUdFaDFrbE01d2JHTGFmYjdsZlFYd1ArQldrK0dOS2cxUHhSYVFhanJzeUI5a3lCNDdZRWZkQ25ndDZrL2hYczhtamFaSkFZWDArMGFJamFVTUs0eDZZeFFCODFmRFg5cDgzTjdCWStPYk9HRkhJVDdkYkFnS2ZWazU0OXgrVmZSMnNhZHBQaTN3N05ZMzBjVjlwTi9FTWdObFhVOGdnajhDQ0srZC93Qm9mNEZhZXVsWFBpYndaYXBheld5R1M2c1l4aEpFSFZrSFlnWkpBNi9XcVA3SG5qNjVlNnVmQm1wVEY0aEdiaXgzbmxNZmZRZTJPY2V4b0E5eitIdndzOEsrQTdpZTUwQ3daYnViNVdubWN5T0YvdWdub1BwWGRVbExRQmhlTnZGZWxlRE5BbTFqWFpqRlp4RUw4bzNNekhvRkhjMWovRFQ0bCtIL0FJaTIxMUw0ZmtuRDJwQW1obmoyT3VjNFBVZ2c0Tk8rTFhnUzMrSWZoQ2JSYm00ZTJiekZtaG1VWjJPdlRJN2pCSS9HdWMrQnZ3a2orR1VXb3UycEcvdXJ3cUdZSnNWVlhPQUJrK3RBSHExRkZGQUg1dy9GRFg3N3hyOFN0VnZaVkpsbXVmczhFT2Z1S3AyS28vTDh5YSs2dmhCNFBqOEVlQWRMMGhWSDJoVTgyNGJITFN0eTJmcDArZ3FPMytGSGd1MzhWZjhBQ1JSYUZialZmTU1vazNOdEQvM2dtZHVmd3J0NkFBZ0VZSXlEd1FhNGZSUGhUNEwwVHhLZGUwelJJWWRUM015eWIzWUlUMUtxU1ZCNjhnVjNORkFoSytXdmk3K3p6cjNpYjRpWCtzNkZkMkMyR295Q2FUem5aWGlZZ0J1TUhQVFA0MTlUVndWcjhXL0JOMTRxL3dDRWRoMXVKdFU4d3doZGpoRElPcWg4YlNjOGRhQm5WK0hOTVRSZEIwN1RJM0xwWjI4Y0FZOTlxZ1ovU3Zsajl0dTN4ci9ocTR4OTYybFRIMFlIK3RmWEZlUmZ0RS9DKzgrSStqYWNOSW50NHRRc1pXWlJPU0ZkR0dDTWdIQjRGTkFjbCt4VGROSjRJMXkyT05zVjhISHI4eUQvQU9KcjFINDI2QVBFdnd1OFFhZUYzUy9aek5GN09uemorV1B4ckEvWjQrR2Q1OE4vRHQvRHExeEJOcU45S3NrZ2dKS0lxakFHVDFQSnIxYVJGa2paSEFaV0JCQjdpa0kvT3o0RzYrZkRQeFYwQzlkaXNUWEF0cHY5eVQ1RG42WkIvQ3YwVVVncUNEa1YrYS94QjBtYnd0OFF0WnNCbEpMTzlmeS85M081RCtSRmZvUjhQZGFUeEg0STBYVm96a1hWcWpuL0FIc1liOVFhQU9mK04vaitYNGMrQ3pxOXJacGQzVWs2MjhTU0VoQVNDY3RqMkI0cmwvMmYvak5KOFI1NzdUdFh0cmUwMVMzUVNvSVNRc3Fad2NBbk9RY1YzZnhXOEl3ZU4vQTJwYU5NQUpKRTN3UDNTVmVWUDlQb2ErQ1BBMnYzM2dMNGdXV29KdWptc2JneHpvUjk1TTdYVWo2Wm9BL1NVMTgyL3RvZUg5U3Z2RCtqNnhhaVNXd3NYWkxoRlBDRjhZY2owNHhuM3I2SjA2OWcxR3d0N3kwa0VsdmNSckxHdzZGV0dRYVhVYksyMUt4bnM3NkZKcmFkREhKRzR5R1U5UlFNK08vMlV2aWFkQzExUEN1cnpOL1p1b1NZdFdZOFF6SG9QWU4wK3VLK3pjOFpyNXo4UGZzeTJXa2VPYlhXUDdia2wwNjF1VnVZclV4WWNsVGtLV3owejdWN2w0dXZocCtnWGMyY09WMnBnODVQSDljL2hVVlpxbkJ6ZlFjWXVVbEZkVHpmeG5yVGF0cTBpb1Q5bWdPeEI2K3BybjZUR0tXdmhhOVYxcHViM1o5TlNoR25IbGlGUHQvK1BoUDk0VklMTzVPZjlHbS9DTW11aDhMK0Y3eTh2b3A3aU13MnlFTVRJTUZ2YkZWUnc5U3JOS01TYXRhTUkza2RCOFNwWGgwYXlXSjJUTGZ3bkhRVkxwckhVL2g3SUpqdmRZMkJKNi9LY2orbFlueE0xR09lOWdzb1czZVFDWHgySjdWZDhCNmxhUHBVK2wzVWl4Rjg3ZHh3R0JIT0s5MzIwWll5ZE52UnF4NW5KSlllTXJiTzV3TkxYZlgzZ1NCNFdmVGJvc3c1dzVCQi9HdURtamVHVjRwQVE2RXFRYThMRVlXcFFkcWlQUnBWNFZmZ095K0hPdG0zdkJwdHd4TWN4SmovQU5sc2RQeHIwbzE0TGF6dmJYRWMwWnc4YkJoOVJYdWxuT3QxYVF6cDkyVkE0L0VacjZISnNRNmxOMDVmWlBNeDlKUW1wcnFUMFVVVjdSNTR0RkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUZhNi93QmZiLzczOVJWa1ZXdXY5ZmIvQU85L1VWWkZBQlJSUlFBVVVVVUFRM24vQUI3UCtIODZmQi9xWS84QWRGTXZQK1BaL3dBUDUwK0QvVXgvN29vQWZSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFDT2NLVDZDdnowOElScmZmSDdUMXZmM2l5YTdsOTM4UjgwOWEvUXl2Z2I0NmVIcjM0ZS9HQ2UvdEZaTGVhNVhVYktVRGpKYmNWK29iSS9LZ0Q3em5abzRKSGpYZTZxU3ErcDlLK09QaDk4VlBpSGYvQUJuczdDOHZycWVDNHZ2SnVOUGVNQkk0OTJHd01mTHRIT2ZhdnBqNFdmRUhTdmlENGNodjlPbVVYYUtGdWJZbjU0WHh6a2VoN0d1cFRUYkpMdHJwTFdCYmx1R2xXTUJqOVRqTkFFbC9Ha3RsY1J5cUdqZU5sWlNPQ0NLK0JQZ1N6Vy94NzBKYmRtUWZicFkrT01ydGNZL0t2cW45b0Q0b1dIZ2J3dmMyZHZNc3V2WHNUUlFRb2VZd3d3Wkc5QU8zclhndjdJZmhPWFYvSHMzaUs0UmphYVpHeFIySERUT01EOGdTZnlvQSsxSzhUL2FpOGMrSVBCWGhuVEpmRGNodHBMcWRvNWJrUmh5Z0M1QUdlQm5uOHE5cnF2cU9uMmVwVzV0OVF0WUxxQTlZNW93Nm44RFFCNVYrek40ejE3eHI0SXVycnhLM25YRnZjbUdPNTJCVEt1QWVRT01qTmV2QVlxdlkyVnJwOXN0dlkyOE50QXYzWTRrQ0tQd0ZXS0FDdmpyOW9YeGw0KzAzNHRUMm1sM3VwMmRsQjVmMktLMTNCSkFWQjNZSDNpVG5QMHI2MTFiVzlNMGhVYlZiKzFzMWM3VU04b1RjZlFaNjFaVmJhN1dPWUxGTU1aUnhodnhCb0FxK0c1N3U1OFBhWlBxS2JMMlMyamFkU01ZY3FOM0gxeldqUU9CeFJRQjhoL0dyNHplT3ZEL3hWdjhBU3RJdUJaMk5sSWlRMi9rSzNuZ2dITEVqSnlUMk5mV0dqM010NXBWbmNYRWZsVFRRSkk2ZjNXSXlSVWQ1b21sM3Q1SGQzbW5XYzkxSDl5YVdGV2Rmb1NNaXRBQUFZRkFDTU1pdm1IUy8yYWRRdFBpSkRxOG10Mjc2VERlaTdWUXJlYVFIM0JmVDhhK242S0FEdlJSM29GQUJSUlJRQjhZZnRrZUczc2ZIZHBya1VSRnZxRnVxU09GNDh4T1B6MjdmeXIyVDlrVzR2SmZoRkRIZHF3aWd1NVV0eXc2cGtIOHR4YXZZTlQweXgxVzM4alVyUzN1NGM1MlRSaHhuMXdhbHRiYUMwdDBndFlZNFlVR0ZqalVLb0hzQlFJbHI0bS9hMzhFSjRlOGJ4NjVZeDdMTFdBWGNLT0ZuSDN2ejRQNTE5dFZ3ZnhzOEZ4K09QaDdxV21oQWIyTkRQYU4zRXFqSS9Qa2ZqUUI1eCt5QjQwT3NlRUxqdzVlUzdydlNqbUhKNU1ESGdmOEFBU2NmaUsrZ3EvT1Q0UytMSnZBWHhHMDdVM0xyQkZLWUx1UE9OMFRmS3dQMDYvVVYraXRwY3hYZHRGY1d6aVNHVkJJampveWtaQm9HU25wWEhmRTk5dWkyNitzNC9rYTdLdU4rS0VaZlFvWEhSSmdUK1JyanpCLzdQUDBOOE5wVmllWVYybnd6dFlwYjY1bmxSWGFOQnR5TTR6blA4cTRxdTkrRm4rc3Z2OTFmNjE4dGxpVHhNTG50NHpTakt4ZnZ2SGNOcmR6UWZZSkdNYkZkMjhZT1B3ckUxVHgzZTNLR08wakZzcmRXemx2dzlLNTdYZjhBa00zMy9YWi81MGFNOWlsNnY5cG9XZ1liY2c0S24xcmFwbUdJblVkUG1zcitoakREVWxIbTVibWV4TE16T3habU9TeDVKTmFWbHBNMHRxOTFjT0xhMVVmNngvNGo2QWQ2NjcvaEhkSTBpSTZoZDNSdWJRY3hSbkFEbnNPT3RjbnJ1cnphcmNsMy9kd0x4SEVPaWlzS21IVkRXcTllaVg1czFqVjlycERZM1BodmR5cnJiUWx5WTNpSktrNUdSV2Y0NGdXRHhOZHFnd3AydGo4QlY3NFp3dEpyN1NEN3NjUnorUFNxSGppWlovRTE0eWRGSVQ4UUJtdWlvLzhBWVl0L3pHVWY5NWFYWXdxOWw4R3V6K0dOUExISjh2SDVFaXZHcTluOElSR0x3MXB5dDE4dlA1a24rdGI1SC9HbDZmcVpaai9EajZtMEtLS0srblBJQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdDdGRmNiszL3dCNytvcXlLclhYK3Z0Lzk3K29xeUtBQ2lpaWdBb29vb0FodlA4QWoyZjhQNTArRC9VeC93QzZLWmVmOGV6L0FJZnpwOEgrcGovM1JRQStpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDdU4rS1h3KzBuNGgrSFgwM1ZVMlRKbDdhNVVmUEMvcVBVZW9yc3FLQVBnSHhQOE0vaUI4TXRXYTVzbzcvQU1wRCs3MURUR1lnajMyOHI5RFVjdnhXK0tWeGJHMU90YXNGWWJQbGhDdi9BTjlCYy9qWDZCRUFqQkdSVVF0NFFjaUdQUHJ0RkFId3Q0QitDbmpQeDlxYTN1dUpkV05nejdwcnkvejVzZy8yUTNKUHVlSyt5UEQraWFKOFBmQjMyV3dpVzEweXdoYVdWOFpac0RMT3g3azRycHFvNjVwa0dzNlBlNmJkNSt6M2NMd1NZNjdXQkJ4K2RBSG0zdzUrT1hoangzNGxiUk5PanZiYTdaV2FFM0NBTE1GNU9NRTRPTW5CcjFldkVQaForei9wM2dQeGl1dkhWNTc5NFZkYmVKb2dnUXNNWkpCT1RnbXZiNkFDa1pnb0pQQUF5VFMxNVorMGY0MFBnMzRiM2pXMGhUVWRRemFXeEI1VXNQbWI4Qm44U0tBUGt2OEFhQzhidjQzK0l0N05BN2YyZFpuN0xhcG5qYXBPV3g3bkovS3ZzdjRGNlZmNko4S2ZEMWpxek1idExmZVEzSlVNU3lyK0FJRmZHbjdQdmd0dkcveEpzWUxoR2JUN1EvYTd0djhBWlU1Q24vZU9CK2Rmb01xaFZDcUFBQmdBZHFBRm9vcWxkNnRwMW5kUjIxM2Yya0Z4Sjl5T1daVlp2b0NhQUx0RkZGQUJSWFBlUGZGbGg0SjhMM211NnFKR3RyWUQ1SXhsbllrQUtQY2sxeVh3ZytNT2xmRXU0dnJXeXNibXh1N1JSSTBjekJ0eWs0eUNQZWdEMDZvYjI2aXNyU2E1dUcyd3dvWkhiKzZvR1NhbXF2cVZuRnFHblhWbGNBbUc0aWFGd1A3ckFnL3pvQTh0OEMvSG53cDR5OFdMb0ZnbDdCY3lsaGJ5VG9Ba3hBSndNRWtIQUo1cjFxdkNmaHYrenZwbmczeHREcjdhdlBlaTFMTmJRTkdGQ2tnakxFSG5BSnIzYWdBcHJTS3JBRmdDZWdKNjA2dmpENDdlSGZpSGVmR084bTArMjFpZUNTV002ZkxiQnpHaVlHQUNPRndjNXozb0ErejZTcW1pcmNwbzlpbCtkMTRzQ0NZNXpsOW8zZnJWeWdENFUvYW84RW53djhRNWRSdFl0dW02dVB0Q2JSd3NuOGErM1BQNDE3MSt5ajQ0UGlYd0ovWTE0KzdVTkd4RGtubDRUOXcvaHlQd0ZkcDhaL2g3QjhSdkI4bWxtVkxlK2ljVFdzN0RJUngyUHNRU0s0NzludjRPNmg4TnJ6VkwzVnIrMnViaTdqV0pFdDkyMVFEbkp6ak5BSHR0WnZpU3gvdEhSYnUyeGxuUWxmOEFlSEkvbFdsUzFNNEtjWEdXekhGdUxUWFErZlhVbzdLd3dRY0d1OCtGbit0dnY5MWY2MW4rUDlCYXd2MnZiZGY5R25PU0IvQTNmOCt0WlhoalhKTkV2R2xWQkpHNDJ1bWNacjQrbEg2bGkxN1RaSHZWSDlZb1BrMUl0Y2dsYldMN0VUNDg1djRUNjFSK3p6Zjg4cFArK1RYb0gvQ2YycCs5cDcvZ3dwZitGZ1dmL1FQbC9NVnJMRFlTVGI5dCtETTFWclJWdVQ4VGduVzdkRVJ4Y01pZmRVNUlGUGgwKzh1WENRV3N6bjJXdTYvNFdCWi85QTZYOHhUSnZpRkdxSDdOWUVNZjd6Y2ZvS1gxWENKNjFyL0pqOXZYNlUveE5Edy9ZUitGZENudXI5bEZ3dzNNQjI5Rit0ZVpYY3h1TG1XWmprdXhZL2pWL1hOZHZkWWNmYXBNUmo3c1M4S0t5Nnd4bUloVVVhVkpXakUxdzlHVVc2bFQ0bVdkUHRudkwrQzJqR1drY0xYdWtFU3dReHhJTUtpaFFQcFhEZkRqUXlnT3FYS1lZZ3JDR0hJSGR2NlYzdGU1aytGZEdrNmt0NWZrZVpqNnluUGxXeUZvb29yMlRoQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdDdGRmNiszLzN2NmlyTlZyci9YMi8rOS9VVlpvQUtLS0tBQ2lpaWdDRzgvNDluL0QrZFBnLzFNZis2S1plZjhlei9oL09ud2Y2bVA4QTNSUUEraWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FaSkxIR1ZFam9wYmhReHhuNlUrdmo3OXBUd3I0NzFMNHFHNTBteTFXNzArV09KYk5yVU1VaklVQmh4d3AzWlBQclgxWDRTZ3ZyYnd2cE1HcnZ2MUdPMWlXNGJPY3lCUnUvV2dEV29vb29BSzg3K05Yd3p0L2lab0Z0WlNYcldWemF5bVdHVUp1SEl3UVJrZGVQeXE3OFlmSGtIdzc4RjNHc1NSck5kRmhEYXdNY2VaSWZYMkF5VDlLODUvWjYrTldxL0VMWDlRMG5YTEsxaWtpZ054RkxiZ2dZREFGU0NUNmptZ0R0UGdwOExMVDRaNlRkUXBkRzl2cnR3MHR3VTI4QWNLQms0SFd2U2FLS0FDdmtINDZmQ1h4MzRoK0xOM3FPazJjdDlZM2JSbUM0V1pRSVZDcUNEa2dyZ2cxOWE2bGYydW1XTTE1cUZ4RmJXc0s3cEpaV0NxbzlTVFdaNFo4VjZENHBpbWs4UGFyYWFnc0p4SjVMNUtmVWRhQUwraTIwdHBwRmxiM0QrWlBGQWtjai93QjVnb0JQNTFkb29vQXdQSG5oU3c4YStGN3pRdFczaTJ1UVBuVDd5TUNDR0h1Q0JYSS9DTDRQYVA4QURTNHZyblQ3dTV2YnE2VUkwazRBMnFEbkFBL3p4WHB0RkFCUlJSUUFVVjgrZUtmMms5TTBMeDdjYUd1a1N6MmRyY2ZacDd2elFEa0hERlZ4eUFjOTYrZ0lKVW5nam1pWU5ISW9aU080UFNnQjlRM2wxYjJWckxjM2swY0Z2RU56eVNNRlZSNmttcHE0RDQ2ZUV0UzhhL0RuVU5IMFdWVXZYWkpFVm4yckx0WUVvVDJ6ajh3S0FPczBMWDlJOFFRUE5vbXBXZC9FaDJzMXRLc2dVK2h4MHJUcndEOW1ENFllSmZBZHpyTjE0bFNPMkYwaVJ4MjZUTElUZ2s3anR5TytPdGUvMEFGZWJmR3I0cDJud3kweXhtbXNaTDY1dkhLUlJLK3dBQVpKSi9FVjZUWGpuN1VYZ2h2Rm53OGx2TE5OMm9hUVRkUmdmeHBqNTEvTG44S0FPbStEM3hJc1BpVjRmbTFDemdlMHViZVR5cDdaMjNGRGpJSVBjR3U5TmZDWDdLdmlhNzBQNHFXbW5SQm50TlZWcmVhUG5nZ0ZsYjhDTWZRbXZ1MmdDdmZXc043YlBCY29KSW5HR1UxNU40bzhMM09qU05MR0dtc2lUaHdNbFBadjhhOWdwR1ZYVXF3REtlQ0NNZzF4WXpBMDhYRzB0R3VwMFlmRXpvUFRZK2ZnYVd2VnRZOEVhZGZTTkxiRnJXVnVUczVVbjZkdndybDd2d0hxa1JQa1BCTXZiNXRwL1d2bXErVllpazlGZGVSNjlQRzBwN3V6T1Jvcm94NEwxdjhBNTkwLzcrci9BSTFvV1BnRytkZ2J1ZUtGZTRYNWpXTU1CaUpPeWd5NVlxa2xkeU9NeHpYWmVFL0I4bDQ4ZDFxU21PMkJ5c1JHQy8xOUJYWGFMNFQwN1RHRW16N1JPUDQ1T2NmUWRCWFFqaXZad1dUOGpWU3Uva2NHSXgvTXVXbDk0aUtzYUJFQVZRTUFDbkNpaXZlU1BNQ2lpaWdBb29vcGdGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFWcnIvWDIvKzkvVVZacXRkZjYrMy8zdjZpck5BQlJSUlFBVVVVVUFRM24vQUI3UCtIODZmQi9xWS84QWRGTXZQK1BaL3dBUDUwK0QvVXgvN29vQWZSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUJBUFVVVVVVQUZGRlZkV002NlhlR3pHNjVFTCtVUDlyQngrdEFIeForMXQ0Mlh4QjQ2WFJMTjJObm80TWI4OFBNZVcvTHArZGV1ZnNoZUNtMFh3ZFA0Z3ZvdHQxcXhIazdoeXNDOUQrSnlmcGl2bWZ3bDRJMTd4ajhSWXRKdXJTN0Z6TmRFM3Nza1pIbHJ1eTdNVCtOZm9kcGxsRHB1bjIxbGFJRXQ3ZU5ZbzFIWlFNQ2dDMk9sRkZGQUhFZkdid2hkZU9maDlxT2g2ZmNKYjNVeFI0MmtKQ2txd2JhMk94eFhudjdOL3doMXY0ZDZscXVvYS9jV3BlNmhXRkliZHkrQUd6dUp3Szk1b29BS0tLS0FQSWZqeDhZRytHYmFaYjIybXJmWFY0R2Y5NDVWVVZTQjI3ODExWHdqOGRSZkVMd1piNjVIYXRhU003UXl3bHR3VjE2NFBweUtmOEFFWDRjK0hmaUJCYlIrSXJScFd0eVRGTEhJVWRNOVJrZGp4V3g0VDhONlg0VDBLMzBqUXJZVzFqQm5hZ1lzU1R5U1NlU1NlOU1EWm9vb3BBZm0vOEFHT3ord2ZGWHhUQnRWQXVvU3NGWG9BVzNEK2RmZi93NnV2dHZnTHc5YzVKTWxoQXhMZFQ4Z3I0aC9hZHNqWi9Hblhqc0NMT1lwbHgzekd2UDVnMTlnL0FTNGE1K0QzaFdSdzRJczFUNStwMmtybjZjY1V3Tytvb29wQWNCNGwrTC9ncnczNGxHaGF0cTZ4YWdDRmtWWW1aWWljRUIyQXdPQ0RYZXh1c3NheVJzR1J3R1ZnY2dnOURYd0IrMHRwTTJsZkdUWGpOdUtYYkpkUnNlNnNvL2tRUitGZlhQN1BIaUErSS9oSm9WekkrNmUzak5wTG5ybU1sUm4vZ0lVL2pRQjZSU09xdXBWd0dVakJCNkdsb29BNUR3OThOdkNIaDNXNU5YMFhRclMxMUZ3dzg1Y2tybnJ0QkpDNTlxNit1RCtPVjVybGg4TU5idVBDd20vdE5JeHRhRVpkVTNEZXkrNFhOZVBmc2k2MTR1MUxXTmFpMTI0MUc1MHBZRlpYdkN6YlpkdzRVdDdaelFCOU8wVVVVQUZHS0tLQURGR0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdDdGRmNiszLzN2NmlyTlZyci9BRjl2L3ZmMUZXYUFDaWlpZ0Fvb29vQWh2UDhBajJmOFA1MCtEL1V4L3dDNktaZWY4ZXovQUlmenA4SCtwai8zUlFBK2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0JpeElyRmxSVlk5U0J5YWZSUlFBVWtqaU5HZGpoVkdTZlFVdE5saldXSjQzKzY2bFQ5RFFCNDk0Zi9hRDhLYTE0MlR3NUJEZlJ0TlA5bmh1cEVIbHlQbkE3NUdUNjE3SFhoUGh2OW5IUmRGOGVRK0lmN1Z1cDRZTG43VERac2dVSzJjcUMvVWdISFlkSzkyb0FLS0tLQVBtL3dDTlA3UU9wK0RQSGMrZ2FKcHRuUEZacW4yaVc0M1pabVVOZ1lJeGdFZXRlOGVEdGNpOFRlRnRLMXFCU2tkOWJwT0ZQOE80WkkvRHBYNS8vRzh6Uy9GenhTSm8yU1UzN3J0WTVPTzM2WU5mZXZ3NHNIMHp3QjRkc3BRQkpCWVFvd3gwT3dacGdkSFJSUlNBNFh4OThLdkNuanZVTGErOFEyTHkzY0M3RmtpbGFNc3VjN1d3ZVIxcnNOTDArMTByVHJhdzArRllMUzNqRVVVYTlGVURBRmVQL3RKL0UvV1BoNXAra0pvTU52OEFhYjUzek5PbThLRnh3Qm5xYzF2ZnMvOEFqelVQaUQ0SWZVOVl0b29iMkc0YTNkb2dRa21BRHVBUFRyajhLQVBUS0tLS0FQbEg5dG5RMkZ4NGUxdEYrVXE5bzdEMitaYy9tMVhmMkpkY0w2ZDRoMFNSaVJGSkhkUmowM1pWdjVDdmRmaWI0RzA3NGcrRjVkRjFSNUlsTHJMRk5IeTBUam9RTy9HUmozcm5QZ3o4SXJENFpDL2x0NytXK3ZMemFyeXVnVUJBY2dBVXdQVDZLS0tRQVJrYzAyT05JMXhHcXFPdUFNVTZpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BclhYK3Z0Lzk3K29xelZhNi93QmZiLzczOVJWbWdBb29vb0FLS0tLQUliei9BSTluL0QrZFBnLzFNZjhBdWltWG4vSHMvd0NIODZmQi9xWS85MFVBUG9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FPYTFmd0o0VzFuV285WDFUUXJDNjFLUEcyNGtpQmJqcG4xeDcxMG9BQXdPQlJSUUFVVVVVQVpIaVh3MW8zaWV5VzA4UWFiYlg5dXJibFNaTTdUNmowcXpvbWthZm9XblJXR2oyY0ZuWnhmY2hoWGFvLyt2VjZpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBSzExL3I3Zi9lL3FLczFXdXY4QVgyLys5L1VWWm9BS0tLS0FDaWlpZ0NHOC93Q1BaL3cvblQ0UDlUSC9BTG9wbDUveDdQOEFoL09ud2Y2bVAvZEZBRDZLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FLMTEvcjdmOEEzdjZpck5WcnIvWDIvd0R2ZjFGV2FBQ2lpaWdBb29vb0FodlArUFovdy9uVDRQOEFVeC83b3BsNS93QWV6L2gvT253ZjZtUC9BSFJRQStpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdDdGRmNiszLzN2NmlyTlZyci9BRjl2L3ZmMUZXYUFDaWlpZ0Fvb29vQWh2UDhBajJmOFA1MCtEL1V4L3dDNktaZWY4ZXovQUlmenA4SCtwai8zUlFBK2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0N0ZGY2KzMvQU43K29xelZhNi8xOXY4QTczOVJWbWdBb29vb0FLS0tLQUliei9qMmY4UDUwK0QvQUZNZis2S1plZjhBSHMvNGZ6cDhIK3BqL3dCMFVBUG9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FyWFgrdnQvOTcrb3F6VmE2L3dCZmIvNzM5UlZtZ0Fvb29vQUtLS0tBSWJ6L0FJOW4vRCtkUGcvMU1mOEF1aW1Ybi9Icy93Q0g4NmZCL3FZLzkwVUFQb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQXJYWCt2dC93RGUvcUtzMVd1djlmYi9BTzkvVVZab0FLS0tLQUNpaWlnQ0c4LzQ5bi9EK2RQZy93QlRIL3VpbVhuL0FCN1ArSDg2ZkIvcVkvOEFkRkFENktLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb3FONTRVY0k4c2F1ZjRTd0JvQWtvb29vQUtLS0tBQ2lpb0xLOXRiNkpwTEs1aHVJMVlvV2hrRGdNRGdqSTdnOXFBSjZLS0tBQ2lpaWdBb29vb0FLS0thanE0eWhERHBrSE5BRHFLS0tBQ2lpaWdBb29xQzd2TGF6UVBlWEVOdWpIQWFWd2dKOU9hQUo2S2JHNlN4ckpHeXZHNERLeW5JSVBRZzA2Z0Fvb29vQUtLS0tBQ2lvRnZMWnJ0clZiaUUzU3J2YUVPQzRYMUs5Y2M5YW5vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29xT2U0aHR3cHVKbzRneDJxWFlMaytnelFCSlJRQ0NBUWNnOUNLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0FvcHNraVJqTWpxbzZaWTRwd0lJeU9SUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBRmE2LzE5djhBNzM5UlZtcTExL3I3Zi9lL3FLczBBRkZGRkFCUlJSUUJEZWY4ZXovaC9PbndmNm1QL2RGTXZQOEFqMmY4UDUwK0QvVXgvd0M2S0FIMFVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFIRS9Gdnh1ZkEzaGhidTJ0eGRhcGR6TGEyTnVjNGVWdW1jYzRINjhEak5ZZHpyK3QvRHI0WmFqcm5qclVVMWJXR2w4eU9HSkJHa2J1RlZJRkk2cUNDUzJPbWV1T2NQOXFYUU5kMVhRZEN2L0FBNWJYZHpOcHQyWkhTMFV0S21RTnNnQTU0SzlSMHptdWI4YTZCNDI4VmZzNjZWL2E5cmQzT3UydDRMcVdCMFAyaVNBQ1JGeW81TFljSEdNNEhQTkFIcm53c3R2Rm45bFRhbDQydjRwcnpVTmswVmxERUVTeVRCK1RQYzhqT2VtT3BydHE4eC9aNm04VnorQkMzallYZjJyN1N3dHplS1JPWXNMOTdQUDN0Mk04NDlzVjZkUUI4eWF6OFN2aWRmL0FCSThSK0gvQUFmQmJYaWFkY1NoWWhicHVXSlgyZ2tzUm5xSzNQaEo4US9IR3EvRkdid3g0eVczaGVDM2VTV0JZVlZsWUJTdklKN05XWjhKNzIxc3Yyai9BSWd0ZVhNRnVqZmFBR2xrQ0FuejA5YWs4SVhNTjErMWw0Z210Wm81b1d0bTJ5UnNHVTRpaUJ3UjdpZ0RvLzJzYnBWK0YwUmltVU9kUWl4dGJuN2toL3BYb1B3dG1WL2h2NFUzU0JuT2xXdWN0azU4bGErWWZqSDhGTGZ3QjRRR3N3NjFOZk8xd2x2NVQyNFFZWU1jNURIMHIwWDRJZkJlMzBxYnd0NDFYV3BaSlh0RnUvc3B0d0FETkNmbDNidTIvd0JPY1VBVmRYL2FKMVMwMS9VOU5zdkNTM24ySzRrZ0xwY09TUXJGZHhBUTR6aXVoK0ZYeHF2dkczalJkQnZQRDZhYWZKa2xaek96TUN1T05wVWV0Yy8remwveVZiNGovd0RYdy84QTZQa3FMd2gveWQxNGcvNjVTLzhBb3RLQVBwR2l1ZThmNlZxV3QrRU5UMDdSTDM3QnFOeEdGaHVmTWFQeXp1Qnp1WDVod0QwcndmOEE0VTE4VmY4QW9mei9BT0RPNy84QWlhQVBwbXZsWDQ2LzhuSWVGZnJZZitsQnFIeFo4T2ZpVDRYOE9YK3RhbDhRSEZwWnhHUnd1cDNXNWowQ2pJeGtrZ0QzTmVOWEVuaURVOVowdWE2dXI2NTFLODJmWTVwNTJlUmg1aFZDckU1SHpnNG9BL1JXaXZqUDRaZUcvaUI4UU5PdTd2U3ZITnpidmF6ZVRMQmM2bGNoMXlNZzRHZUR5UHdOZHAvd3ByNHEvd0RRL24vd1pYWC9BTVRRQjlNVVY1eDhHdkNIaW53bmJhckg0dTEzKzJIdUhqYUJ2dE1zM2xnQnR3L2VBWXprZFBTcmZ4WitKV2wvRDNSVE5kTXMrcVRLZnN0a3JmTTUvdk42S081L0FjMEFZWDdRZnhLajhFK0cyc05PbEg5djZnaFNBS1JtQkR3WlQvSWVwK2hyeEQ0SitLbitFL2lXV0h4anBkM2EybXN3UlNMY3lLd2FKZVNIMi94S2R3ejNHUHFLNmo0T2ZEN1ZQaUQ0bWZ4OTQrRFMyenllZGJRU0xnVHNQdW5hZWtTOFlIZkhwMTk0K0lQZ25TUEhXZ3ZwbXNSY2pKZ3VFSDd5Qi83eW4rWTZHZ0RvYkc3dDcremh1N0thT2UxbVFQSExHd1pYVTlDQ0s0VHgxOFQ3UHdqNHowVHc3YzZmUGNUNnI1WVNXTndGVGZKc0dRZmZtdkRmQy9pRHhUOENmRnkrSGZFTUUyb2VIYm1UOXo1UUxCZ1RqeklmZmtiazlUN2duYitQemlUNDRmRDZVQmwzQzFJREFnak55ZW9QU2dEb1AydmJtZTE4R2FLMXROTEN4dnlDWTNLa2p5MjlLOWs4Smt0NFYwWm1KSk5sQ1NUMy9kaXZGZjJ4ZitSSjBUL3Ivd0QvQUdtMWUwK0VmK1JVMFgvcnlnLzlGaWdEV3I1aDhXK0tOYzhWL3RHV1dpK0dkVnZMU3hzNUZ0SlRiVEZWWlV5ODdNQndjZk12UDkwVjdmOEFGanhmRjRKOERhanF6TW91Z25sV3FIK09adUYvTGxqN0thOFAvWkIwVVhkLzRpOFEzZjd5NVhaYlJ1elpPV0phUW4zT0U1K3RBSHYvQU1RUEVrSGhMd2JxdXQzREtQc3NER05XL2prUENMK0xFQ3ZEdjJTb1NMZnhCNGgxWFUvM2wxUDVLeFN6NEJiNzhqbFNlcExMempzYW9mdEkrSXJueGo0eDB2d0I0ZC9mTkZPdjJnS2VHbllZVlNmUkZKSlBiSi91MTV4OFZ2aGQvd0FJSHJtaWFkL2E1dmpxSzh2OW44b1JuY0Y2YmpucjdVQWZibjlwMkgvUDlhLzkvbC94by90T3cvNS9yWC92OHY4QWpYenIvd0FNdFEvOURiSi80TC8vQUxaUi93QU10US85RGJKLzRMLy9BTFpRQjlLcVF3QlVnZzhnanZYbkd1L0dud1BvZXNYbWw2bHFrMFY3YVNHS1ZCYVNzRllkUmtMZzEzMm1XdjJIVGJTMEQ3eGJ3cEZ1eGpkdFVET1B3cnpUNGkvRDd3SFpXR3RlS3RZOE1UYWxjcUd1YmdXODB1K1E5emdPQUIzSjdBRTBBSi93di80ZC93RFFZbi84QXB2L0FJbXZKdjJqdmliNFg4YStFOU5zZkRsL0xjM0VONkpuVnJkNHdGOHR4bkxBZHlLNmY0UmVIZmhWOFJkSmtsZzhNUldtcVc1eGMyWnZaMktnOUdVN3hsVDY5ang5ZWY4QTJsL2gzNFc4SStFdE12UERtbExaWFV0OElYY1RTUGxQTGM0d3pFZFFLQU8yOENmRzd3THBQZ2Z3L3A5L3FrMGQzYWFmYjI4eUMwbGJhNlJxckRJWEI1QnJjLzRYL3dERHovb01ULzhBZ0ZOLzhUV1g4UHZnNTRFMVB3TDRkdjcvQUVGSnJxNjA2M25ta056TU43dEdyTWNCOERKSjRIRmNUOFJyTDRXZUV2R09sK0hyTHdaL2E5N05JcTNjVnZlVDc0UTNDS28zNExuSU9EampIclFCN2Y0SCtJL2hueHZkM050NGN2WkxtVzJRU1NCb0hqd3BPQjk0RE5kaFhLK0RmQVBobndmUFBjK0hOS0ZoTmNvRWxQblNPU0FjZ2ZNeEhYMHJxcUFDaXZuZnhkNGErTkZ4NG8xYWJRdFZrajBxUzZrYTFYN1lpN1lpeDJqQjZjWTRySC80UlQ0OWY5QnFUL3dPam9Bb2VKa1B3ai9hSmcxYU1HUFJOVmZ6WHg5MFJTbkVvLzRDL3dBMlBRTFgxY3BES0dVZ2dqSUk3MThpZUovaFA4WFBGQnRqcjgwVi93RFp0M2xlZGVvZG03R2NmWGFQeXJYdGZCdng0dGJhSzNnMWgwaGlRSWkvYjBPQUJnRG1nRDZsb3I0WjF2eDM4U3RKOFF2b2tuaWk3dWRRU1FRbU8wbUV3OHduR3dGUnkyZU1EdnhYMmg0UlcvVHdwb3k2eVhPcHJaUWk2TGtGakxzRy9KSEdkMmFBT1IrTlBqWFd2Qk9qNmZkZUg5TFRVcDdpY3hQRzhidnRYYVRuQ0hQV3ZJUCtGKytQditoT3QvOEF3R3VQOGErbzZLQVBsei9oZnZqNy9vVHJmL3dHdVA4QUdxZDUrMGw0dXNaUkhlK0hOTnQ1Q053U1dPWkNSNjRMZE9EWDFEcm1yV1doYVJkNm5xazYyOWxheG1TV1J1d0g4eWVnSGMxOGplRDVYK05meDRGN3JQeTZiQXB1UmFzYzR0NHlBa1g0c3dMZXVXb0E2R0w5b1B4MUxHa2tYaEswZU53R1ZsdDV5R0I1QkJ6MHAzL0Mvd0R4OS8wSjF0LzREWEgrTmZVZ0FBQUF3QlJRQmcrQTlYdk5mOEg2VnFtcFd5MnQ1ZFErWkxDcWxRalpQR0R5UHhyZW9vb0ErVFBDL2lqNHQrTmRmMW15OE5hL0dCWVNIY3MwY0tBS1dZREIySFBTdXEvc0w0Ly9BUFF3V0g1dy93RHh1dk52aFRvUGpEWFBHSGljZUNOZGkwZVdGeWJocEhZQ1FHUnRvd0ZiT01IL0FDYTlVLzRRTDQwLzlEL1kvd0RmYi84QXhxZ0NwL1lYeC84QStoZ3NQemgvK04xbWVKVitPbmh6UXJ6VjlTOFEyZ3M3UlBNazhzUXMyTTQ0SGw4OWEzditFQytOUC9RLzJQOEEzMi8vQU1hcm0vaVA0TStLdGw0STFlNThRZU03UyswcUtMZmNXNk8yWkZERGovVmp2anZRQjYzK3ovNGgxVHhSOE43WFU5ZHUydTc1NTVrYVVvcTVDdGdEQ2dDdlI2OGkvWlkvNUpCWmY5Zk0vd0Q2SFhydEFCUlJSUUFVVVVVQUZGRkZBQlh6MSsyVGRoUERIaDYwQithVzhrbEgvQUV4L3dDejE2YjhZTGZ4ZmMrRm9rOEFTdEZxd3VrTHNIalg5MXRiZHkvSFhiWHlWOFRyYng5YytKZEowVHh2TzkzcXJxUHNVSmxpYkFsZllPVk9CdVpNYytsQUgybDRHc3Y3TjhGYUJaWXdiZXdnaVAxV05RYTJKNVVnZ2ttbGJiSEdwZGpqT0FCazE4cjZsYWZIalJ0SHVyNjd2M2hzN0tCcHBYKzBXeDJ4b3VTY0RrOEE4VjNud0I4VDYzNHErR1BpSzk4Ulg4bDlQSFBMREhJNEF3b2hSc2NBZDJQNTBBZFAvd0FMditIZi9ReHgvd0RnTFA4QS9FVWY4THYrSGY4QTBNY2YvZ0xQL3dERVY0ZCt6ZDhPZkRmampTZGF1UEVWbkpjU1cwMGFSRkpuandDcEorNlJucFhiL0ZYNE0rQ3ZEM3c4MXpWdEwwNmVLOXRZTjhUbTZrWUE3Z09oT0Qxb0E5dDhNK0lOTDhUNlRIcWVoM1F1N0dSbVZaUWpLQ1FjSGhnRDFyVnJ5YjlsNy9raittZjlkNS8vQUVZMWVzMEFmTGRqOFUvaW40aDhVNjFwbmhhMHNMejdCTklwVVFvcFZBNVVFbG1HYTJ2N2UrUDMvUXYyWC9mTVAveHl2TnZoMzRrOFRlRy9pUjR1bThKYUMydFR6U3pKTEVzYnZzWHppUTN5OU9lT2E5US80V244VnY4QW9tMHYvZ1BQUUJ5ZWpmRmY0dGExNGl2TkMweXlzSjlXc3pJSjdjUUlDbXh0cmNsd09HSUhCcnBmN2UrUDMvUXYyWC9mTVA4QThjcnlmd0g0cDhWYVo4VjliMWpSdkRqWDJ1WFRYSnVkUEVVakdIZEtHY1lISTJzQU9mcDFyMTcvQUlXbjhWLytpYlMvK0E4MUFEL2hQOFN2R3VzZkZKL0MvaTZPMGhNTVVwbWlqaEFaWFVBZ2JnU085ZlFOZkp2d1cxRFVkVi9hT3ZyN1c3RTJHcFR4M0R6V3BSbE1UYlJ4aHVlbUsrc3FBUEd2RzN4dGw4TWVLTC9SbDhJNmpmQzFZTDlvaWx3cjVVSGo1RDY0NjE0UjhjdmlaY2VPYnJTZG1rM3VpL1kwa3lzc3hKbDNsZWNiUndOdnYxcjZHK0p2eFMxZndkNGlUVGRQOEhYbXN3dEFzMzJtS1YxVUVsaHR3STI1RzMxNzE4Ni9IWHg3cVBqbWZSMjFQdzVjYUViTlpRaXpTTTNtN3ltU01vdlRhUFhyUUI2N0IrMFhONUVmL0ZEYXFUdEhJbUpCNDdIeTY2N3gzOFI5UjAvNE13K01kSnNrdEwyWXhZdHJzRi9MRFB0SU9Odk5jWkI4ZmZFUWpSUjhOdFJPRkF5SnBPZi9BQ0RYUS90SDNUWDN3TGt1cElUQTg3V3NwaVBWQ3pLZHY0WnhRQnhtaWZFWDQxNjVwVnZxV2xlR3JDNHNiZ0ZvcFJiNERBRWpJQmtCNmcwL3c1OFd2aU0veEwwand0NGcwM1RyZWFlNWlXNWhqZ0prU0lrRmprT1FQbHllZWc1cjBQNGMzK29hVit6NXBONW91blNhbHFNV25sb0xaQ011MjQ0NmtaQTZrRGtnWUhOY0oreStkSnZOYjE3VTladmpONDZ1Slg4NkM1UXBKRkhuNWlvUFVrOWNkTUFZSGNBK2o2OEYrTW54YzhWZUVmaUJENGU4TmFYcDkvNTF0SEtpU1c4c3N6dXhiSUFSeG43dlRGZTlWOHgvRlMvdGRNL2FpOE5YbW9UeFc5cEZEYnRKTE13VkVHWk9TVDBGQURQK0Z4ZkdEL29RMC84QUJQZWYvRjEzSHdEK0tPdmVQOVQxdTE4UVdXbjJwc0VqS3JiUlNJMjVtWUVOdmR1bVBhdTcvd0NGa2VDZitocjBQL3dPai94cndYOW5Gcmk4MTM0a3RvMG8rMHp3c2JXUU1BTjVhWFkyZnFSUUIxLzdZUi80dDlwSyt1cHIvd0NpcGE5VCtHcWVWOE92Q3NmOTNTclVmK1FWcjVMK00ra2ZFcXcwU3dieC9xUXV0T2U0SWhWWmtjTEx0UFVBQS9kM2ZyWForSHZEUHh4T2dhWWROMWxJckg3TkY5bmphNWp5a2UwYlFmbDdERkFIMUxYRi9GcnhGcnZoZndvTlE4TDZWL2F1b2ZhRWoreitSSkw4aEJ5ZHFFSGpBNXJ4L3dDQ2ZpdnhyUDhBR0c5OE5lTHRZbHV4WjI4d2xoeXBUekZLOGdnRFBXdnBTZ0Q1ZXUvamI4VDdTMmx1THZ3VkZiMjhTbDVKSmRPdWxWRkhVa2xzQVZXMHI0K2ZFUFdJNUpOSThLMlYvSEdkcnRhMlZ4S0ZQb1NybkZiL0FPMHA0dnV0WjFPeStIUGhjbWEvdkpFKzJlV2U1SUtSSDBIOFRlZ0E5NjlkOEMrRVkvQkhnV0RSZEc4azNjVVRNMHNnTzJXNEk1ZHNjNHpqanFBQU8xQUhpUDhBd3VUNHNmOEFRaGovQU1GZDMvOEFGVjY3NDUrSmxoNEU4T2FMcVhpQ3l2SGsxQlFERmFvdVVmWUdZRU93eDFybWZnWjhTdFU4UzZ0cnZoL3hlSTRkZnNabmRZMVFJTmdPMWtBLzJXL0VodmJOYzUrMlVQOEFpbS9EdWY4QW43ay85QUZBSHBQeG52WlArRk9hOWUya2tzRWpXYXlJeXR0ZGNzcDZqb2VheVAyWmJxNHZQaFBaelhseE5jVEc1bkJrbGN1eEFmamsxYytMdi9KQjlZLzdCc2YvQUxKV2QreTEvd0FraHN2K3ZtZi9BTkRvQTIvalI0NDFEd0Y0Y3M5UjB2VG85UW1tdWhBMGI3c0FGR2JQeS83by9Pdkd2K0drUEZQL0FFS2RyLzVGcjZsb29BK1d2K0drUEZQL0FFS2RyLzVGby80YVE4VS85Q25hL3dEa1d2cVdzanhSNGswand0cE1tcGE5ZlJXZG9uOFRubGovQUhWVWNzZllVQWZPSC9EU0hpbi9BS0ZPMS84QUl0VjIvYWUxMEVnK0g5TkREcURKSURVbmluNHArTHZpbHFyZUhmaHpZM05wWU9jUEtwMnl1blRkSS9TSmZZSEo5VG5GZWovQ2Y0RzZQNFFNV282MTVlcTY0UG1ETXVZWUQvc0tlcC8yano2QVVBZXhJU1VVbnFSbWxvb29BS0tLS0FDaWlpZ0Fvb29vQXJYWCt2dC85NytvcXpWYTYvMTl2L3ZmMUZXYUFDaWlpZ0Fvb29vQWh2UCtQWi93L25UNFA5VEgvdWltWG4vSHMvNGZ6cDhIK3BqL0FOMFVBUG9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0ErUXRMOEFXUHhEK1BYam5UOVR1cm0yaHRwcDdnTmI3ZHhiemxYQjNBakh6R3JQdyswNngrSEh4MThSMjRrdUxtdzBiVEo1MmNoVEk2TENramNjQW5rNDZWazJQam0rOEcvSEx4dHFHbGFPMnJTelhOMWJ0Q3BiS2dUZzd2bEI3cmo4YTJmaEZxcmVOUDJnTlh2OVoweExZYWhZekpQWlNqZXUzWWlGV0RBWkJBNUJIZWdCZmpyOFlmRG5qcndRdWthTkJxVWQwTHFPY200aVJWMnFHQjVEbm5rZHE3WDRZZkhMd3RIb3ZoVHd3MXZxdjhBYUlndE5PM2VTbmwrYnRXUE9kK2R1ZStNNDdWeXZ4cThMNkZlL0Zyd2I0UjBEUjdHeEVwRWw1OWpnV0xjanVNN2lvSFJJMlB0dTk2OU84RHQ4UHRlOFk2MXBXbGVFTEN5MVBRWnh1a2xzSVVKZFhJM1JrWlBES0RuanFLQU9LL1p3Tzc0cS9FWWp2Y01mL0k4bFJlRVArVHV2RUgvQUZ5bC93RFJhVkwremlNZkZiNGpnZEJjUC82UGtxTHdoL3lkMTRnLzY1Uy8raTBvQStrS0tXdkwvamw4VG9QQWVpZlpyRmtsOFFYaUVXOGZCOGxlaGxZZWc3RHVmWUdnRHovNDlhM2MrTy9HK2svRGZ3N05sZk9XUy9rWG9yWXpnK29SY3NSNmtEcUs1YjR1NlpiYU44ZWZCR21XS0JMVzFqMDZHTlIyVVRrRDhlSzlTL1ozK0hVL2h6VEovRWZpQldmeERxbzN0NW95OE1aTzdCSjUzTWVXL0FkalhuZngyLzVPUThLL1d3LzlIbWdEUzFxVnZnNThlUDdTT1kvQy9pSWt6ZjNZeVcrWS9WSE83L2RiRmZTOFVpeXhxOGJCa1lCbFlISUlOY2Q4Vi9BOXQ0OThKWFdsVDdZN29EemJTY2ovQUZjbzZmZ2VRZlkxNVIrei93REVXNDBpL2I0ZmVOUzF0cUZuSjluc3BKajZjZVN4L3dEUVQwSXdQVElCOUZWNVg4UWZoSG9IaUR4SGNlS2RRTXp5UldqbVMxRGZ1NVpFWDVIUGZnZFFPRGdlK2ZWS282Ly9BTWdMVWY4QXIyay85Qk5BSHlQOE1yWDRvK1BkUHVwZEE4WXpRUVdiTEN5WE43TEdlUmtZQ3FlTUN1cTFQd0Q4WmRPMDI2dlovSENtSzJpZVp3bW96NUtxQ1RqOTMxNHJTL1k1WUw0YzhTTXhBQXVveVNldzJHdlgvaWxxTU9uL0FBMzhTWEx5b21kUG5TTXN3QUxzaFZRUHhJb0E4Ny9acHZMcnhkNEl1Yjd4UlBKcTl6WjZzelcwMTZmTmFFckZIZ3FUMHh1UDUxeS83UXYvQUNYVHdCOWJiLzBxTmRoK3liYkdENFZ0SVJnWEdvVFNqMzRSZi9aYTQvOEFhRi81THA0QSt0dC82VkdnRFkvYkYvNUVuUS8rdi84QTlwdFh0UGhJZ2VFdEdKSUFGakRrbi9ybUs4Vy9iRi81RW5RLyt2OEEvd0RhYlY3VDRSLzVGVFJmK3ZLRC93QkZyUUI4bS9HWHhOZS9GZnh6SnBmaHo5N28yand6U28rVHNjSXVaSmlmVGdCZncvdlYwUHdBdjlaMHo0UWVOcnp3MWFpNTFXS1pUQ2g2ajkyTXNCL0VRTWtMM0l4N1Y2MlBoOW8zZ3p3cjQydU5KaS9mNmxiM1V6dXcvd0JXaFJpc1MraWpKL3ppdUgvWTQvNUZUWC8rdnhQL0FFWFFCSit6TDhQWjdLQ1h4bnI0ZHRUMUFNYlVTOHVzYmNtVnY5cC81ZjcxYzcrMTVjQ3o4VmVFN2pidjhxSjVOdWNaeElweG12cUd2bVA5ckpGazhhK0RVa1ZYUmtaV1Zoa0VlYW1RUlFCc3IrMUJvaEFKOFBhbVArMmlWMGZ3L3dEanJwZmpUeGJaYURhYVBlMjgxeUpDSlpKRktyc1F1ZUJ6L0RYby93RHdpbmgzL29BYVQvNEJ4LzRWTlplSDlHc2JsTGl5MGpUcmE0VE8yV0cyUkdYSXdjRURQU2dEU2xrU0dKNVpYVkkwVXN6c2NCUU9wSjdDc2QvRlBoMWdVYlhOSllFWUttN2o1SDUxZTFyVDAxYlJyL1RwWGFPTzd0NUxkblRHVkRxVkpHZS9OZUdmOE14ZUhNNS90elY4L1NML0FPSm9BejRQQWRqb1B4a3RmRUhnL3dBVTZOcDJpT1dtdUkvdGNaMlpQelFoTjNLdDFIOTM4Qm1YOXJQV3RLMUh3WnBFT242blkzVXcxQU9ZNExoSFlLSTNCT0FlbVNPZmNWQjRqL1ovOEdlSE5HdWRWMWp4THFsdFpXNjduZGhGK0FBMjhrbmdEdlh6M2UrSDdwTkNsOFFRUXl4Nkc5OGJPMmVjL3ZKRGhtN0RCd0Y1STR5ZU8rQUQ3TDhHNjdwN2ZDUFFyT3g4UjZYcCtwLzJOYnhSeXl6UnQ1RW5rcU1sQ3c1QjdHdUQrQ25nblIvRFdyWFhpVHhsNGgwVzg4UXlTdUlUOXZqa0VZSk9aZHhQTE4rZ1BxVGp4SFFmQm1uV3ZpYlI3THgzYzNXbTZacTFsRmRXbDliN2RuN3hWWmR4WVlBR1NwOUR6MDVyM1JmMlkvRGpZWWE1cTdBOGdqeThmK2cwQWUxMi9pVFE3bWRJYmZXZE1sbWM3VVJMcU5tWStnQVBOYXRlTGVGdjJmTkM4TytJdE8xaTExYlU1WjdLWlprU1RadFlnOURoYzE3VFFBVVVWem5qYnhwb2ZndlMvdDJ2M3FRSzMrcWlYNXBaajZJdlUveTljVUFkRExJa01UeVN1cVJvQ3pPeHdGQTZrbnNLK2F2aS93REdxNjF1OC80UlQ0YStkY1hGeTNrdmUyNEplUW5qYkRqdC90L2xqclhPZUlmRnZqVDQ0NnlkRjhNMmt0am9JUDd4TjJFQy93QjZlUWZtRkg1RWpOZTcvQ2Y0V2FOOFByTGZDQmVheEl1SnI2UlFHOTFRZndyK3A3NW9BNXY0SC9CbUR3YWtlcytJQkZjK0lYWDVRUG1TMUI2aFQzZjFiOEIzSjlub29vQUtqdUo0cmEza251SkVpaGpVdThqbkNxbzVKSlBRVlcxblZiRFJOTm12OVd1NGJTemhHWGxsYkFIK0o5aHlhK1dQSHZqN3hEOFpQRUMrRmZCTnRQRm81YjU4bmFabEI1a21JKzZnN0wvTWtBQUMvRXJ4WnFueHE4YVd2aEh3YUgvc09HWExURUVMS1IxbWYwUmY0UjNKOVNBS2Y3UE5sUG9YeGo4VDJPbktMMjUwK3l2WUlGZHZMRXpKS2lyazg3Y2tENlpyNkkrRlh3ODB6NGU2Q0xTekFudjVnR3U3d3JocFc5QjZLT2NEOGVwTmVIZkFiL2s0L3dBWWY5di9BUDZVclFCdmZEbjQ1M3RwNGh1ZkQveE90eFlYUm5aVXVpbXdRTVRrUnlMMlhuaC9UR2M5YStpVllNb1pTQ3BHUVFjZ2l2T1BqRDhMTk8rSUdtR1ZmTHROZGhURnZlYmZ2RCs1SjZyK283ZHdmRlBobDhUTmErRnV1djRSOGV3M0g5bVF0NWFsdm1lMEhaa1A4Y1I5dTNJOUtBUHJPaW9MRzd0Nyt6aHU3T2FPZTJtVVBITEd3WlhVOGdnanFLODArTC94aDBqd0hieVdkbzBXb2VJR1g1TFZXeXNQbzBwSFFmN1BVKzNXZ0R3SDRuK0V0VitGZHpKZVdYakpvTC9VNWkzMlBUNUpJWkRIa25jeEJIQUp3TTl5Y2Q2Njd3aDhNL2locjJnMnVwM2ZqdlZOTWE1VVNKYnpYMXcwZ1E5QzN6REJQcDlNODhESHNmZzk4US9IVnduaXZXTlFzN08rdVdFNkM5WnhLdURsZmtDRUtPbUI2ZGhXWkpmL0FCTWsrSW4vQUFodW0rTkxuVU5RVi9MZWUzdXBEREdRTXZ1WXJuNWVjNEI5T3ZGQUhvLy9BQXAzNGovOUZQMUgvd0FDN24vNHVvTDc0SmVQciswbHRiNzRqM2R6YXlqYkpETmNYRG80OUNwYkJyRThmYUQ4VS9CUGhpNDF2VlBpQnZoaVpFRVVWMUx2a1ptQUFYS2daNm42QTBlQS9EdnhiOFkrR3JiV3JYeHROYVcxeVc4dExpNWxEa0tTdTdoU01FZzRvQTkwK0VQZzZmd0w0S3Q5RHVydUs3bGpsa2tNc2FsUWR6WnhnMTJsZk0zd2UxWHhsSDhjTHJ3MzRpOFJYV3B4YWZGTjU2K2N6eE13VUFIa0RvV0hVZHErbWFBQ2lpaWdBb29vb0FLS0tLQUN2bHkrejRzL2E0aGpIN3kyMHVWUG9vZ2ozZjhBbzMrZGZUOXpJWWJlV1VJOGhSUzJ4Qmxtd000QTlhK1J2MmVQRWVsMkh4VTF5KzhXVG14MWZVTjhVUW5VcW9sa2wzU0t4UDNXeUFCbjNGQUh2dng3MUJkTitFWGlXVmpneTI0dDFIcVpHVlA1TWE1WDludlQvc1h3R014VXFidzNkeHlPdjNrQi9KQldMKzEzcjJ6UTlHOE5XdVh1NzY0Rnc4YWNrb3ZDakh1eDQvM0RYckdqYUwvd2p2d3l0ZEk0M1dlbStVK083aU03aitKeWFBUElmMk5mK1FCNGsvNitZdjhBMEUxNlo4ZWYrU1ErS1A4QXIxLzluV3ZNL3dCalgva0FlSlArdm1ML0FOQk5lbWZIbi9ra1Bpai9BSzlmL1oxb0F4UDJYZjhBa2oybWY5ZDUvd0QwWTFlczE1Tit5Ny95UjdUUCt1OC8vb3hxMVBpMzhVN0w0YlNhV2w3cDF4ZW0vRXBYeVhWZHV6Ym5PZjhBZkZBSHp0NEs4WGFwOE92SC9pbS9pOE5YbXFDOW5sakNndEVGSG1sczUyTm12UXYrR2k5Wi93Q2llM2YvQUlGdi93REdhbC80YWkwZi9vWE5SLzcvQUNVZjhOUTZQLzBMbW8vOS9rb0E4ZThFZkVXNThPL0ZUVy9FMEdoU1hrK29OYzVzQktWYUl5U0J5TjJ3azdjWSs2UHdyMXovQUlhTTFmOEE2Si9kL3dEZ1cvOEE4WnJ5andKOFRiWHcxOFZ0ZDhXVGFiY1QyK3BOY2xZRWRRNmViS0hHU2VEakdLOWQvd0NHb05IL0FPaGMxTC92OGxBSE0vQmUvdjhBWC8yZ3J2eEJkYVZjNmVsN0ZQSjVjZ0pDbmFCamNRTTlQUVY5V1Y4OC93RERVR2ovQVBRdWFsLzMrU3ZZUGh6NHRoOGIrRkxYWGJXMWx0WVoyZFJGS3dMRGF4VThqNlVBZVdhOThYL0cybjZ6ZjJscDhPZFJ1cmVDNGtpam5TS2JFaXF4QWJJakk1QUI2MTRuOFovRzJ1ZU85YzBpMTFqdzdQcEY1YktWaHRHUi9ObE1qRG5EQUU1S2dEQTlhK21QaWQ4WlBEbmdtR2EzU1pOVDFwUVF0bGJzRHNZZjg5RzZMOU92dFhpL3dpbXNmRXZ4Qm44Zi9FSHhIbzl0UEhLV3RiU2U3ampiZUJoU0VMWlZFSFRQSk9EMnlRRHJoOGEvSG82ZkRIVWYrL054L3dERzZzL0dYVzcvQU1SZnM1dHFtcjZWSnBOOVBjUitaWnlxeXRIdG5LaklZQThnQTlPOWQ5NHUrSm5odXc4TGF2ZDZQNG0wS2ZVNExTV1MyaEY3RzVlVUtTcTdRMlRrNDRyeWpUZkYxdDhXdmhkcVdsZU52RkdpZUg3OXI1UEtaOWlFeG9FYk94cEFUa2xoblBhZ0R0L2hYNDY4TmVHL2hyNFUwL1hkWHQ3Qzdrc0JNaVQ3bERJWGNaQnhnOHFlTTU0cnlUNHIrSjlHMVA0MStHTlQ4QXpMTnFLeXd4ejNGdXBDelNHVEFYdHUrVTRKN2dnZHE5TnN0RitGRXZoVFJkSDhSK0lmRGVyeWFaQjluUzVOK2tERUVrbkFXVEk1UHFhNnI0ZStEL2h2YVhMNmg0SnRkSnVaNERnM0Z2Yy9hakVTT3pGbTJuSHBpZ0QwTTVJR0RpdmxqNDJhSGErSlAya05DMGpVREtMUzd0N2VPVXhNRmJibVFuQklQcFgxUFh5ZjhmUDdaLzRhRDBqL0FJUmc0MXI3TEI5bFB5ZmZ5LzhBZitYODZBUFNmK0djUEEzOTdWLy9BQUtYL3dDSnJqUDJTN1ZMTHhoNDJ0WWl4amcyUktXT1RoWkpBTSsvRlQrViswWC9BTTk0L3dBdFAvd3F2K3lQOXBIaW54bjl1NXU4UitkMCsvdmZkMDQ2NTZVQWJYN1l6Z2VFdEFqN205WnZ5alArTmU0K0hJL0o4UDZaRjAyV3NTL2tncjU5L2EyZHRSMTd3Vm9VSi9lVHlTa2ovZmFORlA2TlgwakdpeHhxaURDcUFBUGFnRDVwK0dIei90VCtMVC9kKzEvK2hvSzl2K0oycjZ2b1BnYlZOUzhPMll2TlRoUmZLaTJsaWNzRkpDamtrWnpqdml2RHZnczMyajlwbnh6Si9kKzNmcGNvSytoL0UydDJmaHZRYnpWOVRMaXp0RTN5bEYzTUJrRGdmalFCOGdmRGV6K0kyaWVJNzdYN0h3YmQ2aHJGMkRpNzFPMWxVUjdpUzdESlVFbnBuUEErdGREcEh4RitMbmpQeExlZUg5SHVMR3gxSzBFaG5qV0NKUkZzWUkzTDd1UXhBNHIxRC9ob253SjJsMUkvOXV2L0FOZXZFZmhiOFF0RDhPL0Yvd0FTZUpOVE55Tk4xRDdWNUpTTGMvN3lkWFhJenh3RFFCWjhRZUdmaUQ4UC9HR2tlTnRaYUhVdFJ1YndSdjhBWXlYYVZ0dUNqS3FnZk1nWWNaNkd1Ni9iQW1GeDRTOEx6QkpJeEpjTyt5UmRyTGxBY0VIb2ZhdXowMzQ5K0NOUzFHMHNyZVcvYTR1SlVoaUJ0aUJ1WTdSem5qclhJZnRsZjhpMzRkLzYrNVAvQUVBVUFkOThYUDhBa2crc2Y5ZzJQLzJTczc5bHIva2tObC8xOHovK2gxby9Gei9rZytzZjlnMlAvd0Jrck8vWmEvNUpEWmY5Zk0vL0FLSFFCNjNSUlJRQVY4YXlhUmVmRlA0L2F0b3V2NnZkZlpMVzh1MGp4ZytYREZJUUkwSFJlQU9jZTV5YSt5cStUL2hEL3dBblJlSXYrdnpVZi9SalVBZlN2aEh3dG8vaExTVTA3UUxLTzF0MTViYU10SWY3ek4xWSs1cmJvb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBSzExL3I3Zi9lL3FLczFXdXY4QVgyLys5L1VWWm9BS0tLS0FDaWlpZ0NHOC93Q1BaL3cvblQ0UDlUSC9BTG9wbDUveDdQOEFoL09ud2Y2bVAvZEZBRDZLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLNVQ0cTY4M2h2NGU2N3FjU3Vabzdaa2kycVdJZHZsVThkZ1NDZllVQWVOZnN5TXVwL0ViNGhhMUVkMFVzL3l2MlBtVFNPT2ZvdFRlRi84QWs3enhGLzE2bi8wVEZVWHdmbHYvQUlkZkF5YnhQYjZQSnFsM2YzWW5hMlZpam1ISWpVZ2hXNzVicDBhc0g0YVdHdWZFUDRuZUxOY3ZOTnV0SWcxSFRaNFBOQVlMRTdvc2FBT1FNa0FaL0EwQWIvd2pjZU5Qang0czhZdXdld3NBME5ySVQ4dlA3dENEMC8xYU9mOEFnVkdrYWxaNlQrMW5kcnAxNUJQYTZ6YkdOekJJSFZYTVlZaGlEMTNSZFA4QWFGUytIdjJhWW9yVHlOZDhVWDBsdTVEUGEyS2VVaFBxU3hZRSsrMnRHNStCS2FMNDI4S2FyNEhhSzF0ckNZVFh6WGM3czhtMTFPRkdDTWxkdzdDZ0RtL2dmck9uNkI4US9pWHFHc1hTV2xsSGNsWG1jSGFwTnc0R2NlNUFxUDRYNnJhZUl2Mm90YzFUU1pmdEZqSkRNeVNnRUJsQ29tN25zVFMvQlRRN0h4SDQ1K0tHa2F6RDU5bGN6RlpVREZjNHVIWVlJNUhJQnIzUHdUOFBmRFBncDU1UER1bXJiVFRxRmtsYVJwSEs1enR5eE9CN0NnRE0rTkh4RFQ0ZCtHRnZWdEpMbSt1bU1OcXUwK1dIeG5MdDJBNjQ2bnQzSThuK0VQdysxUFhMeTQrSW5qd1NYVjA0TnpaVzF3T1pXQXlzakwyVVlHMWZvZW1NL1JXcmFYWTZ4Wkd6MVcwaHU3Vm1WekZNZ1pTVklJT0Q2RUNyWUFBQUFBQTRBRkFIemQvd3YzeGovd0JDQkwrVTMveEZlUitQL0hXcTYvOEFFblRmRVYvby93Qmh2N0l3RkxKZy93QTNsdnZYT1FEeVQ2VjkzVjhxL0hYL0FKT1A4Sy83MWgvNlVHZ0RZLzRYNzR4LzZFQ2I4cHYvQUltcHZGZmd1NitNWGdlRHhaRnBnMGJ4ZEFYVDdQOEFNb3VFUThLeFlBN3Y3cmZoMDVIMFpSUUI0Tit6ejhTTmUxZSttOEkrSjdDOG12ckJDUHRqS1E4WVhqYlBudjJCNm51TzllMTYvd0Q4Z0xVdit2YVQvd0JCTlR3MmRyRGRUM01OdkRIY1RoUkxLcUFOSnQrN3VQVTR6eG1uWGNLM05wTkE1d3NxTWhQc1JpZ0Q1MS9aSXRZNy93QUcrTGJPWVppdUpWaVllb2FNZy96cS9GK3pENGREanpkYzFaNHY3b1dNSDg5cC9sWEErRmwrSkh3WjFiVmJQVHZEa3VxV1Z6SU56aTFrbWlmYm5hNnNoK1VrSG9meXJxeDhiL2lLd3duZ0I5My9BRjZYQi9TZ0RzNXZHZGo4T1BIWGhyNGNhUG9hdHB0ekZDc2M0dUNyUk5KSTRabUJVN3VtNDhqSkpyZThkZkRDMDhYZU5ORThSWEdwVDI4dWwrWHNoU01NcjdKUE01SlByeFhrWHcrMER4djQ1K01OaDR4OFg2VExwMXJaL1A4QXZZR2dVQlZPeEVSanVQekhPZnJ6MEZlaS9HajRxYWg4TjlVMDVJdEVqMUN4dTRTL21HVm95cnEyQ09GSXhncitkQUhOL3RqZjhpVm9uL1lRL3dEYWJWN1Q0Ui81RlRSZit2S0Qvd0JGclh5RjhRL2lEcjN4a2swelI5SzhQdEVzTXU5WXJkbW1ablliUVdiQUNnYy9tY25pdnNmUmJSckRSckN6ZGd6Vzl2SENTTzVWUVA2VUFVUEhIL0ltYS84QTlnNjQvd0RSYlY0dCt4eC95S3V2L3dEWDRuL291dmFmSEgvSW1hLy9BTmc2NC84QVJiVjR0K3h4L3dBaXJyLy9BRitKL3dDaTZBUG9PdmwzOXI1Wlg4VStGRnQ4aVpvWkFtRGc3dDY0d2UzTmZVZGZNbjdWMy9JOWVDZm8zL28xS0FJLytFUStQSC9RY20vOEdDMXBlR3ZDdnhxZzhSNlZOcStzelNhYkhkeFBkSWI1VzNSQndYR08vd0F1ZUsramFLQUFkSzQ3NGhmRWJ3OTRFc21rMWk3RDNaWE1kbEJocHBQVDVldzl6Z1YwUGlLeXVkUjBLL3M3Rzhsc3J1ZUY0NHJtSTRhSnlPR0gwTmZQbmdMOW5xZTV2UnEzeEh2WHVwMmJ6RFp4ekZ5NS93Q21zbWVmb3Y1MEFZZW4ybmlyOW9IeExIZDZwdjB6d2ZaeWZLaUU3Qi9zcWY0NUQwTGRGL1E5UisxVHBkbG92d3k4TzZkcGR1bHRaMjErc2NVU0RBVUNLVDllNVBjMTc5cDFqYmFkWncybGpCRmIyMEtoSTRvbENxZ0hZQWRLOE8vYkMvNUVYUnYrd2tQL0FFVTlBSFFyNEMwL3gvOEFCTHd0cDk4UkRjSnBOcTlyZEJjdEEva3B6N2c5Q08vMUFJOHo4SWZFWHhMOElOV1h3cDhRTFNhNjBxUGkzblE3bWpUUERSc2Z2eC83SjVIVGpHMnZmZmhkL3dBa3o4Si85Z20wL3dEUktWYjhXK0Z0SDhXNlMrbmEvWlIzVnVlVko0ZU52N3lNT1ZQMG9Bc2VHdkVXa2VKOU5XLzBHL2d2YlZ1clJubFQ2TXA1VSt4QU5XdFcxRzAwalRiblVOU25TM3M3ZERKTEs1d0ZVZjU2ZDY4RDBENEU2cDRWK0l1bWFsb1BpQ1pkQ1diZk92bU5GUHNISWpPM2gxSkdEMDRQU3U3K1BuZ3ZWL0czZytPejBLNjJYRUV3bU5vekJVdVIwd1QySTZqdCtPQ0FEd3J4WDhkUEd1czZ6cUY1NFJhZXgwU3pIQWp0RWwyeDV3SkpXWldBSlA0RHB6MU1Yd2s4REg0dWF2ZWEzNHM4UnRjTkRJQk5hckp1dVpCMUdjL2NqNXdNWjZFREZmU0h3MytIK20rQ3ZDQ2FMSEZEY3lUcG0rbGRNaTRjakRaQi9oeHdCNmU1TmVUK01mMmRiaURWbjFiNGQ2eWRObTNGMHRwWkhUeWlmK2VjcTVZRDJJL0dnRDN2dzlvbW1lSHRMaTA3UkxPR3pzb3g4c2NZeHo2azlTZmM4MXBpdm1IK3pQMmd0RytTMnZKTDJOZWhFMXJObi92NTh4cDMvQ1IvSDYzSDczU0dseDNOckFmL0FFRTBBZlRsRmZNZzhXL0hoK21nL3dEa21uOVRYb2Z3YnZQaVRmYXJxRXZ4Q2hOdFpMQUJieGVURW01eTNKeXZQQUhjL3dBVkFFZnh5K0YrcC9FRyswVjlQMVkydHRDeGp1WVpXSmpSVGsrYWlEZ3YvRDJ6a2NqQnJ0UEFIZ2pSdkEyakxZYUxBRkp3WnJoK1pKbTlXUDhBVG9LNmlrTkFCWHl4OEJ2K1RqL0dIL2IvQVA4QXBTdGZVOWZMSHdHLzVPUDhZZjhBYi84QStsSzBBZlZGZWY4QXhlK0dtbmZFTFJmTGsyMjJyVzZuN0plQWNvZjdqZXFIMDdkUlhvRkZBSExmRFB3aEI0SDhJV21pMjg4dHdZOHZMSzdIRFNIN3hVZndybm9CL01rMWwvOEFDc3ZDTmg0eHZQR0Z6YVFyZU1QTll6RUNDSitkMG9CNERIakpQUWpJd1NhNzJ2R3ZpaDhLOWU4ZGVMa2VYeE5MYitHVEdyTmFFbHZMa0hCQ0lNS2NnWjNNU1FUM0ZBR0Q4VHZqVE5xbHovd2kvd0FNWTViL0FGTzZQa205aFhJR2VvaTlmZHp3QnlQVWRiOEUvaGhGNEEwbVc5MUowbTErOFhOMU5uSWlYcjVhbjB6eVQzUDBGYTJqK0d2Q253azhMWHVvV2RuS3NWdkZ2dXJyeXpOY1NnZXBBNmV3d282OGNtdkUvRUhqYnhuOGFkUmswTHdiWnk2ZG9KK1c0a0p4bGZXYVFjQUVmd0xuUFAzcUFIL0ZIWGJqNHkvRWJUZkNIaFo5K2pXVWhlYTZYbEdZY1BMbis2bzRYMUpQcUsrbTlEMHkyMGZTYlBUckNNUld0ckVzTVNEc3FqQXJ5QStIYmo0SitBb3Jud2hvL3dEYitxelhDTHFEbU56Skl1MXVWQzVLcXB3QU9ldVR6elhJYXY4QUdqNGk2cllUV1drK0NMcXp1NVZLZWNsdE5LNkFqR1ZYYU9mVE9mcFFCTCt6OW5XUGpwNDcxby9NZzg5VlBzOXdDdjZJYStsNjhiL1pwOEFhaDRNOFBYOTVyc0gyZlU5VGRDWUMyV2pqUUhhR3gzSlpqajZaNXIyU2dCc3NpUlJ0Sks2b2k4bG1PQVB4cFVkWFFNakJsSXlDRGtHdk5QMmdQQjJyK05mQkNXT2hYTVVVOEZ5dHhKRks1UlprQ3NNRSt4SVBQSEgwckQvWk51YjJmNFhPbDQ3dEREZnl4MjI4OUk5cUhBOXR4ZWdEMmlpaWlnQW9vb29BSzhRL2FUOEUrRjd6d3ZkK0l0UW1pMHpXSUZJaHVGSC9BQjlQajVZbVgrSW4xNmpyMEdLNy93Q0tYanExK0gvaHB0VnVyTzV2Q3orVkZIRXAybHowM3ZqQ2ozL0lHdm5yd3Y0WDhXZkhUeEd1dmVMcHByUHcxRTM3dFVCVlN1ZVVnVSt1T1hPZnhJd0FEemY0YmVJckMxK0llaDZwNDFtdkw2eHNtVUswam1VeGJRZkw0T1NVVnNIYVB3OUQ5eTMxOWE2bjRWdWIzVDdpSzV0SjdWM2lsaVlNcnFVUElJcm5mRnZ3dThOZUkvQ052b0RXY2RwRFp4N0xLYUJRSHRqNmc5d2U0UFhxZWVhNGo0UStBUEUzZ2JSL0ZkdnJ1b2g5TjJTSmFXMGJibzMrVWt6RFBLNUdCajY1NkEwQWNoK3lmNGswUFF0RDE5TmIxblR0T2VXNGpNYTNkeWtKY0JUa2pjUm12UXZqVDQyOExhbDhMUEVkcHAzaVRScnU2bHR0c2NNRjdHN3VkeThCUWNtdkMvZ1g4SjlQK0lsanE5enF0L2VXbjJTVkk0MGdWUnV5Q1NTV0I5QlhZZkVMOW5uU2ZEM2d6Vk5WMHZVOVV1YjIxakR4d3VpTUgrWUFqQ3FEMEpvQTlKL1pkLzVJOXBuL0FGM24vd0RSalY2dEpDa2hCZEZZanBrWnJ5NzltaTJudFBoTHAwTnpESkRLczgrVWtVcXcvZU4yTlpmeHh2OEE0bERYTlAwandMYmsyRjdDUzF4YlJZbFJ3Y01Ia1k3VUdDcEJHRHlhQU9zK0kzeEI4TWVBN1FuVkpJNXRRWmN4V0VBRFN2NkVqK0VlNXg3WlBGZU0rRnZDdXY4QXh0OFN3ZUpQRjBYMkR3dEJuN0xheGpaNXE1R1ZUdmc0RzUrK01EL1o2ZjRlZkFHMnRMdGRZOGYzZjlzYW94M3RibHkwUWJybDJQTWgrdUI3R3ZlVVJZNDFqalVLaWpBVURBQTlLQVBrRDRjK0VkRzhSZkcveHQ0ZnY3R0wremdMOUlZMFVMNUcyNFVLWS83cFVjREhianBXOXArcWVJUGdQcmE2VDRnc3pxL2c2NGtKdDdoVUdVeWNuYVQwYnFTaDRQVUhxYWQ4RlA4QWs1dnhyL3Y2ai82VXJYMHRxMm1XV3NhZk5ZNnBhdzNkbk1Oc2tNeUJsWWZRL3dBNkFNandqNGo4TytMZE5GNzRmdXJXNmk0M3FvQWVNK2pyMVUvV3VoVkZRWVZRbzloaXZtN3hoOEI5WDhQNmtkYStGdXF6Vzh5Zk1MUjV5a2c5a2s2TVA5bHZ6TmVxL0JtKzhYMy9BSVRNM2p5Skl0UUV6UlJxWWZLbFpGNExPQnhrc0RqQUF3QWU5QUdIOFdQaHg0V2ZSdkZ2aW1YVEVmVnY3TG5jTVNkaXlMRzJKQXZUZjA1OWdldk5lUi9BTDRVK0hmSDNoTysxTFhEZkNlRzlhQlBJbUNEYUVSdWVEemxqWDByOFE3QzUxVHdGNGpzTENMemJ1NjArZUdHUElHNTJqWUFaUEhVMXdYN00vaGJXZkNmZ3JVTEx4RFl2WlhNbW9OS2lNNnNXVHk0eG41U1IxQi9LZ0RsL0hYd0U4SWFKNEoxM1ZMTjlVKzFXVmxOY1I3N2hXWGNpRmhrYmVuRmNkK3ovQVBDZnc3NDg4SzMrcGE0OS93Q2ZEZW0zUVFUQkYyaEVicHRQT1dOZlJmeFovd0NTWWVMUCt3VmMvd0RvdHE4eS9aQXlmaHpyQVU0SjFXVEIvd0MyTVZBRW11ZnM5K0NyTFNMNjZpZlZ2TWd0NUpWemNqR1ZVa1orV3N6OWpjNThOZUlmK3Z1UC93QkFwdXM2djhkWjlQdnRNbThPYWRKSE5HOEJ1SWhIdUtrWTNMKzl3RGoxSDRWMXY3T0hnYlZmQlBoTzlUWDRrZ3ZyMjRFdmtLNGN4b0ZBRzRna1o2bmdudFFCNjNYeTk4VDlXc0xUOXFEdy9lM1YzYngybHRIQUpwVElOc2YzL3ZIdDFIWDFyNkc4YjZFUEUzaExWZEY4NFFHOXQyaUVwWGRzSjZISGZCeFhpbWsvc3dhUkh0T3IrSWIrNFBwYXdwQVAvSHQ5QUhkNnY4Y2ZBR21NeUhYQmRTRHF0dEJKSi80OWpiK3RlRWZzOCtPYmJTUGlUcU51Yk9XVmZFVjBzVUw3Z3ZsWmtZNVljNTRidDZWN2pwUHdHOEFhZVVaOUpsdkpGL2p1YmwyejlRQ0ZQNVZ4WDdRRXRqNEQwQzAwcndmNFh0cks4MVVtSCswYmEwVU5HT214SEEzZVkyZVBiT09lZ0JpUVhJK0ozN1QxdmRXbUp0SDBQQkVnT1ZLd2trTVBySzNIdFgxRlhrSHdnOER6L0RUNGNhanFFbG90ejRpbnQydTVvQzJPVVFza0FZQTQ5eUFlU2V1QlhDNmorMHJxVTlsTGJhZDRPbGcxSjFLb3ozTFNCR3gxMkNNRTQ5TWlnQmYyYng5cStNZmp1KzY3dk81LzM3alAvc3RmUjJwNmZhYXJZVFdPcFc4VjFaekRiSkRLdTVYR2M0SS9DdkQvQU5sVHdmcTJoNlpyR3M2N2F6V3N1cE5Ha01jNmxaQ2k3aVhJUElCTGQvN3VlNHIwVDR1ZU1ML3dUNFlpMVBTOUsvdFNaN2xJREZ1WWJRd1k3c0FFbmtBWTk2QUgvd0RDcnZBMy9RcTZSLzRETFh6ejhIZkRHaWFyOGR2RnVsYWxwZHBjNmJiZmJQSnQ1SXdVajIzS0t1QjJ3Q1JXOS93czc0eDY2eFhSdkNIMlZEOTF6cDhnL3dESDVHMm44cTVyUVBoVDhXaHJWNXJFRGpTTlN2aTV1TG43YWtidnZiYzNFV2NBc0FjQUNnRDZRdC9odjRNdEo0N21EdzFwTVVzTENSSkZ0d0NqQTVCQjlxNWo0L2ZEelYvaUhwR2wyMmlUMk1NbHBPMHIvYTNkQVFWQTQycTFlY2Y4TTkrTWRhK2J4TDQwUnllb0x6WFgvb1JXdmN2aUw0ci9BT0VFOEh5NjNQWnZmeDI3UnBLaVA1Wnd4Qzdoa0h1Ung3MEFZdnhtaGUyK0NHdXdTN2Q4VmdpTnRPUmtGUnhXVit5MS93QWtoc3Yrdm1mL0FORHJ5bjRuL0grejhXZUNiL1E5TjBhNXRwYjBLanpUU3FRaWhneHdBT1NjWTdkYTltL1p6MHE2MGo0UzZSRmZSTkROTVpialk0d1FydVN1ZnFNSDhhQVBTNktLdy9IR3EzbWgrRXRVMVRUTFZidTd0SVRNa0RaeElCeVJ4ejB6UUJ1VjhuL0NIL2s2UHhGLzE5Nmovd0NqR3JUay9haHVvVmFPZndnaTNBR09iOGdBL3dDNzVlZjFxcit6Um9ldDZ2OEFFblUvR1dvMmNrRnJLczBqU3VoVlpKcFd5UW1lb0dXT2UzSHJRQjlUMFVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFGYTYvMTl2L3ZmMUZXYXJYWCt2dC85NytvcXpRQVVVVVVBRkZGRkFFTjUvd0Flei9oL09ud2Y2bVAvQUhSVEx6L2oyZjhBRCtkUGcvMU1mKzZLQUgwVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVFQWdnZ0VIcURSUlFBeUdLT0NKSW9VV09OQUZWRUdBb0hRQVUraWlnQW9vb29Bek5NOFA2UHBWNWMzZW1hWFkybDFjc1dubGdnVkdsSkpKTEVESjVKUDQxcDBVVUFGRkZGQUJXTHFYaFhRdFQxV0hVOVEwbXh1ZFFoMitYY3l3SzBpYlRsY01Sa1lQSXJhb29BS0tLS0FDaWlpZ0JCMG9BRkZLS0FBQURvQlJSUlFBVVVVVUFObGpTV05vNVVWNDNCVmxZWkRBOVFSNlZYMC9UYkhUVWRkT3NyYTBWemxoQkVzWVkrK0J6VnFpZ0FySzFmdzVvdXMzRUZ4cStrMkY5UEIvcXBMbTNXUm8rYy9LU09PZlN0V2lnQW9vb05BQlJSUlFBVlExblJkTDF5M1NEV3ROc3RSZ1J0NngzY0NUS3JZSXlBd0lCd1R6NzFmb29BaXRMYUN6dFliYTBoamd0b1VFY1VVU2hVUlFNQlZBNEFBNHdLbG9vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0FxbGI2VnA5dmN2Y1c5aGFSWEQ1M1NwQ3FzMlRrNUlHVHpWMmlnQW9vb29BS0tLS0FHeXhwTEcwY3FxNk1NTXJESUlxcG8rbGFmb3RqSFphVFpXOWxhUi9kaWdqQ0tQd0ZYYUtBRTdVRWNpbG9vQUtLS0tBT0srS0doK0pmRW1td2FUNGMxTzIweXp1dDhlbzNEcVdsRVJBRzJNRHVmbUI1SEhldDN3ZjRkc2ZDZmh5eTBYU2tLMnRxbTBGdnZPU2NzemU1SkpyWW9vQUtLS0tBQ2lpaWdDQy9zclhVYkthenY3ZUs1dFpsMlNReW9HUng2RUhnMUpERkhCRWtVTWFSeElBcW9nd0ZBNkFBZEJUNktBQ2lpZ2tBRWs0QTZtZ0FPS1FrQWMwZERSam1nQVZWVVlVQlI2QVlwYUtLQUNpaWlnRE9zOUMwbXkxQ2EvczlMc0xlK20zR1c1aXQwU1I5eHkyNWdNbko1T2VwclJvb29BS01DaWlnQW9vb29BaHZyV0MrczU3UzdpU2EzblJvNUk1QmxYVWpCQkhjRVZTMERRZEs4UFdqMjJoNmZhMkZ1NytZMGR2R0VWbXdCdUlIZkFINVZwMFVBRkZGRkFCUlJSUUFWSFBCRGNCQlBGSEtFY1NLSFVOdFljaGhub1I2MUpSUUFVVVVVQUE0R0Iwb29vSkFCSklBSEpKb0FBQUJnQUFlMUZGRkFCVEpvbzVvMmptUlpJMjZxd3lEK0ZQb29Bb3JvK21JNGRkT3MxY0hJWVFLQ0QrVlhxS0tBQ2lpaWdCclJveHl5S1Q2a1U2aWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBSzExL3I3Zi9lL3FLczFXdXY4QVgyLys5L1VWWm9BS0tLS0FDaWlpZ0NHOC93Q1BaL3cvblQ0UDlUSC9BTG9wbDUveDdQOEFoL09ud2Y2bVAvZEZBRDZLS0tBQ2lpaWdBb29vb0FLS0t4UEduaVN4OEplR2I3V3RUYkZ2YXg3Z2dPREkzUlVIdVRnVUFVYnZ4LzRicy9HVWZoYTUxQVI2M0lFMlFlV3hERnVRdTREQU9PY0hIQkZhdmlqWGJId3pvRjdyR3JTR095dEUzdVFNazlnQU81SklBSHFhK2QvMmJORXV2R0hqalcvaUZyaEVqeHpQSERucDU3Z0ZzZWdWR0FBLzJoNlZGKzBkNHJ2ZkdQaVMzOEIrRTRKNzgyOG0rNlMzVXQ1a3c2THgvQ2dPU1R3RDF4dG9BK2lQQ1BpWFRQRnVodzZ2b2tza3RsS1dWV2VKb3prSEJHR0E2SGpJNHJacjVoOE9hdDhhdkQyaFdPa2FaNFN0VXM3T0pZWXcxdUNTQU9wUG1ja25KSjlUV2wvd2wveDIvd0NoVnMvL0FBSEgvd0Fjb0EraktLK1ZkUytNZnhSMGZ4QmFhUHErbGFaQnFGd1UyVy8yY2x5R2JhTUFPZXB6WDFWUUFVVVVVQUZGRkZBQlJSUlFBVVY1L3dER2Z3MTRvOFVhQlpXdmd6V1A3S3ZZcmtTU3kvYXBMZmRIdFliY3hnazhrSEh0WGtIL0FBcVQ0eWY5RDEvNVdydi9BT0lvQStuNksrWWYrRlNmR1Qvb2V2OEF5dFhmL3dBUlIvd3FUNHlmOUQxLzVXcnYvd0NJb0ErbnFLK1lmK0ZTZkdUL0FLSHIvd0FyVjMvOFJYQzN0ajhTclA0alErQ3BmR09vSFZaU29XUmRWdVREOHlieDgzWHA3ZGFBUHRpaXZFL2hONEMrSW5oM3hjbC80czhUblV0TEVEb2JmKzBwNTh1Y2JUdGRRT1BXdTcrTVVza0h3dThUU3dTUEZLbGxJVmREaGxPT29QYWdEc2FvWHVzNmJZNmhaV0Y1Zlc4Tjdla3JiUVBJQThwQUpPMGRUd0s4bi9aUXZicS8rRzk3TmUzTTl6SU5VbFVQTklYWUR5NHVNbjhheGYyb2ZCbHg1ZG40NjBFUEhxT21sRnVXais5c0RaU1FlNnR3ZllqMG9BK2dhTVZ4bndrOGF3ZU8vQmxwcXNaVmJ4ZjNONUN2L0xPWWRmd1BCSHNSWFowQVVOTzFuUzlTbGtpMDdVcks3bGpHWFNDZFpDbzZaSUI0cS9YeTUreU0rL3hoNHQvMm9WYi9BTWlOWDFHT2xBQlJYaXZpWDlvYnc5NGY4UWFqcEYxcFdxeVQyVTd3TzBZajJzVk9DUmx1bFp2L0FBMDk0Wi82QXV0ZmxGLzhYUUI3ZHJtcVd1aWFQZWFucURNbHBhUk5OS3lydUlVREpPQjFyTDhFZU10RzhhNmRQZmFCTkpOYnd5K1M1a2lLRU5nSG9mWWl2Qi9IZjdRdmgveEQ0TzFqUjdUU2RWaXVMNjJlQkhsRVlVRmhqSnd4TmNuOEN2akJwSHc5OE9YMm02cnArb1hVdHhkRzRWN1lJUUJzVmNIY3cvdTBBZlkxRmVCLzhOTytHZjhBb0NhMS93Qjh4ZjhBeGRIL0FBMDc0Wi82QW10Zjk4eGYvRjBBZStWaWVNZkUrbWVFTkRrMWZXNUpJcktObFJtUkM1Qlk0SEFxL3Arb3czdWtXdW81OHFDZUZKeDVoQTJobEJHZTNldkp2Mm9OUnNwdmhKZXhRM2x0Skk5eER0UlpWSk9HendNKzFBSHFuaDNXYlB4RG9scHEybU8wbGxkSjVrVE1wVWtaOUQwNlZvMTV6OEI5UXMyK0ZYaGlGYnUzYWI3TnMyQ1JkMjRNUVJqUFd1YjhXZnRCNko0YThSNmpvOTNvK295ejJVelFzOGJKdFlqdU1tZ0QwanhwNHowTHdYWjI5MTRqdkRhUVhFbmxSc0lYa3kyTTR3b0pIRmJkamRRMzFqYjNkczIrQzRqV1dOc0VaVmhrSEI5alh4ejhjL2k3cDN4RjBmVGJIVGROdTdVMnR3WjNlZGxPZmx3QUFwUHIrbGQ3NGUvYVIwTFROQTB5eG4wVFUybHRyV0tCMlJrSUxLZ0J4ejA0b0Era0tLODArRnZ4ZDB6NGlhcmVXT202ZGVXcjIwUG5NMDVYQkc0REF3ZmV2UzZBQ2lpaWdBb29vb0FLS0tLQUNpdklQakpwWHhNdnZFTnBMOFA3eHJmVGx0UXNxaWVOTXk3M3ljTi9zN2E0SC9oSHZqOS8wRkpQL0F1Q2dENmRvcjVjdmRIK1BWblp6M00rcXlpS0dOcEhJdTRDY0tNbitWY3o0RDEvNHZlT2x2ajRkMTY1bUZuNWZuZVpMRkhqZnUyNHlPZnVtZ0Q3Sm9yNWkvNFI3NCsvOUJWLy9BeUNqL2hIdmo3L0FOQlNUL3dNZ29BK25hSzRUNFAyWGk2eThNM0VmajY0YWZWVGRzMGJHUkgvQUhXeE1ESzhkUTFkM1FCbGFqNGkwYlRkVGcwN1VkVXNyUytuVGZGRFBNcU5JTTR5QVR6eURXclh5VGFzUGl4KzBpTGhQMzJrV0VvZFQyOGlBOGZnOGgvOGZyM3I0MitNRThHZkQ3VUwxSDIzMXd2MlcwQVBQbU9DTncvM1JsdndvQTF2QzNqcnc3NHB2N3l5MFBVbzdtN3RDd21pMnNyS0EyMGtaSEl6amtaSE5kTlh5Tit6cjQ2OEhlQmRLMVdmWDdxZUxWcnlZSmhiWjN4Q295TUVEdVdiajJGZXYvOEFEUVh3L3dEK2dqZC8rQWtuK0ZBSHJWRmVUZjhBRFFYdy93RCtnamRmK0FrbitGZXFXZHhIZDJrRnpBU1lwa1dSQ1JqSUl5UDUwQVMwWnJoUGkzNDAxVHdWcE5sZDZQb1V1dFN6ekdKNG85MlVHMG5kOHFuNlY1Zi9BTUw3OFcvOUU3dlAvSTMvQU1ib0E5ZlQ0ZytISDhiZjhJa3Q2LzhBYnU0cjVIa3ZqSWpNbjNzYmZ1Z25yWFdWOE5RK090VVg0Mm54YXVnU05xbm1NZjdMK2Zka3dHUEgzZDNRN3VuYXZXditGOWVMditpZFhmNXpmL0c2QVBvdWl2bkh4djhBSHE1aThBTEZiV0xhYjR0djJraSt5NUxOWkpuQWtPUUR1SU9WR1BmMHo2TjhCTkg4U2FSNEVnSGkzVUxtNHVwejVrTnRPY3RheDQ0UXNlU1Qxd1R4d09NR2dEMGlpc0h4NXJNL2gzd1pyV3NXa2NjdHhaV3J6eHBJQ1ZZcU1nSEJCeCtOZk9sbjhlL2lOZldMWHRuNFZzcDdNYmlaNHJHNWVNQWRmbUQ0NDcwQWZWTkZlUDhBdzYrSXZpWHhqOEtkZjErMzAreGJYTE9lV0cxdG9ZbktTYlk0M0FLN3R4SjNrY0VkcThnOForTi9pLzhBMmpwbGhxOXcrZ3Rxc2dpdDRvVVNQSkxCYzdodWRRQ3c3MEFmVlhpalg5TzhNYUhjNnZyTXpRMkZ2dDh5UlVaeU56QlJ3QVQxWVU3UU5jMC9YdEZ0TlYweWZ6TEc2R1lYWlNoYmtqb2NIcURYei80aCtIV3MrRVBnMzQ1bjhRYSsycjNXb1JXenlBNzIyTkZNRGtPNXkzVTloMHJPWHd2cTNpTDluanduclBoMjh1NDlSMFF6M0MyMFVoeElGbmY1Z3Y4QWZYYmtlMlIzRkFIMUpSWG5Yd1ArSWtYeEE4TENXY3FtczJlMk85aVhvU2M3WkY5bXdUN0VFVjZMUUFVVVVVQUZGRkZBQlJSUlFBVVY4NGEvOExQaXplZUlOVHV0UDhhZVRaVDNNa2tFWDlyM1NiSXl4S3JnSmdZR0JnVlIvd0NGUy9HTC9vZXYvS3pkL3dEeEZBSDA3Ulh6Ri93cVg0eGY5RDEvNVdidi93Q0lvLzRWTDhZditoNi84ck4zL3dERVVBZlR0RmZKUGkvd0w4V1BDdmh1OTF2VVBHMDh0cmFLR2tTRFdMb3VRV0M4QXFCMzlhcitCUENIeFU4YStISWRhMHZ4cGN3MnNydWlyYzZ2Y3ErVk9Ed29JL1dnRDYrb3JDOERhZnFXbGVFZEtzTmR1emVhcGJ3QkxpNE1yU2VZL2M3bTVQMU5mUDhBOFhkVThYNjE4YS8rRVE4UGVJYm5UWWJoSS9LVlozaFJmM085aVNnM2RqK05BSDB2ZFhWdmFRbVc3bmlnaUhWNVhDcVB4TlkraStNZkQydWFwUHAyamF4Wlg5NURHWlpJN2FVU2JWQkF6a2NkU08vZXZuL1VmZ0pGWmFmTHJQai9BTWNUbTF0bDNUU0xFemxja0Q3N01UeVNCOTJ1MzhEZkMzd3hhZUZaOVc4QmFoZXRmNmxwOHNOcHFzdHc2c205Y1oycUZ3UVFPMlFSNmlnRDJlaXZqYnhGcHZ4QzBqNGthWjRPL3dDRTYxYTR2YjRSc3N5YWhjQkl3eEk1eWM4QVpyMEQvaFQvQU1UL0FQb3BsOS80SFhYK05BSDBUUlh6dCt5cHJPdDZ2cTNpbE5hMXZVZFRTMVdGSS90VjA4eXFTMG1Tb1luR2R0ZWtmR1A0aFMvRHZTdFB2WWRLL3RNM1U1aE1ZbU1lM0M1endyWjZVQWVnMFY4emY4TlAzWC9RbUgvd09iLzQxUi93MC9kLzlDYi9BT1R6Zi9HcUFQYmJyNGllR0xieGhCNFhrMUlmMjNNL2xpM0ViL0syM2NBV3h0Qkl4am51SzZ5dmhMNG8rUDVQR25pYlQ5ZnN0RWZSdFR0QXVaWTV6S1haRzNJMzNWd1Y1NTV6eDZWNmpGKzA3ZkxFZ2s4SHE3aFFHWVhyS0NlNUE4czQrbWFBUHB5aXZtWC9BSWFldlA4QW9UUi80SE4vOGFyc3ZoUjhhN2p4NTRxR2p5K0hocDZtRjV2TysxR1Q3dU9NRkY5ZldnRDJpb0JlV3pYYldxM0VKdVZHNW9nNDNnZXVPdFQxOG1hOTRUMS93ZCswUG9OKzE2bHgvYldzR2FGNDNKY3dtUmZNVndlbUVjajB3RFFCOVd0ZDJ5WFNXelhFSzNMamNzUmNCeVBVRHJVMWZKM3h3OEphN29QeFhzZkZjRjZqeDZqcU1DMlJXUStha2dDZ0pqMEdNY2V2dlgxalFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFGYTYvMTl2L0FMMzlSVm1xMTEvcjdmOEEzdjZpck5BQlJSUlFBVVVVVUFRM24vSHMvd0NIODZmQi9xWS85MFV5OC80OW4vRCtkUGcvMU1mKzZLQUgwVVVVQUZGRkZBQlJSUlFBVjhkZkcveGxxZnhNMSs5MDN3N0ZLMmdhRkZMY3lFNVVOc0IzU3ZucC9kVUhubjN3UHNXdk5mSFhoWFNQRG53ejhleTZSYUxCTHFGcmRYTncvVXU3S3g2OWdNbkE2RDhUUUJ4ZjdQbHBxbDM4QjlUdC9EbDNEWTZ0TmR6ckRjU0p1Q3R0UVo0NzQ0QjV4d2NIR0tpOEI2ZG9md04wMjIxTHgxY24vaElkYmxhSjNqQm0renhqazhqa2pPMHN3enlWOU0xcC9zeTZqYWFSOEdMdlVOU25TM3M3YThua2xrYzRDZ0tuK2NkNjRyd2JhM2Z4dCtMcy9pVFU0blh3enBMZ1F3djBJVTVqajlDU2ZuYnI2ZHhRQjdEOGVOVnVyRDRPNjNxV2ozbHhhWElTM2VLNGdkbzVGRFR4amdqQkdRU1B4ck0rRWZpK0t3K0J1bWVJZkYycXlNcStlWnJxNWthUjN4UElGR1Rrc2VBQUtzZnRLU0pGOEZmRUN1d0JmN09pZy94SDdSR2NEOEFUK0ZVZmdScE5scnZ3QTByVE5VaFdleXVrdVk1VVBjRzRrNmVoSFVIc1JRQXZnUHdMb09zZU12OEFoWlZwck56ckszeU5KYnBjS3Y3aHo4dmJIS0FGQXVPUFUxNjVYeTE0RjFhOStDUHhMdWZDZmlHZDM4Tlg3aDdlNWZoVjNIQ3krZy91djlNOXVmcVJTR1VGU0NEeUNLQUZvb29vQUtLS0tBQ2lpaWdBcnpqNGgvR0h3OTREMXhOSzFpMTFPVzVhRlp3MXRFakx0SklITE9EbjVUMnIwZXZtUDR2MnR0Zi9BTFRYaFN5djRJN2kxbWl0VWtpbFVNcnFaSk9DRHdSUUIxdi9BQTB0NE0vNThOZS84QjR2L2psSC9EUzNnei9udzE3L0FNQjR2L2psZWgvOEs0OEYvd0RRcWFKLzRCUi80VjRkKzFWNFgwTFFQRCtoUzZKbzlocDhrdDA2dTF0QXNaWUJNNE9CelFCOUwyVnlsNVp3WE1RWVJ6UnJJb2JxQVJrWnI1cThTLzhBSjMybmZXTC9BTkp6WDBYNGQvNUFHbWY5ZXNYL0FLQ0srY3ZFcC80eS93Qk8rc1gvQUtUMEFmVHRjWDhhUCtTVStLZit2R1QrVmRwWEYvR2ova2xQaW4vcnhrL2xRQnduN0lYL0FDVEM5LzdDc3Y4QTZLaXIybTh0WUwyMG10YnVKWnJlWkRISkc0eUdVakJCL0N2RnYyUXYrU1lYdi9ZVmwvOEFSVVZlMzBBZlBud2k4Q2VLL0FIeFgxcTJzNGZNOEl6ZmVubWsyaDFJTFJsQjFaMXlWUEdPdlBTdmZieVpiZTFsbWM0V05DNStnR2FsUjFkUXlFRlQwSXJrL2kxcW8wVDRiZUk3NHRzWkxLUkViMGR4c1gveDVoUUI0VCt4ckR1MWJ4VmMra051bWY4QWVhUS8reTE5UjE4Ly9zZWFkNVBnL1dkUUl3Ym05RUlQOTRJZ1A4M05mUUZBSFAzbmdyd3RlWFV0MWQrRzlGbnVaV0x5U3kyTVRPN0hra2tya24zcUgvaEEvQjMvQUVLdmgvOEE4RjBQL3dBVFZiNHErRTdyeHI0UmwwZXkxQWFmTThxU2VmdEp3Rk9jWUJIV3ZrSDRqK0ROWjhBK0tyTFM5WTFxWnJLNkNTSmZSN3l1d25EbmJucXB6eG5wajFvQStuUGl4NE04TDJYdzA4UzNObjRiMFMzdUlyQ1Y0NVlyQ0pYUmdwd1FRdVFmZXZQZjJWUERPaDZ6NEwxV2ZXTkYwelVKazFBb3NsM2F4eXNxK1dod0N3UEdTYW9EOW5EVjcyMlZ2K0V6aW50NUZEcWZKZGxZZFFmdjgwUWZzemFyYjU4anhaRkZucnN0M1hQNVBRQjc1L3dnWGcvL0FLRkx3LzhBK0M2SC93Q0pvLzRRTHdmL0FOQ2w0ZjhBL0JkRC93REUxOFovRWp3cGZlRGZGRnZvRnZyOHVyYWpJcTdvNEE2N0hZNFZQdkhMSGc0OXg2MTlzK0M5UHVOSjhINkhwMTgyKzd0TEdDQ1p0MmN1cUFNYzkrUWFBSS9GWGh5MzhRZUVyM3crWCt4MnR6RDVBTUNBZVdveGphT25icFh6SDhZUGdmcDNnZndYTnJsbHE5M2RTeFNwR1k1bzFBSVk0Nmpweml2cm12Ri8ycWRVc1kvaGxjMkRYdHVMNlc0aUtXL21EekdBYkpJWHJnRHZRQnkvd1A4QWhKcGxucHZoM3gxYzZ4TWs2SWJ0b21SVmlVZk1PU2VRQU9wcjJLZlV2QWR4SzhzOTc0WWxsYzVaM2xnWXNmVWttdkgvQUlSZkVuUTllOE02RDhPRnQ3OUx5N3NaN09lNUlSWTR2M2NoK1hra25BOUIxRlgvQVBobUh3Ny9BTkJ2VmZ5ai93RGlhQU9lL2FtbThMemVIZEUvNFI2VFJIdWhkTnUrd21JdUUyYzUyYzR6ajlLOVc4SDN2Z05mQ21pclBjK0Z4TXRqQUhEeVcrNE41YTV6bnZtdUsvNFpoOE81L3dDUTNxdjVSLzhBeE5lUWZHWDRYMlhnZnhUb21tYWRxRnpQRHFLRExUSXU2TnQrM1BHTWpCSEh0UUI5YjZacTNnNkM1Vk5LMUR3OUhjVEVScXR2UENHY2s4S05weWVlMWRQWGhtZy9zNWFEbzJ1NmRxY090YXBKTFpYTWR5cU9JOXJGR0RBSEM5T0s2NzQzZUlQRlhoM3c5WTNQZ3F3a3ZyNlM3RWNzYVdyWEJFZXhqbkM5T1FPYUFQUmFLK1UvK0ZvL0dmOEE2Rm02L3dEQkpOL2hTZjhBQzB2alAvMExOMS80Skp2OEtBUHEyaXZsTC9oYVh4bi9BT2hadXY4QXdTVGY0VWY4TFMrTS93RDBMTjEvNEpKdjhLQVBxMml2bEwvaGFYeG4vd0NoWnV2L0FBU1RmNFYzbndaOGJmRVB4QjR1a3MvR09qeldXbWkwZVJaSDA2UzNCa0RJQU56Y2RDM0h0UUI3alJSUlFCbWVLZjhBa1dOWC93Q3ZPYi8wQTE4emZzamVJdEkwdTk4UWFmcWQvQmEzVjhiZjdLa3piUktWOHpjQVR4bjVoeDFPZUsrbWZGUC9BQ0xHci84QVhuTi82QWErTHZnNThMMStJK2xlSUREZm16djdBd2VRV1hkRSsvek53ZnVQdUxnanB6d2FBUHVPbHI1STBqeDk4UVBnN3FNZWsrTUxLWFVOSkIyeGlacy9MbnJGTnpuaitFNXg2Q3ZvbndEOFEvRHZqbXpFdWgzb053cTdwYlNYNVpvdnF2Y2U0eVBlZ0RycThzL2FLOGFyNFM4Q1QyMXRKdDFUVlExdGJnSGxGSS9lUCtBT1Bxd3IxTW5BSkFKOWhYeHBxZHByWHhpOGNlSk5Zdm9wN0hTdEh0Wm1LTjF0MWpWdGtYcHZaZ1MzL0F2UVVBZDUreHpZUUxwZmlUVWovcm1saGd5Y2ZLcXF6Y0hyenU1K2dybS9IMnBYSHhwK0w5bDRkMGFVL3dCaDJETW5uSWNydEJIbXorL1pWOWVQV3JuN1B1algvaUg0UCtOTkswaStheHY3bWRVam1IUS9JUGxKNmdNTWdrZE0xNnQ4QnZocXZnTHcwMG1vSWphN2ZnUGROd2ZLWHRFRDNBNm4xUHNCUUI0ZiswSDRHOE8rRS9GZmhhejBEVHZzbHZlQStldm5TUHYrZFIxWmlSd1QwcjNqL2hSL3c4LzZGMVAvQUFLbi93RGk2OGovQUd3V21qOFVlRkpMVUV6ckM1akFHU1czcmpqdnppcGYrRTMrT24vUXRTZitDMC80MEFlci93RENqL2g1L3dCQzZuL2dWUDhBL0YxNkIvbzJsNmIvQU04clMwaDl6c1JWL000QXJ4TDRZZUtmaXJxWGpXd3RQRjJpU1dtalNDVHpwVFpHTUtSR3hYNXUzekJhOXp1SVk3aUNTR1pkMFVpbEhYMUJHQ0tBUE9qOGIvaDJPdmlPTWY4QWJyUC9BUEVVbi9DOGZoMS8wTWtmL2dMUC93REVWWS80VXo4UHYraGF0ZjhBdjdKLzhWWEVlT3RKK0NuZ3RYVFY5THNudlY2V1Z0TEpKTVQ2RlEveS93REFpQlFCNWhiK05mRDZmdE1ONHFiVUIvWVBuczMycnlueGcyeGorN3QzZmU0NmUvU3ZTL2lUKzBOb2RucFpoOEVUZjJscWNvS2k0ZUYwaXQvZkRnRmo2QWNlcDdIeFNUVGsrSk90L1pQQkhoalR0QjA2RnN0Y1MzRGNEbkJrZHpqL0FJQ296OWE5ejhGL0JEd0ZwTmdoOFFYVnZyV29rN21sa3VqSEd2SDNWUldHUi92Wi9DZ0R5MzROM2ZnbURXMjhXZkVQeEpIY2EyWkRKRGJTd1RTYkh6L3JYYlpndDZEb092WEdQb2F3K01mZ0crdmJlenRQRU1VbHhjU0xGRWd0NWh1WmpnREpUdVRWQS9DNzRYSC9BSmhPbGY4QWdVMy9BTVhXblpmQ0x3TFpYa0YzYStIcmFPNGdrV1dOeEpKbFdVNUIrOTZpZ0M1OFlqajRXK0tzZjlBNmIvMEd2UHZnZC95YmxjLzljYjcvQU5ucjBENHhmOGtzOFZmOWc2Yi9BTkJyei80Ry93REp1VnovQU5jYjcvMmVnRGtmZ1Q0ODB2NGYvQjY3MUxXb2J5YUM0MStTM1VXcUt6YmpieE56dVpSakNudlhMZkZ2NHJhRDR2OEFGdmhMVk5MdGRTanQ5SW04MmRaNDBWbUhtSTJFQWNnbkNucVIycjBqOWxiU2ROMWo0WGFoQnErbjJkL0NtdFN1c2QxQ3NxcTNrd2pJREE4NEo1OTZ3LzJoUEQyajZkOFFQaC9CcHVrNmRhUVhGenRuamd0a2pXVWViR01NQVBtR0NldnJRQkw4UnZqejRVOFVlQk5aMGF5c05hVzV2SVBMamFXQ0lJR3lPcEVoT09QU3FYd2QrTi9odndaOFB0UDBQVjdQVm51N1o1U1d0NFkyUWhwR2NZSmNIK0wwcjFmeDU0VDhHeWVFL0VsaHAyaitIbzlZajB1NGxqV0cxaEUwUkNIYS9BM0Q1c2MrdGNOK3pMbzNoclZmaGxjM0d0YUxwRjNQYVhzeVNYRjNheE93VUtqY3N3emdCcUFPcCtEdnhFOEU2NXE5MW9mZzNTTDNUcFpSSmZTK1pBaUs1M0RjU1E3SFB6Y0RvQndNY0N2WGE4bytEUGlmd3Y0czFQV1pmRG5oUzEwdHRQa01TMzBGckhHSm8yWTdmbUFCQklYSlh0eHpYcTlBQlJSUlFBVVVVVUFGRkZCb0F6dkVlcjIvaC9RZFExZTlXUnJheWdlZVJZZ0N4VlJrNEJJR2Z4cnlEL2hwandWL3o0Njkvd0NBOFgveHl2UVBqQi95U3Z4WC93Qmc2Yi8wQTE1Vit6TDRROE9hNThObXU5WjBMVEwrNiszU3A1dHpiSkkyMEJNREpIVGswQWF2L0RUSGdyL254MTcvQU1CNHYvamxkajhOdmlwb1h4Q3U3NjMwUzMxR0o3U05aSkRkUklnSVk0R05yTjZWcC84QUN0L0JYL1FwNkgvNEJSLzRWNGoreXJFa1BqM3h4RkVpcEdoQ3FxakFVQ1Y4QUNnRDFmOEFhQi81STc0ay93Q3VLZjhBbzFLeWYyWHYrU1E2ZC8xM24vOEFSaHJXL2FCLzVJNzRsLzY0cC82TlNzbjlsNy9ra09uZjlkNS8vUmhvQTlacjVmOEFGbC9hYWQrMXJZWGVvWFVGcmFReG8wczB6aEVRZlpUMUo0SFVWOVFWOC9lUFBoRjRRSGptODhRZU0vRlgyQ3kxS1l5Uldza3l4TTdCUnZIbU9Ua1pQUUFZQkF6UUJhK0ovd0FiUEEwK2dhbm9kczF6cmIza0QyNUZySHRqVXNNQTcyeDBPQ0NvYm1xSDdKWGlndG9XcytHOVJmeXBOTmtOMUdKRHQyUk1mbkJ6MDJ0eWMvMzY2L3dyY2ZDTHdvRk9oNmw0WXRwbC93Q1c3WGNja3gvN2FNUzM2MXlIeFd0UEIydTZWcVV2ZzN4ZDRaMDdXZFJrRFgwclhrWWE3andBWXpKa2xGNEJJWGhzYzVvQXpmaHhjTDhRUDJqTlk4VlFmUHBHa3hzc0VoNFg3dmxSL3dEZlEzditGZlFmaWpWN2ZRL0RXbzZyZFNySERhMjd5bGllNFhnRDFKT0FQclhsWGdxTDRiZUdmaDVjK0YvK0VzMFNVWDBEeDN0eUx5TU5NenFWWTllQUFjQWRzZlhQbmszd3YrR3NpaUwvQUlXakI5bEJ6NVRYVUJINGM0L1NnRHAvMk5yTFo0YThSWDVCemNYaVE3dlhZbWYvQUdwK3RmUTFjdjhBRFRSdEMwSHdkWTJYaFNaTG5Td0M2WEt5Q1R6MkorWnl3NEp6eHg2WTdWMUZBSGxueFgrTVZuOE85ZHROTXU5S252WHVMY1hBZU9VSUFDekxqQkIvdS9yWEVmOEFEVVdsL3dEUXQzbi9BSUVyL3dERTEzSHhXK0xlay9EL0FGeTEwN1ZOSnViNlNlM0Z3cnhGTUFGbVhIemY3djYxeGY4QXcweDRhLzZGdlV2L0FDRi9qUUJIL3dBTlJhWC9BTkMzZWY4QWdTdi9BTVRSL3dBTlJhWC9BTkMzZWY4QWdTdi9BTVRVbi9EVEhoci9BS0Z2VXY4QXlGL2pSL3cweDRhLzZGdlV2L0lYK05BR2g0Vy9hSzA3eEI0azB6U0l0QXVvWkw2NGp0MWthNFVoQ3pBWkl4NzE3cjErbGVHK0dQMmcvRCt1K0k5TTBpMjBHL2dtdnJpTzJTUnpIdFVzd0FKd2M5Njl6b0FLODE4SS9EN1VoNHhmeGQ0MzFTTFU5YlJHaHM0WUVLd1djWno5M09NdGdrWndPcDY1elhwVkZBSG1kcDhQdFMxYjRoRHhQNDExS0c5aTArYVE2UHA4Q0VSVzY3dmxkOGpsOEJUOVFPVGdDdlRLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BclhYK3Z0L3dEZS9xS3MxV3V2OWZiL0FPOS9VVlpvQUtLS0tBQ2lpaWdDRzgvNDluL0QrZFBnL3dCVEgvdWltWG4vQUI3UCtIODZmQi9xWS84QWRGQUQ2S0tLQUNpaWlnQW9vb29BSzU3NGhRV2Q1NEsxaXkxTFVvTk10YnkzYTFhN25JQ1JHVDVBVGtnSGtqaklyb2ErYXYyb2ZFTnhyL2lIUS9oOW9aODI2bG1TVzVSVDFkdUkwT09tQVN4K3FudFFCMitrK0dQQy93QU8vaEhkNlo0dzFHSFZmRDh0d1paSnphc0ZPOHFGd3FGemtFQWhnZnlycGZDY0hnK3crRm9HaVN4UWVGSkxXUm1ubHl1NURrTzc3Z0RrODlmOEs0ajQ0NkhiK0cvMmVUbzlwekRaRzJpRFl4dUlrWExIM0p5ZnhycS9nWkJGUDhHdkRzTTZMSkZKYXVqb3d5R1V1NElJN2lnRHhQd2Y4R3JEeDdwcTNtbmZFS2ZVTk9nbEtQRTltd2RDT1B1dEtkdVIwT09oL0N2cFBTYkhTZkEvaEMzdEZtUzEwclRJTU5OTXdBQUhWbVBxU1NmcWE4cThIL0NiV2ZCWHhjbTFMdzFmeFcvaFNkQzhzRWhMRmdjL3VkdmZCNUQ5aDY4NXVhYjQ0MVRXL2pmci9nVytpczdydzhJblZra2krY0w1UzVYSU9DQ1dQVUhyUUIxbHBINEorTEZqWWF3c0Z2cThHbjNEckVaVUlLT09DcktlcW41V3d3d2ZsT0s3cEZWRkNvQXFnWUFBd0JYeWhwVTl6OEIvaS9MWVhieVA0VTFRZ2h6eUJFU2RyLzcwWjRQdG4xRmZWOGJySWl2R3daR0dWWlRrRWVvb0FXaXNMeG40czBmd2JveDFUeEJkZlo3WGVJMXdwWm5jOUZWUnlUd1Q5QWFuOExlSXRMOFU2SkJxMmgzUzNWak5rSzRCVWdqZ2dnOGdqME5BR3RSUlJRQVVVVVVBRmZMdnhvMUcxMG45cGp3dGY2ak1zRm5iUTJza3NyQWtJb2treWVPYStvcTRmeG44TGZDbmpMVjExUFg3R1c0dkZpV0VPdHc2RGFDU0JoU0IzTkFGYi9oYzN3Ly9BT2hsdHY4QXYxSi84VFhpL3dDMDU0NThOK0xOQzBXRHc3cXNWOUxCY3U4aW9qamFwWEFQekFWNm4vd29ENGUvOUFtNC93REF5WC80cWovaG4vNGUvd0RRSnVQL0FBTWwvd0RpcUFQUnZEdi9BQ0FOTS82OVl2OEEwQVY4NWVKditUdjlPLzNvdi9TZXZwaTFnanRyYUczZ0cyS0ZCR2d6bkFBd0srWnZFUkVuN1lOZ3FuSlJvZ2ZZL1pzLzFGQUgwOVhGL0dqL0FKSlQ0cC82OFpQNVYybGNGOGQ3NjNzZmhONGphNmxXTVRXeGdqM0g3enR3RkhxZi9yMEFjVCt5UkxIQjhLdFFsbmtTT0pOVG1aM2NnS29FVVdTU2Vncm1QaWw4WWRTOFdhbWZDWHd4anVKek14aWt2SUFRODNxSXovQ3ZxL0g0RGsrVi9EbTA4WCtNOUsvNFFudzdJMFdrTmNOZDNqakt4amNGWE1yZHg4bkM5em5yamo2MytHUHczMGI0ZjZZWWRPVHo3K1ZRTGk5a1g5NUtmUWYzVjlGSDQ1UE5BRWZ3WDhLYXI0TjhFMitsNjVxQXZMZ01aRmpYbGJjSC9sbXJmeERPVG4xSnhYay83WEhqYUpiTzE4SVdNb2FaMlc1dmRwKzZvKzRoK3ArYjhGOWE3RDR5L0d2VFBCdHZQcG1oeVJYL0FJaElLN1ZPNk8yUHE1SFZ2OWtmamp2NXA4SXZnOWQrT3pkK0ovSDdYWDJlOVYyZ1ZtS1RUdTMvQUMyUG9CbklIZjB4MUFQYVAyZklkT3QvaEpvS2FYY1IzQU1Sa3VHVHFKbUpaMWIzQk9Qb0IyeFhvMWZIT2thanIvN1Avd0FSWk5QMUVTWFdnWFozTUZIeTNFV2NDVlBTUmU0L0E5UWErdU5FMVd5MXZTcmJVdEx1STdteXVVRWtVcUhJWUgrdllqdFFCZXJnUGpWNEJqOGYrRDVMU0lJdXEycE05akt4d0ErT1ZKL3VzT0QrQjdWMzljaDR3K0pIaFB3a2pEV2RadGt1QU9MYUp2Tm1QL0FGeVI5VGdVQWVNL0FMNG50b3N5K0JmR3Blem50WE52YVRYSHkrV3dPUElrSjZjL2RQVHQ2VjZSOFl2aXBwM2dMVFh0NEhqdXZFRXlmdUxVSFBsNTZQSjZMNkRxZnpJK2IvQUlyK0tiVDRxK0w3WStFUEROeXQ2QVVhUlYzVDNJNHdYUmVBQjY1UEhmRlllbmFjM2dEeHBhSDRnK0dibTRnak83N0xJNFZYNllZSGxaQVA3dWNIb1RRQjdOK3pyOFByN1Z0WGY0ZytMeEpMY1RzWmJKWmg4MGp0MW5JOVA3djVqZ0N2cE91SDhGZkZId2g0cmlqajByVllJYmtnQVdkeVJES1BZS2Z2ZjhCeUs3aWdEbHZpZG9Hb2VKL0JPbzZUbzE4YkRVSndubFQrWXlCY09wSUpYbkJBSS9Hdm1mNG0vQkNQd1A0QnV0ZXZkYm0xRFVoTEdoVklna1kzdGc1SkpadnJ4WDJEWGtuN1V2OEF5U0crL3dDdm1ELzBPZ0J2d0w4SzZSYmZDN1NkUjA3VExTTFdycXlaamVlV1BPTGtzTTd6eU8zU3ZQcHZBL3hwaGtoaWs4YVJSeXpzVmlSdFZjR1FnRWtLTnZKd0NlT3dyMlA0RmY4QUpJL0RIL1hvUC9RalhGZnRGZkQzVnRlanRmRkhocTd2RHFtbEprV2tjaDVVSGR2aUhaeDNBKzhBTzQ1QU9XLzRWOThjZitodkgvZ3lrLzhBaUs4cytMR2crT2RHOFI2VGIrTU5VazFEVVpvd2JPVmJveWJmbnhnRmdOcDNZUDRqbjArcWZnWjR0MWJ4ajRIaXZ0ZHNKTGU1amN3L2FDb1ZMb0QrTlIyOUQyeURqMEhrdjdVMy9KUi9CZjhBdWovMGNLQU9qOEIrQy9penB2aS9UTHZ4SDRrKzE2UkZJV3VJUmZPKzljSGphVkFQT0s5Nm9vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FNenhUL3lMR3IvOWVjMy9BS0FhK2ZQMkwvOEFVK0x2OTYwL2xOWDBINHAvNUZqVi93RHJ6bS85QU5mUG43Ri8rcDhYZjcxcC9LYWdENkgxdlNOUDF6VHBiRFY3T0M4czVCaDRwa0RLZmYyUHZYaWxwK3o1WjZSOFJkTTF2UTlUbnQ5SXQ1Zk9rdGQ3Q1ZDT1FxT09xazhIUE9NOG5QSHZWRkFDRGdZNTRybWZFdW1XV21lRFBFLzluMnNWdjlxdHJxNG04dGNlWkkwYmJtUHFUWFQxaWVOLytSTTE3L3J3dVA4QTBXMUFIaXY3SEgvSXJlSVArdjVmL1JkZlF0ZlBYN0hIL0lyZUlQOEFyK1gvQU5GMTlDMEFmTVg3V1RySDQwOEZ2SXlvaWdzek1jQUFTTHlUWDBQL0FNSkxvWC9RYTB6L0FNQzQvd0RHdm5QOXJ5MysxK0t2Q050dTJlZEc4ZTdHY1pkUm5INDFzLzhBREwrbC93RFF5WHYvQUlEci9qUUI3ckY0aDBXYVZJb3RYMDU1SElWVVc1UWxpZWdBenlhcStPOVp1L0QzaERWZFgwNnlXK3VMS0F6aUJuS0JsWGx1UUQwWEp4am5HSzhrOFA4QTdPT202TnIybTZwSDRndkpYc3JtSzVXTm9GQVlvNGJCT2UrSzk1b0ErV0JQOFpmaW1jVzRiUWRHay9pQWEwaksvWG1SeDlPSzRuNEpmRFhUL0hmaVRYTk4xcTh1NFRZSnUzMnJyOHpieXB6dVU1SDVWOXUxOFIvQ3Y0ZUw4UXZHZmlPMmZWWnRORm96eWJvWTl4Zk1oR09vd09LQVBZait6SDRXUFhXTmIvNzZpLzhBaUtiL0FNTXcrRmYrZ3pyZi9mY1gvd0FSVmIvaG1tRC9BS0cvVWY4QXdISC9BTVZSL3dBTTBXLy9BRU4yb2Y4QWdPUC9BSXFnRHpENHZmRGZTL2gzNHA4T1crbDNWN2NwZHNKR2E1S25hUTZnWTJxUFd2dFFrS0NTY0FkU2ErSmZpMThPaytIbmludzlCSHFzMm9pOElmZExIc0tiWkFNZFRrYzE5dEhvYUFPTytNWFB3czhVa2Y4QVFPbS85QnJ6L3dDQnYvSnVWei8xeHZ2L0FHZXZSUGl2YnpYZnd6OFNXOXBESlBQTFlTcEhGR3Babllyd0FCeVRYekg0VjhWL0Vyd3o0TGZ3eFllRDUzMDkxbFV5VGFYY21YRW1kM0lJSGZqaWdEZStEM2l6Vi9CL3dQdmI3UU5JL3RXOW04UVBickRobTI3cmVNN3RxOHR5b0dNanJYRmZFMmJ4L3dDSnZFWGgwZU5iWmROdUwxL0owOUdRUkJOenFDU295NjhsZnZjOFY3eit5cHBlb2FUOFBOUmcxV3h1cktkdFZsa0VkekMwYkZURkVNZ01BY1pCNTlqWE8vdEovd0RKU2ZodC93QmZmL3RhS2dEcS9obDhGYlR3VmNYdDlKckZ6ZjZoZVdrbHJObEFrUlZ5Q1Rqa2s1VWNrL2hYelY0VThTYTlCNFgxSDRmYUxiU05lNnZmaFpDaCtZcnQydEdQUUVxTngvdWcxNzE4YlBpenFOanJFbmd2d1JhWE1uaUNiYkZKT3NaM1I3aGtDSWR6ZzUzZEIyOVI1OThDOU1tOEJmSFFhSjRraWlqdjVySm9ZbUh6S3NqcXNndzMwVmx5TytSUUI5Ry9DM3daYmVCUEIxcG85dnRlNEE4MjZtVVk4MllnYm0rbkFBOWdLNjJ2QXIvVmRRMUQ5cSswMDZ5dkxtS3pzN1FMZFJSeXNxT0JFMGdES09Eekl2WHZYdnRBQlJYR1d2eE84SjNYaktUd3REcWluV0Vkb3RubHNFTWk5VUQ0d1dHRHhudGl1em9BS0tLS0FDZzBVVUFjZjhZUCtTVitLLzhBc0hUZitnR3ZIZjJjdmlGNFY4TWZEdHJEWHRaZ3M3dzNzc3ZsT2prN1NGd2VBUjJOZlF1dDZaYTYxcEY1cG1vSVh0THVKb1pWREZTVllZSXlPUlhtMy9DZ2ZoNy9BTkFtNC84QUEyWC9BT0tvQTFmK0Z5L0Qvd0Q2R2ExLzc5eWYvRTE1TCt5bE5IYytPdkcwOERCNHBjT2pEdURLNUJyMFgvaFFIdzkvNkJOeC93Q0JrdjhBOFZYVCtCdmh6NGE4RDNOMVA0Y3M1TGFTNVJVbEx6dkprQTVIM2ljZGFBTXo5b0gvQUpJNzRsLzY0cC82TlNzajlsNy9BSkpEcDMvWGVmOEE5R0d0WDlvUjFUNE9lSkN4d1BLakg0K2FsWlA3THB6OElkTy82N3ovQVBvdzBBZXRWODIvdG0vOGVQaFAvcnJjL3dBbzYra3ErYmYyenY4QWp5OEovd0RYVzUvbEhRQjJPbi9BMzRkUzJGdEpKcGpGM2pWam0rbEhKQVA5K3ZNZjJpdmh4NFU4RitGTk52OEF3M1p0QmN6WG9oZHZ0RHlaVHkzT01NeDdxSzZxdy9abzhQVDJOdk5KcldyYjVJMWR0b2pBeVFDY2ZMWG5ueDIrRU9sZkQzdzNZYWxwdW9YMTFKUGRpM1pMalpnQW96WkcwRG41YUFQVXZBL3dZOEJhdDRLMERVTlEwMlNTN3U5UHQ3aVpoZVNMbDNqVm1PQTJCeVR4WE4vSFA0VStEZkN2dzd2ZFYwQ3drZ3Y0cFlsVnpkU09NTTRCNExFZEtkNE4vWjAwSFhmQ1dpNnRjYXhxa1UxOVpRM0xvbmw3VkxvR0lHVjZjMWhmRi80RzZQNEk4RTNHdDZmcWwvY1RReXhwNWM0VGFRekFkZ0Qzb0E5eC9aNy9BT1NPZUd2K3VMLytqWHIwU3ZPLzJmUCtTTytHdit1TC93RG8xNjlFb0E4bCtKWHhnOE5lRGZFNzZSck9qM2w1ZHh4Sko1a1VjVERhM0lIek1EWEtmOE5GK0NmK2haMUwvd0FCNFA4QTR1c1Q0aUxiTisxZm9TM29oYTNkYmRYRXdCUWdxM0J6eDF4WDBGL1pYaGovQUo4TkYvNzh4ZjRVQWVNZjhORitDZjhBb1dkUy93REFlRC80dWovaG92d1Qvd0JDenFYL0FJRHdmL0YxN1A4QTJWNFkvd0NmRFJmKy9NWCtGSDlsZUdQK2ZEUmYrL01YK0ZBSGtPbC90QitEYnZVclczdC9EdXBSenpTckhHNWdoRzFpUUFjaHNqclh2bGZLMzdSTnZwdHI4VXZCa2VsUldjSzRqWjB0bFZSL3J3QVNGK2gvS3ZxbWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQXJYWCt2dC84QWUvcUtzMVd1djlmYi93QzkvVVZab0FLS0tLQUNpaWlnQ0c4LzQ5bi9BQS9uVDRQOVRIL3VpbVhuL0hzLzRmenA4SCtwai8zUlFBK2lpaWdBb29vb0FLS0tLQUN2SnZCL3dlVFEvaWRxWGk3VU5XZlZKWjk3MjRtajJ2RkkvREVrY0hDOERHUHZIZ1lGZXMwVUFjaDhXUENrbmpQd0RxbWlXMGl4WE15cThEUDkzekVZTUFmWTR4bjNyd0x3c3Z4czhDNlVOSDB6UkRQWXdPM2xvNlJ6QmNrazdXVnM0SkpQNDE5V1VVQWZOTGVMdmp4Y29WaDhOUndrakc0V2lqLzBKOFZ2L0FQNGRlSnRJOFU2cjR1OGJrSnFkNUUwU3hOSXJ1eGRnek8yM0lIM1FBQjZuZ2NWN3ZSUUJ4dnhQK0gybWZFTFNiV3kxU1NXQnJhY1N4endnYjFIUmxHZXpEOVFEMnJwTkMwdTIwVFI3UFRMRVNDMXRJbGhpRWpsMkNxTURKUEpxOVJRQndmeG84SjZQNHM4RlR4Ni9leVdGdFl0OXNGMGhIN3NxcEJ5RHdRUVNNZXVLNVg5azdUcml5K0ZyVDNBWlV2cjZXNGhEQWo1TnFKL05HcnUvSGZnYlRQRzQwK0xXNXJ3Mk5vN1NOYVF5N0k3Z25HQkpqa2dZNHhqcjFycHJPMmdzcldHMnRJWTRiZUZBa2NjYWhWUlFNQUFEb0tBSmFLS0tBQ2lpaWdBb29vb0FLeS9GTWVwUytHOVVUUXBmSzFZMjBuMlI4THhMdE96NzNIWEhYaXRTaWdENW9qdmYyaG8wMk5hcklmN3hTeUpINUVDcm53aCtGbmk1ZmlLUEdYangxUzVqTHlCV2xWNUpwR1VxQ2RtVkNnSG9EMkF4aXZvdWlnQXJudkhuaExUdkd2aHE1MGJWa1BsUzRhT1ZRTjhNZys2Nis0L1VFanZYUTBVQVlYZzN3cnBQaERSSWRMME8yV0czajVadXJ5TjNaejNKLzhBckRBcno3OW9HejhmWHRscDFyNEdsbU5uZE1ZTHFPMXdrd0pCSVl5RThJUmtIcGc0eVRuajE2a29BOEgrRlA3UCtuNkRKRnFmaTk0OVUxTUhldHNPWUltOTgvZlAxNDlqMXIzaFFGVUFBQURvQjJvb29BNVA0bStDTk84ZStHWnRMMUJRa3d5OXJjZ1phQ1RIQkhzZWhIY2ZoV1g4RmZBVTN3KzhKblRydlVIdkxxZVR6cFZWajVNVEgrR01IbkhxZTU5SzlBeFJRQjh2ZU0vRHZ4ajhWZUx0VzB5Qzl2VTBhSzVaSVpqS3RyQTBYOFBDNExqYVJuaHVjMXIrRGYyWjdDMmRManhacXNsN0lmbU52YVpqVFB1NStZL2dGcjZMb29BeHZEUGhmUlBERm45bTBEVExheGlQM3ZLVDVuOTJZOHNmY2sxWTE3Uk5MOFFXRFdPdDJGdGZXamNtS2RBd3o2alBRKzRyUm9vQStmUEdYN05PajNqdlA0VzFLYlRISjNDM3VBWm92b0RuY3Y0N3E0cHZDbnhwOEJaR2szVjlkMmk5UHNjNHVvL3dpY1pIL2ZOZlhGRkFHZGJ4YWd2aDZPR1c0VnRWRnFGYWZZQXBtMllMYmVtTjNPSytaL0cybS9HengxcHNPaWExb2R2RlptWlpITWJRb0dJemdzMjg4RE9lSytxYUtBTUR3RG9UK0dmQm1qYU5MSXNzdGxiSkZJNi9kWjhmTVI3WkpyZm9vb0E4ZCtLZDE4VWRNOFN3ajRmMmNWMW9odGtKak1VSkVjdTVndzVJYm9GUHB6WG5Xbi9EejRrK1BQaURwbXRlUElJN08xczNqTE03UmpFYU51MklpRW5KT2VUNjllTVY5VDBVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQm4rSW9ubjhQNm5EQ2pQTEpheW9pcU1saVVJQUZlS2ZzcStGTmQ4THhlSmg0ZzB1NXNQdERXM2srY3VOKzN6YzQrbVIrZGU5MFVBRkZGRkFCV1A0dmhrdVBDbXRRUUkwazBsbE9pSW95V1l4c0FBUFhOYkZKUUI0ait5eDRjMWp3NTRjMXFIWHROdWRQbG11MWVOSjAybGwyWXlLOXZvb29BK2R2Mm1kQjFqVi9HWGhDYlN0S3Y3NkdBSHpYdHJkNUZqL2VLZm1LZzQ2SHJYMFJRZXRGQUJTMGxMUUFWOGMrQlBoTjR1MWp4WnJiZmF0VzhLeGd1eTNUVzhpZWVHays2Q0dYSTc5ZTFmWTFGQUh6My93b254ZC8wVTdVL3dEdm1iLzQ5Ui93b254ZC93QkZPMVAvQUw1bS93RGp0ZlFsRkFIeDM4UXZoSjR3MGZ4SG9yQzYxYnhXckZXZTVXM2tmN09BNCtVNVp2cjFyN0RQNlV0SlFBRDV1VDBwYUtLQU9VK0owWGllWHdqY0h3Tk9JdGNSMGFMSWp3Njd2bVg5NEN2UWsvaFhoMmkvRHY0bWVML2lCb2VzZkVSNDRyWFM1a2xCYVdFbmFqQjlpTEZ4eVFNazQvUUN2cHlpZ0RQWFJ0T1hXbTFmN0ZCL2FqUkNEN1ZzSG1lV0NUdHo2WkpyeWI5b0Q0YTZsNGxmVHZFZmhNNDhRNmJoZHF1RWFWQWR5bFdQOFNuSkhyaysxZTAwVUFlRGZzLytBZkV1bitKOVg4WGVPVmROVXVrTVVheXVyU051SUxPMjNnZmRBQTlNOEFZcjNtaWlnRDVjOFplQTlQMHY5b2p3dXZoMjhsa3ZiL1VQN1V2TFk0YjdNcXlDUW5JNXcySk9EMDQ5YStvNjQ3d1I4TzlGOElYVjVmV1p1YnZWYndrejM5NUo1a3pBbk8wSHN2VGdlZ3lUZ1YyTkFCUlJSUUFVVVVVQUZGRkZBQlhqdnhlLzRXdEI0bmdtK0hqZWRwRFd5K1pFUmJmTEtHYlArcytia2JlbkZleFVVQWZLSGlqdy93REhIeDFacHBPdTJpUjZjemgzWHpMZUpDUjBMRkR1T0R6ajlLK2hQaGQ0Vi80UXJ3UHBtaHRLczAxdXJOTEl2Um5aaXpZOWdUZ2V3cnE2S0FDdm43OXJYUWRYMXkwOE1EUmRLdjhBVVRESmNHUVdsdTgyeklqeG5hRGpPRDE5SytnYUtBUG51eitEM3hDYXpnUC9BQXM3Vm9NeHFmSzgrNEd6ajd2K3M3VlYxajRCK0x0YnQwZzFyNGczT293SSs5WTd2enBWVnNFWkFaeUFjRTgxOUhVVUFmUFZyOEV2SGRwYlJXMXA4VGRSZ3Q0VUVjY1VjczZvaWdZQ3FCSmdBRGpBcm12aVo4SnZIOWw0VG5tbThXNng0bmpFaUJ0TlR6NWkrVDk3WnViT0RnOUsrcXFLQU9EK0JkamQ2YjhLZkQ5cHFOclBhWGNVVGlTR2VNeHVoOHh6Z3FlUndhN3lpaWdENWsrTW53NDFueG44YjdiWlpYc2VpenhReFRhaEhEdlNJQUhQUFQyL0d0UC9BSVplMGY4QTZHUFVQKy9DVjlFVVVBZk8vd0R3eTlvLy9ReDZoLzM0U2svNFpkMGYvb1k5US83OEpYMFRSUUI4aWVLZmdmcW5oYnhsb0o4T1I2aHJOajVrY3M4M2tnQ0VpUVpCSVBvTTE5ZDBVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBRmE2LzE5di9BTDM5UlZtcTExL3I3ZjhBM3Y2aXJOQUJSUlJRQVVVVVVBUTNuL0hzL3dDSDg2ZkIvcVkvOTBVeTgvNDluL0QrZFBnLzFNZis2S0FIMFVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQVZyci9YMi8rOS9VVlpxdGRmNiszLzN2NmlyTkFCUlJSUUFVVVpvb0FodlArUFovdy9uVDRQOEFVeC83b3BsNS93QWV6L2gvT253LzZsUDkwVUFQb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb3pSUUJXdXY5ZmIvd0M5L1VWWnF0ZGY2K0QvQUh2NmlyTkFCUlJSbWdEeVNLN3VZVG1LZVJQOTF6VitIeEJxY1l3THBtLzN3RFdYa0QyL0NrSkRkczErZFF4RlduOE1tdm1lL0tuQjdvNkJmRlYvczJ5Q0p4L3U0Tlg3ZnhnVlZWbHRSZ0RHVmF1UW9ycmhtbUtodE16ZUZwUG9kNUQ0dXMyKy9ITW40WnE3RDRrMHlUL2w0S0gvQUdsTmViVVpycWhudUpqdlptVXNGVDZIcWtXcVdNdjNMdUkvVmdLdFJ5Sko5eDFiNkhOZVEwNUhaRGxHWlQ2ZzRyb2p4REw3VlA4QUgvZ0dUd0s2U1BYNks4cmkxUytpL3dCWGR6ai9BSUdUVnlMeEhxYVl6Y2J4L3RJRC9TdXVHZjBIOFVXdnUvekllQm10bWowaWl1Q2o4WFh3R0hqaFlld0lxNUQ0eVBTVzA0OVZmLzYxZEVNNXdzdnRXK1RNbmhLcTZIWTBWekVQaSt6Zi9XUXlwK3RXby9FK211Y0dSbC8zbHJwam1HR2tycW9qTjBLaTZHN1JXYkhyV25TZmR1NC94T0t0UjNsdEovcTdpSnZvd3JlRmVuUDRaSi9NaHdrdDBXS0tBUVJrSElveldwSVVVWm9vQUtLS0tBQ2lpak5BQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGR2FBQ2lqTkZBQlJSbWlnQW9velRKSFNNWmQxVWVwT0tMZ1BvcW5KcU5sR012ZFFqL2dRcXJMNGcwMlAvbDVWajZMeldNOFJTaDhVa3ZtVW9TZXlOYWl1ZGs4V2FjdWRubXVmUUxWU1R4bkRraU8wa1B1ekFWenl6TEN4VjNOR2lvVkgwT3RvcmlwUEdNeC93QlhiUmo2dG1xY3ZpdlVYKzc1U0QyV3VlV2Q0UmJOdjVmNW1rY0hWWjZEUlhtTTJ2YWxOOTY3WWY3dUYvbFZTUzd1WmY4QVczTXovd0M5SVRYTkxQNlMrR0RmNGY1bXF3RXVza2VweTNNRVArdG1qVDZzQlZXVFdkT2orOWRSZmdjMTVjZXVTZWZ6b3hYTFBpQ2YySUpmai9rV3NESHF6ME9ieFJwc2ZSM2Mvd0N5dFU1dkdOdVA5VGJ5TjlTQlhFRWMwVnlUenpGUzJhWHlOSTRLbXR6cHJueGJQSTZHTzNSZHB6eWMxV204VTZuSjkxNDAvd0IxUDhhd2FXdWVlWllxVzgzK1J0SEQwbDlrdnpheHFNMzM3eVgvQUlDZHY4cXB2UE5JY3ZMSXg5U3hOTW9ya2xWblA0cE4vTXRVNHJaQlJSUlVEQ2lpaWdvS0tLS0FZVVVVVUFGRkZGQUJSUlJRQVVVVVVnQ2lpaW1BOUpaWXorN2tkZm9TS3RSNnJmeGo1THVjZlZ5YXBVVnBHdFVqdEpvbHdpOTBiRVhpUFZFNCswN2g2TWluK2xXVThXNmduM2xnZi9nSkg5YTU2aXRvWS9FdzJxUDd5SFFwdjdLT3JqOGFTQWZ2TFJXUHMrUDZWYVR4cEFWK2UxbEI5RklOY1ZSWFRIT01YRlc1dndSRHdsSjlEdm8vRjJuc1BtV1ZENkVaL2xWbUx4TnBqOEdmYjlRYTg0b3JlT2ZZbGJwUDVmOEFCTTNnYWIyUFVFMW5UNURoYnlMUDFxd2w3Yk45MjRpUC9BeFhrOUtDUjBKcmVIRUUvdFFSbThBdWpQWFZrVi91c0craHpUNjhpRTBpOUpHSDQxS2w5ZHA5eTVtWDZPYTFYRU1mdFEvSC9nRXZBUDhBbVBXS0s4dmoxdlVVUC9INUtmcWMvd0E2c3I0bjFWZitYZ01QOXBGL3dyb1dmNGZyRi9oL21ROERQdWowZWl2UDE4VzZpT3EyN2ZWRC9RMVlUeGpjRDc5ckdmb3hGYlJ6dkN5M2JYeUllQ3Fyb2R4UlhJSjR5WCtPeVlmU1hQOEFTcDA4WTJoKy9ienIrUi9yV3l6WENTMm4rRC95SmVGcXJvZFJSWFBKNHIwOXV2bXI5VnFkUEV1bU4veTNJK3FFVnFzZmhudFVYM21ibzFGOWxtMVJXWW11NmEvUzdqL0hpcGwxU3hmN3R6RWYrQlZySEVVcGJTWDNpZE9TM1Jkb3F1THUzYjdzeUgvZ1ZTTExHM1IxUDQxb3B4ZXpKc3lTaWpOR2FvUVVVVVpvQUtLTTBab0FLS00wWm9BS0tLTTBBRkZHYU0wQUZGRkZBQlJSbWpOQUJSUm1qTkFCUlJtak5BQlJSUlFBVVVab3pRQVVVWm96UUFVVVpvelFBVVVab3pRQVVVWm9vQUtLS00wQUZGR2FNMEFGRkZGQUJSUlJRQVVVWm9vQUtLS00wQUZGR2FLQUNpaWpOQUJSUm1pZ0FvcU16eEtjR1JBZmRxaWErdFUrOWNSRDZzS2h6aXQyTkpzczBWbnZxK25KOTY4aEgvQXFoZnhEcGkvOHZTSDZaTlp5eE5HTzgxOTVTcHpmUTFxS3dwUEZHbUoveTJjL1JEVURlTHJBZmRTWnZvQi9qV2NzZmhvNzFGOTVYc2FqK3l6cEtLNVovR05zQjhsdEt4OTJBcXMvakp2NExMSDFrLzhBclZqTE5zSkg3ZjUvNUZyQzFYc2pzcUs0V1R4aGVIL1Z3UXIvQUwyVC9XcTdlSzlTUFF4TDlFLyt2V01zN3dzZG0zOGkxZ3FwNkZSWG1yK0k5VWJyZEVmUkZIOUtydHJHb1A4QWV1NXZ3Y2lzWlovUVcwWCtCU3dNK3JSNmxVYnpScDk1MFg2bkZlVXZkM0QvQUhwcFQ5V05RbDJicTdINjFoTGlGZEtmNC84QUFMV0FiKzBlcVNhbFp4L2Z1b1Ivd0lWQSt1NmFuVzdqL0ROZVk0OWMwWUhwV0V1SUt2U0tLV0JqMVo2Sko0bzB4Q1FKWGI2S2FyU2VNTEpmdXhUUDlBQlhDVW1LeGxubUpsdFpmSXRZS210N25aU2VNMUJQbDJiSC9la3gvU3EwbmpLNmIvVjIwSy9Vay80VnkyS1dzSjVyaXBmYi9JMGpoYVhZMzVQRmVwUDBNU0QvQUdVL3hxck5yK3B5ZGJ0eC91Z0QrUXJLb3JubmpjUlBlby92TkZScHI3S0xNdC9lVGY2eTZtYjZ1YWdMTTMzblp2cWFiUldNcWs1YnMwc3Vpc0wrTkZKUldlb0JSUlJRTUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0NRb29vb0dnb29vb0dGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJTWUJSUlJURllLS0tLQjJDaWlpZ0xCUlJSU0N3VVVVVXdzTGtqb1NLVVNPUDQyL09tMFV1WmlzVExkVHA5MmFRZlJxbFRVNzVlbDFOLzMzVlNpclZhb3RtL3ZFNHA3bzBWMXJVVi93Q1h5WS9VMU1uaUxVMS81ZVNmcW9ySXhSV3l4ZGRmYmYzc2gwNGZ5cjdqY1R4UnFnNnpvZjhBdG10VEw0czFBZFJDMzFUL0FPdlhPMFZvc3d4Sy93Q1hqKzhQcTlKL1pPa1R4ZmYvQU1VTnVmb0NQNjFLdmpLNEgzcldJL1JpSzVhaXRGbWVMWDIzK0JEd3RMc2RjdmpOaDk2eEIra3VQNlZLbmpPUCtPeWNmU1RQOUs0eWlyam5HTVgyL3dBRUw2clNmVDh6dGg0enQrOXJLUDhBZ1FwdzhhV1g4VnZjRDZiZjhhNGVrd1BTci90ckY5MTl4UDFPbDJPOFR4aHA3ZFk3aGZxby93QWFmL3dsMm0vOU52OEF2aXVCb3Exbm1LOHZ1RjlTcG5vSThWNlllcnlENm9hZXZpblN5ZVptSC9iTnY4Szg3b3ByUGNUMVMrNS81aitvMC9NOUhIaVhTejB1UC9IRC9oVDE4UmFXVGdYYWZpRC9BSVY1clNZNXpWLzIvaVA1VitQK1pQMUNIZG5wdjl2YVovejl4L3JUaHJtbW4vbDhpLzc2cnpIRkZQOEF0K3QvS3Z4L3pENmhEdXowL3dEdHZUZitmeUgvQUw2cGY3YTAzL245Zy83N0ZlWDBoRlArMzYzOGkvRVg5bng3bnFQOXRhYi9BTS8xdi8zMktYKzJOTy81L2JmL0FMN0ZlV1k5cU1lMUgrc0ZYK1JDK29SN25xbjlyNmQveit3Zjk5aWorMTlPL3dDZjJEL3ZzVjVYdE5HMDBmNndWZjVFSDlueDducWY5c2FmL3dBL2tIL2ZZby90alR2K2Z5RC9BTDdGZVc3UlJ0RlAvV0NyL0loLzJmSHVlcGYyenB2L0FEKzIvd0QzMktiL0FHM3B2L1A3RC8zMVhsK0tXai9XQ3IvSWcvcytQYzlQL3R6VGYrZnlMODZaL2IybS93RFAwbjYxNW5SVS93QnYxdjVWK0kxZ0lkejByL2hJZEwvNStsL0kvd0NGTmJ4SnBTLzh2UDVJeC9wWG05RkR6K3YwaXZ4L3pENmhEdXowUStLZExIU1p6LzJ6Tk1QaXpUYzhOS2YrQUd2UHFLaDU3aWV5KzUvNWg5UnA5MmVnSHhicHdISG5INkxVYmVMN0FmOEFMSzRQL0FSL2pYQjBWTHp6RmVYM0QrcFV2TTdodkdWb1B1Mjg1K3VCVVo4YVE5clNRLzhBQXgvaFhGMFZEenJGOTE5dy9xZExzZGlmR2kvdzJKUDFseC9Tb244WnluN2xtZytzbWY2VnlkRlE4M3hiKzMrQy93QWl2cXRMc2RPM2pHN1AzYmVFZlVrMUUzaS9VRDBqdHgvd0UvNDF6dEZadk04Vy93RGw0eWxocVM2RzgzaXZVbTZOR1BvbFIvOEFDVGFxMy9Md28raUNzV2lzM2pzUy93RGw0L3ZLOWpUL0FKVWFqNi9xVGRicHZ3QUZSTnJHb04xdTV2OEF2bzFRb3FIaWF6M20vdllleWgyWDNGcHRSdTI2M0V4LzRFYWlhNW1iNzBqbjZ0VVZGWk9wTjd5ZjNsOGk3RG1rZHZ2TVQ5VFRjbWlpcGJ2dVZaQmswVVVVYURzRkZGRkJJVVVVVWhoUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVnQ2lpaWdBb29vcGdGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVYwZmliVGJYVHJDeVdPTUxjdU1Pd0o1d09lT25VaXRxZENWU0U2aTJqYjhUT1ZSUmtvOXpuS0tzNlphbTgxQzN0d09IY0EvVHY4QXBXbDR1anRvTlY4bTBpV01JZzNiZTVQL0FOYkZWSER5bFJkYm9uWUhVU21vZFRFb29xeHAxcWIyK2d0MTZ5TmcvVHYrbFl4ZzV5VVk3c3R5U1YyVjZLN2VEdzNFbXRsdnN5bXdDWUc1OC9OK2Vhd05XMEc4dGpjWEFqSDJkWE9NSHNUeHgrSXJ1cTVaWHBRYzJyMmIydjA2K2hqREUwNU8xekhvcnNIOE0vdU5POHVETXU0RzVKazR4M0dDZmM5S2gxcncxY1BmRTZiQWkyKzBZRy92MzYwNTVWaVl4NXVXKzNmcjh1blVTeFZOdTF6bGFLbHVvSHRiaDRKaGlST0Rqa1ZiMFZiYjdjbjlvSTV0ejF4MHoyejdWeFJwT1ZSVTNvOXRlbnFhdWFVWEl6NksxUEVPbHJwMTJvZ2s4MkdVYmt4eVFLMGZFMWhiMituNmZKQkRza2Rmbks5K0Ixcm9sZ3FrZmFjMjhMZmlRcThYYTNVNW84ZGFLNlhUOUlzN2JUR3ZkVll2NXFmdTBqT1NQcDcvQUtEdlhOc0NPY0VBOU0xbFd3ODZLaTU5VmY4QTRjcUZXTTIxSG9KUld6cG5oKzYxRzFGeERKRXFFa1lja0grVlcvOEFoRDczL252Yi93RGZSL3dyU0dYNG1jVktNTkdTOFJUaTdObk4wVnZXWGg3ejVMaEpyeU9GNFgySDVjNTRCNDVIclZ2L0FJUk5QK2dsRi8zeC93RFhxb1piaVpxNmorSy96QjRtbXRHemxxSzJkZDBNNlZCRko5cFdiekd3QUZ4L1dzYXVldFFuUW55VkZabWtaeG1yeENpaWlzaWdvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0JVUjNPSTBaampPQU0wNktHV1Z5c1VidXc2aFZKSXJkOEQvOEFJWlAvQUZ5YitZcTlxZXRwcFYzTGE2WkRIa09XbGtjWjNNZVRYb1VjSFRkRlY2czdLN1cycHp5clNVK1NLdXpsSllaWVd4Tkc4YmVqREZNcnVySzRUeExwVnpEY1JvTGhBTUVkQVRuQkg1VnllaVdKMUhVb3JmT0YrODUvMlJTcjRMbGxEMlQ1bFBZY0sxMCtaV3R1VllZSlpteERHOGhIWFlwT0tTYUo0VzJ5bzZONk1wRmRkcTJ1alM1ZnNXbHd4S0l1R0pHUjlCL2pVdWxYMFhpUzNtczlRaWo4OVYzS3lqOE1qMHh4K2Rickw2TXB1aEdwZWZwcGZ0Y3orc1NTNTNIVDFPTVdKM0JLS3pBZGNET0taWFQrRUpqYWF2Y1dNcHlIeXBIYmNwUC9BTmVzTFZiUTJXbzNGdVJ3ci9MOUQwL1FpdUtwaG5DaXFxZTdhZmsvK0NiUnEzbTRsZnkyMmJzSGI2NDRwdGVoZjJhbi9DT25UUGw4NVlkMjMvYXpuUDVpdUgwdTJOM3FWdmJnZmVmQkhzT1RXMkp5K2VIbENPL05iNyt4TlBFUm1tK3hYYU4wQUxvVnoweU90UGl0NXBzK1RGSklSMTJLVGl1ZzhUVHJmZUlvTFFNUkZHVmlPUFVrWi9wK1ZhWGlEVko5RWEzdGJDM2pTSGJ3NUdSOVByL2pXaXdGTk9vNXk5MkR0ZExmOFNQYnk5MUphczR1V0o0bTJ5b3lONk1DRFRLNlM5MStIVWRLa2h2N1lHNi81WnNuQUI5ZmF1YnJqeEZPbkJyMlV1WlArdFRhbktVbDd5c0ZGRkZjNW9kZDRkYUcwOE9YRjVKYnBLMFVoeHdNOXUvNDFhMDdYN2ZWdFFpdDVMQlF6Wnd6c0d4Z0UrbnRVWGg2ME45NFd1YmRXQ2w1Q0FUMjZVL1JmRE0ybjZuRmRQY1J1cUE4QUhQSUkvclgxVkQ2enlVVlNYdU5LKzNmL0k4dWZzN3o1OTliRHRLdFV0OVoxUFVKVlZZWU1xcEF3QnhrL3AvT3FiZUxsZGkzMkNNNTdtVC9BT3RWUy9tWnRldkxPVzVlRzBubHhKM0E2ZmxWSHhEcFQ2WGRCVithQitVZitZUHZYSld4TmFsQ1N3dWlpM3piUFZ2OGpXRk9FcEwybTdTc2RLYjVkVThOYWpQOW5TTGFySUFEbnNPZjFyQThMdEhEZVNUdmV3MnJJdTFmTlRjR3oxeHlQU3REUmpqd1pxWHU3RDlGckcwTFQvN1N2TmhrV09OQnVjazg0OXFtdFZxVHFVSnBYazE2ZFgyc09FVW96WFM1MXVuMmE2ZmR4M056cS9tK2VwQ0svQWZPT1J6VkhWN0lXZHpKTStzWWwzZWFrRGovQUdzampQVDhPMVV0WTFDM3U5WnNrRFlzN1p3b1lEZzhqSituU3JXcmFocGVvM1RSeHhoNXBWOG9YRXVWVk91Q0I2OCtncnFxVnFNb1NoRzN1dlM3ZXJ0cTkrL3lNZVdTYWI2K1NMcldubnpMcUw2NERDakx1Q0RDY0VjZmVwK3UyYVRYSzNFbXIvWkkzWDVWN0hIY0hjS3c5YXVMZTIwMlBTcktUekVSdDBzZy9pUHAvbjBxOWR6YVJxbGxZL2FyMHd0Q21DZ1U1N1o3ZTFOMXFiVTZTUzV0Rzd5ZG5McnJmb0hLNHRTOWVpMi80SnoyclFSMjkyVml2QmRnZ0V5RDE5T3Byc1pieTZ0ZEswaU93V0pwWmtWUDNuVDdvcmx2RTE1YjMycG1XMTVqQ2hRMk1aL3ptb05HdVV0ZFR0NXAyUGx4dG51ZTFlZFJ4RWNQWG5DRDBrMHJwN0srL1U2WjAzVXB4bExvZGp2OFNaNWlzdjEveG8zZUpNOHhXV1B4L3dBYXg5UWswSyt1NUxpVzd1bGQ4WlZWNDZZN2lvUHMvaDcvQUovTDMvdm4vd0N4cjBYWHMybFAvd0FxTC9JNWxGZHYvSmYrQ2JkemQrSUxXM2ttbGpzeEdneWNaUDhBV3FIamxpOFdtdWNaWlhKeC93QUJwbjI3UzdYUkx1enRMaVoybXlSdlE1eWNlM3RYTFpZL2VybHgrS1NwdWtuemN5WFc5bW42RzlDbDczUGExdkxjMXZEVVUxenE5dEVzamlORzNzQVRqQTVxVHhQZlNTNnpNSXBIVkk4UmdBNDZkZjF6VzU0SXNURGJTWGtpL05MOHFmUWRmOCsxVFdFdWs2aHFkeGFmMmZHSlk5ek16SUNEZzROWFN3Y3BZV0ZQbjVYTjMxOU5GK3BNNnlWVnRLNlJnZUViV08rMVNRWGFDVkJHV3cvUE9SV05kcW91NVFnMnFIT0I3WjRycC9BNFJieS9KWUx0QVVFL1UvNFVKNFVRU2huMUdJZ01DUVUvK3ZYT3NIVXI0V243S04zZVYzb1c2MFlWWmN6N0NlTi9raTA2THVxTm4veDBmMHJsYTcvWHRGR3NYTWNpM2FScWk3Y0JkMzQ5YTRDb3plbE9HSWM1TFI3ZkpJckN5VGdrdDBGRkZGZVVkUVVVVVVBRkZGRkFCUlJSU1RBS0tLS1lCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFkQjRIL0FPUXlmK3VUZnpGWldzZjhoYTgvNjd2L0FPaEdydmhhOXQ3RFZETGRTZVhHWXlvTzBubkk5S3o5U2tXZlVMcVdNNVI1V1pUNmdrNHJ2bk9Md1VZWDE1bm9jOFl2MjdkdExIUy9ENy9XM24wWCtacW40R1lEVzJCNm1KZ1B6RkhoRFVyWFRwTGxyeVh5dzRVS2RwT2NaOUJXSmFYRWxwZHgzRUp4SkdjaXVpT0loVHA0YVcvSzVYWFhjaVVIS1ZSZDdIVTZuNGcreDM4OERhZkN6STVHVDNIWTlLcngrTFdqYk1lblFxZW1WYkg5S3RUWGVpNjRpUGVzMXJjZ1lKQngrdU1IOGFoTnhvbWxXMHkyZysxek91MGx4a2ZpY1l4OUs3S2xXdTV1Y2E4ZVR2cGY3clhNSXhnMVp3ZC9tYzhiMlQrMDJ2UW9FaGw4d0RQVG5PSzYvVXRQWFVkWTB1OWpHWUpSdWMvN295TS95cmg2NnJTTmZqdGRBbGdrZkZ6R0dFSXdUbjA1NmY4QTZxNHN1clU1T1ZQRVBSKzk4MS9tYjRpRWtsS0hUUUl0WC80ckF5TWYzREUyNDlNZHYxL25WMjBzVjAzV2RTdnBVeERFbTlQZmRrbkg1WXJpQ1NXRGR4MHJxTmMxK0c4MFNLR0Yvd0RTSk1lY3VDTVk1L25XdUd4c1p4bk9zL2VpM0tQcStuMzJablVvdE5LT3owWnpVMGpTelBLN0h6R1lzU1BYclhRV25paWVOZnMrcFc2M0tBWUpQRGZqMk5ZTm5jRzJ1b3AxVldLTnV3M2V1b3VYMERXQ0o1NW50TGtqNStjWi9UQnJtd01xbnZTcDFGR1haOVY4eld1bzNTbEc2QzUwM1R0WDB1VzkweERCTEdDU3VNQWtET0NPbjRpdVJycXIzVmRPMHpTcGJMU0dhV1NUSVp6N2pHU2Uvd0NGVXZEZjlrN0xuKzFOdm1ZRzNkbkdQYkhldGNYU3AxcXNJUmxGU3Q3elh3M0pveWxDTXBOTnJwM01LaWxiRzQ3ZnU1NHBLOGM3RHE5TS93Q1JKdjhBL2ZQL0FMTFdiNFFKUGlHMXlUL0YzLzJEV3Y0ZGpqdXZETnhheVRwQ1pKQ010MjZkcW0wZlFyZlR0Uml1djdTams4dlB5N1FNNUJIWFB2WDBjTU5VcXp3OVdDMGlsZlZkN25udXBHS3FSZTd1Y3o0ai93Q1E1ZWY5ZFA2VmZHc3czR2dQWlhxR1NaTUNFajlEbjIvV3FIaUxuV2J3ai9ucFZ6VFBEazEvWlIzTU54R0ZmUERBZ2pCSS9wWG53OXU4UlVqUVY3M3V2SzV1K1JVNE9ma1hyUDhBZCtCN3cvMzMvbXlpdVZVbFI4cElPTzFkanJVVWVrK0dZOVBNZ2VWMjdkK2R4UDA2VnkybjJVOS9jQ0MyVU0rTThrRGluajRTVTZWRks3VVVyZVlVR25HVTNzMnpyNWRSbTAzd3JwODF1cUYyMm9kNEo0d1QvU290RTF6VXRVdmZJSDJlUDVTeGJ5eWNmK1BDbk5vOTdMcDhWdnFsM2J3V2tKRERhTW51T3B4NjFISHFlbGFIRVk5TVQ3VE0zRFBucjlUL0FJVjZyblZwempLckxrcHBLNmU3OUV0VGt0R1VXa3J5WkZxSGlhL3RMMmEzVTIwZ2piYnU4c2pQNjFZMTI2ZTg4SlFYRTJBN3VwTzNwMU5WR3ZkQzFPUS9iTGQ3T2R1UzZkQ2ZYaitvcTNjNlZQZDZVbHJwMTlCY1dpSEtnakJHT2VvcUl5clZZMU9XZlBGcDJTZXErVHMvekcxQ1BMZFdhM09NcnAvQWdEWHR5R1VFYkIxSHZYT1hVRWx0Y1BETXUyUkRnak9hNmZRZEgxZXpjelFmWjR2TVVBK1lkM0g0VjVXVzA2aXhLYWkzeTcyT3ZFVGk2YlY5eUwvaEs3amZ0K3lRZGZRMXBhenF0MXBZaDgyRzBkcGMvS0FlTVk2OCs5VjRiTFN0Q2J6N3k2RnhkSnlxQWREL0FMdjlUVldUeEpiWHNqTHFPbnBKRm41U0Q4eWovUHVLOU4xcWxLRGpYcXBUZTNXM3JaTTV1U01tbkNOMHR6VDhQYTIycDM3d1N3UW9CR1d5bzlDUDhhNHU5LzQrcmdEcHZiK2RkZHBVT25HNE0yalhvZ3VXVXI1VXk1NjRPTUhudDcxZ2EzcEYzcDdtVzYyRlpHT0dROEU5ZWxjK05qV3FZZUxuNzFtN3RXYTZkdjhBSXVoS0NxTzJsK2hyK0U5VG51Ynl6dEg0amdqZi9nWHArUTRwZkRJLzRxeSsra24vQUtHS3pQQ1Z4RmJhdXJ6eUxHbXhobGpnVjBWZ21rMldwVFhpYWxFenk3c3FYR0JrNXJiQlNkV0ZPY3BMM1pQZDlMSklpdWxDVWtsdWpFc3ZEYzEvYi9hbzdpSlE3TmhTRGtZWWlwditFUHVmK2Z1SDlhNXVYQWtiYmpHVDByVnNQRDk3ZldpWE1CaU1iWnhsc0hnNHJob3VqVTkyTkJ5YS92UDc5amVmUEhWenN2UTIvRE5zZE9sMWRIWU9ZVVg1aDBQQk5jYlhaeFdiNko0WnZ2dFRJSlpzZ0JlZW93Qi9NMXhsUE1JdW5UcFVtck5KdTNhN0REdm1sS1Y3N2ZnRkZGRmVXZFFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGRkZGQUJSUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQUZGRkZBQlJSUlFBVVVVVUFGR0tLS0FDaWlpa0FVVVVVQUZGRkZNQW9vb29BS2Nrcm92eU95cjZBa1UyaWpVQkN6TWNubjYwK0dXU0NRU1F1MGJqb3luQnB0RkNiVHVnSHl6U3pITXNqT2ZjMHlpaW0yM3F3Q3BJSlpZSER3eU1qRHVwd2Fqb3BKdE82QnErNHNqdEpJOGtoTE94SkpQYzFZYS91MmpXTnJpYnkxR0F1OGdZK2xWcUtwVGt0bUxsWFlVbko1cEtLS2tZVk5OZFR6UkpITks3b21kb1k1eFVORk5TYVRTNmljVTNjS0tLS0FDcG9ybTRoWEVNOHFEMFZ5S2hvcHhrNHU2WW1rOXlTZWVhZkhuVFNTWTZibUp4VWRGRkp0eWQyTkt3VVVVVWhoUlJSU1lCUlJSVEFLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBQ2lpaWdELzJmc3VSUXNBQUFBQVpIUURwYnZuWlB5czJ1bEgxM0pIbEE9PSI+CiAgICA8L2Rpdj4KICAgIDxidXR0b24gaWQ9Im5fY2xlYXIiPuaVsOaNrua4hembtjwvYnV0dG9uPgogICAgPGJ1dHRvbiBpZD0ibl9idXR0b24iPuW8gOWni+WIt+ivvjwvYnV0dG9uPgogIDwvZGl2Pgo8L2Rpdj5gOwogICQoJ2JvZHknKS5hcHBlbmQob3V0ZXJIVE1MKTsKICAvLyDmt7vliqBjc3PmoLflvI8KICBmdW5jdGlvbiBhZGRTdHlsZSgpIHsKICAgIGxldCBjc3MgPSBgCiAgICB1bCwKICAgIGxpLAogICAgcCB7CiAgICAgIG1hcmdpbjogMDsKICAgICAgcGFkZGluZzogMDsKICAgIH0KCiAgICBib2R5IHsKICAgICAgd2lkdGg6IDEwMHZ3OwogICAgICBoZWlnaHQ6IDEwMHZoOwogICAgfQoKICAgIC5uX291dGVyIHsKICAgICAgbWFyZ2luOiAwOwogICAgICBwYWRkaW5nOiAwOwogICAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICAgIHRvcDogMDsKICAgICAgcmlnaHQ6IDA7CiAgICAgIG1pbi13aWR0aDogNTAwcHg7CiAgICAgIGhlaWdodDogMjUwcHg7CiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgICAgIHotaW5kZXg6IDk5OTk5OwogICAgICBib3gtc2hhZG93OiA2cHggNHB4IDE3cHggMnB4ICMwMDAwMDA7CiAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNhM2EzYTM7CiAgICAgIGZvbnQtZmFtaWx5OiBBdmVuaXIsIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7CiAgICAgIGNvbG9yOiAjNjM2MzYzOwogICAgfQoKICAgIC5uX2hlYWRlciB7CiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgaGVpZ2h0OiA0MHB4OwogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjdmN2Y3OwogICAgICBjb2xvcjogIzAwMDsKICAgICAgZm9udC1zaXplOiAxOHB4OwogICAgICBsaW5lLWhlaWdodDogNDBweDsKICAgICAgY3Vyc29yOiBtb3ZlOwogICAgICBib3JkZXItcmFkaXVzOiAxMHB4IDEwcHggMCAwOwogICAgICBib3JkZXItYm90dG9tOiAycHggc29saWQgI2VlZTsKICAgIH0KCiAgICAubl9ib2R5IHsKICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgIGZvbnQtc2l6ZTogMTNweDsKICAgICAgbGluZS1oZWlnaHQ6IDI2cHg7CiAgICAgIGhlaWdodDogMTgzcHg7CiAgICB9CgogICAgLm5fYm9keSAubl9pbmZvQWxlcnQgewogICAgICBvdmVyZmxvdy15OiBzY3JvbGw7CiAgICAgIGhlaWdodDogMTAwJTsKICAgIH0KCiAgICAvKiDmu5rliqjmnaHmlbTkvZMgKi8KICAgIC5uX2JvZHkgLm5faW5mb0FsZXJ0Ojotd2Via2l0LXNjcm9sbGJhciB7CiAgICAgIGhlaWdodDogMjBweDsKICAgICAgd2lkdGg6IDdweDsKICAgIH0KCiAgICAvKiDmu5rliqjmnaHovajpgZMgKi8KICAgIC5uX2JvZHkgLm5faW5mb0FsZXJ0Ojotd2Via2l0LXNjcm9sbGJhci10cmFjayB7CiAgICAgIC0td2Via2l0LWJveC1zaGFkb3c6IGluc2V0IDAgMCA1cHggcmdiYSgwLCAwLCAwLCAwLjIpOwogICAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgICBiYWNrZ3JvdW5kOiAjZmZmZmZmOwogICAgfQoKICAgIC8qIOa7muWKqOadoea7keWdlyAqLwogICAgLm5fYm9keSAubl9pbmZvQWxlcnQ6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHsKICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgICAgLS13ZWJraXQtYm94LXNoYWRvdzogaW5zZXQgMCAwIDVweCByZ2JhKDAsIDAsIDAsIDAuMik7CiAgICAgIGJhY2tncm91bmQ6IHJnYigyMCwgMTksIDE5LCAwLjYpOwogICAgfQoKICAgIC5uX2Zvb3RlciB7CiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgYm90dG9tOiAwOwogICAgICBsZWZ0OiAwOwogICAgICB0ZXh0LWFsaWduOiByaWdodDsKICAgICAgaGVpZ2h0OiAyNXB4OwogICAgICB3aWR0aDogMTAwJTsKICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y3ZjdmNzsKICAgICAgY29sb3I6ICNjNWM1YzU7CiAgICAgIGZvbnQtc2l6ZTogMTNweDsKICAgICAgbGluZS1oZWlnaHQ6IDI1cHg7CiAgICAgIGJvcmRlci1yYWRpdXM6IDAgMCAxMHB4IDEwcHg7CiAgICAgIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjZWVlOwogICAgICBkaXNwbGF5OiBmbGV4OwogICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICB9CgogICAgLm5fZm9vdGVyIGJ1dHRvbiB7CiAgICAgIGJvcmRlci1yYWRpdXM6IDZweDsKICAgICAgYm9yZGVyOiAwOwogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibHVlOwogICAgICBjb2xvcjogI2ZmZjsKICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgfQoKICAgIC5uX2Zvb3RlciBidXR0b246aG92ZXIgewogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB5ZWxsb3c7CiAgICAgIGNvbG9yOiAjMDAwOwogICAgfQoKICAgIC5uX2Zvb3RlciAjbl96YW5zaGFuZyB7CiAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICBjb2xvcjogcmVkOwogICAgfQoKICAgIC5uX2Zvb3RlciAjbl96YW5zaGFuZyBpbWcgewogICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgIHRvcDogMzBweDsKICAgICAgbGVmdDogLTEzMHB4OwogICAgICBkaXNwbGF5OiBub25lOwogICAgICB3aWR0aDogMzAwcHg7CiAgICB9CgogICAgLm5fZm9vdGVyICNuX3phbnNoYW5nOmhvdmVyIGltZyB7CiAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgfQogIGA7CiAgICBHTV9hZGRTdHlsZShjc3MpOwogIH0KICBhZGRTdHlsZSgpOwoKICAvLyDnqpflj6PnmoTmi73mi5bpgLvovpEKICAkKCcubl9oZWFkZXInKS5tb3VzZWRvd24oZnVuY3Rpb24gKGUpIHsKICAgIGxldCBpbm5lckxlZnQgPSBlLm9mZnNldFgsCiAgICAgIGlubmVyVG9wID0gZS5vZmZzZXRZCiAgICAkKCdib2R5JykubW91c2Vtb3ZlKGZ1bmN0aW9uIChlKSB7CiAgICAgIGxldCBsZWZ0ID0gZS5jbGllbnRYIC0gaW5uZXJMZWZ0LAogICAgICAgIHRvcCA9IGUuY2xpZW50WSAtIGlubmVyVG9wOwogICAgICAvL+iOt+WPlmJvZHnnmoTpobXpnaLlj6/op4blrr3pq5gKICAgICAgdmFyIGNsaWVudEhlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgfHwgZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQ7CiAgICAgIHZhciBjbGllbnRXaWR0aCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCB8fCBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoOwogICAgICAvLyDpgJrov4fliKTmlq3mmK/lkKbmuqLlh7rlsY/luZUKICAgICAgaWYgKGxlZnQgPD0gMCkgewogICAgICAgIGxlZnQgPSAwOwogICAgICB9IGVsc2UgaWYgKGxlZnQgPj0gY2xpZW50V2lkdGggLSAkKCcubl9vdXRlcicpWzBdLm9mZnNldFdpZHRoKSB7CiAgICAgICAgbGVmdCA9IGNsaWVudFdpZHRoIC0gJCgnLm5fb3V0ZXInKVswXS5vZmZzZXRXaWR0aAogICAgICB9CiAgICAgIGlmICh0b3AgPD0gMCkgewogICAgICAgIHRvcCA9IDAKICAgICAgfSBlbHNlIGlmICh0b3AgPj0gY2xpZW50SGVpZ2h0IC0gJCgnLm5fb3V0ZXInKVswXS5vZmZzZXRIZWlnaHQpIHsKICAgICAgICB0b3AgPSBjbGllbnRIZWlnaHQgLSAkKCcubl9vdXRlcicpWzBdLm9mZnNldEhlaWdodAogICAgICB9CiAgICAgICQoJy5uX291dGVyJykuY3NzKHsKICAgICAgICBsZWZ0OiAoKSA9PiB7CiAgICAgICAgICByZXR1cm4gbGVmdCArICdweCc7CiAgICAgICAgfSwKICAgICAgICB0b3A6ICgpID0+IHsKICAgICAgICAgIHJldHVybiB0b3AgKyAncHgnOwogICAgICAgIH0KICAgICAgfSkKICAgIH0pCiAgfSkKICAkKCcubl9oZWFkZXInKS5tb3VzZXVwKGZ1bmN0aW9uIChlKSB7CiAgICAkKCdib2R5Jykub2ZmKCk7CiAgfSkKICAkKCcjbl9idXR0b24nKS5jbGljayhmdW5jdGlvbiAoKSB7CiAgICBtYWluKCk7CiAgICAkKCcjbl9idXR0b24nKS50ZXh0KCfliLfor77kuK1+Jyk7CiAgfSkKICAkKCcjbl9jbGVhcicpLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGxvY2F0aW9uLmhyZWYpOwogICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXJDb3VudCcpOwogICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Byb19sbXNfY2xhc3NDb3VudCcpOwogIH0pCn0KCi8vIOiEmuacrOi/kOihjOaguOW/g+mAu+i+kQpmdW5jdGlvbiBtYWluKCkgewogIHN0YXJ0KCk7CiAgLy8g6KeG6aKR5pKt5pS+6YCf546HLOWPr+mAieWAvCBbMSwxLjI1LDEuNSwyXSzpu5jorqTkuLrkuozlgI3pgJ8KICBjb25zdCByYXRlID0gMjsKICAvLyDlkJHlvLnnqpfph4zov73liqDkv6Hmga8KICBmdW5jdGlvbiBhbGVydE1lc3NhZ2UobWVzc2FnZSkgewogICAgJCgnLm5faW5mb0FsZXJ0JykuYXBwZW5kKGA8bGk+JHttZXNzYWdlfTwvbGk+YCk7CiAgfQogIHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uX2luZm9BbGVydCcpLmxhc3RFbGVtZW50Q2hpbGQuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogInNtb290aCIsIGJsb2NrOiAiZW5kIiwgaW5saW5lOiAibmVhcmVzdCIgfSk7CiAgfSwgNTAwKQogIC8vIOinhumikeiHquWKqOWKoOmAn+mAu+i+kQogIGZ1bmN0aW9uIHNwZWVkKCkgewogICAgbGV0IGtleXQgPSAnJzsKICAgIGlmIChyYXRlID09PSAyIHx8IHJhdGUgPT09IDEpIHsKICAgICAga2V5dCA9ICJba2V5dD0nIiArIHJhdGUgKyAiLjAwJ10iCiAgICB9IGVsc2UgewogICAgICBrZXl0ID0gIltrZXl0PSciICsgcmF0ZSArICInXSIKICAgIH0KICAgIGZ1bmN0aW9uIGZ1bihjbGFzc05hbWUsIHNlbGVjdG9yKSB7CiAgICAgIHZhciBtb3VzZW1vdmUgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgiTW91c2VFdmVudCIpOwogICAgICBtb3VzZW1vdmUuaW5pdE1vdXNlRXZlbnQoIm1vdXNlbW92ZSIsIHRydWUsIHRydWUsIHVuc2FmZVdpbmRvdywgMCwgMTAsIDEwLCAxMCwgMTAsIDAsIDAsIDAsIDAsIDAsIG51bGwpOwogICAgICBjb25zb2xlLmxvZyhkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGNsYXNzTmFtZSlbMF0pOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGNsYXNzTmFtZSlbMF0uZGlzcGF0Y2hFdmVudChtb3VzZW1vdmUpOwogICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKS5jbGljaygpOwogICAgICBhbGVydE1lc3NhZ2UoJ+W3suW8gOWni+S4pOWAjemAn+aSreaUvicpOwogICAgfQogICAgZnVuKCd4dF92aWRlb19wbGF5ZXJfc3BlZWQnLCBrZXl0KQogIH0KICAvLyDliKTmlq3pobXpnaLnsbvlnovmiafooYzkuI3lkIznmoTmk43kvZwKICBmdW5jdGlvbiBzdGFydCgpIHsKICAgIGNvbnN0IHVybCA9IGxvY2F0aW9uLmhvc3Q7CiAgICBjb25zdCBwYXRoTmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lLnNwbGl0KCcvJyk7CiAgICBjb25zdCBtYXRjaFVSTCA9IHVybCArIHBhdGhOYW1lWzBdICsgJy8nICsgcGF0aE5hbWVbMV0gKyAnLycgKyBwYXRoTmFtZVsyXTsKICAgIGNvbnNvbGUubG9nKG1hdGNoVVJMKTsKICAgIGNvbnN0IGNoYW5namlhbmd2MiA9IFsnY2hhbmdqaWFuZy55dWtldGFuZy5jbi92Mi93ZWInLCAneXVrZXRhbmcuY24vdjIvd2ViJywgJ3d3dy55dWtldGFuZy5jbi92Mi93ZWInLCAneHh4eHgueXVrZXRhbmcuY24vdjIvd2ViJywgJ3JhaW4uZ2R1ZmVtb29jLmNuL3YyL3dlYiddOwogICAgY29uc3QgcHJvX2xtcyA9IFsnYmtzeWNzdS55dWtldGFuZy5jbi9wcm8vbG1zJywgJ2hlbnV5anMueXVrZXRhbmcuY24vcHJvL2xtcyddOwogICAgYWxlcnRNZXNzYWdlKGDmraPlnKjkuLrmgqjljLnphY0ke3VybH3nmoTlpITnkIbpgLvovpEuLi5gKTsKICAgIGlmIChjaGFuZ2ppYW5ndjIuaW5jbHVkZXMobWF0Y2hVUkwpKSB7CiAgICAgIHl1a2V0YW5nX3YyKCk7CiAgICB9IGVsc2UgaWYgKHByb19sbXMuaW5jbHVkZXMobWF0Y2hVUkwpIHx8IG1hdGNoVVJMLmluY2x1ZGVzKCd5dWtldGFuZy5jbi9wcm8vbG1zJykpIHsgIC8vIOayoeacieWMuemFjeWIsOS9hue9keWdgOWQq+aciSBwcm8vbG1zIOWwseS8mOWFiOWMuemFjQogICAgICB5dWtlcmFuZ19wcm9fbG1zKCk7CiAgICB9CiAgfQogIC8vIHl1a2V0YW5nLmNuL3YyL3dlYumhtemdoueahOWkhOeQhumAu+i+kQogIGZ1bmN0aW9uIHl1a2V0YW5nX3YyKCkgewogICAgYWxlcnRNZXNzYWdlKCflt7LljLnphY3liLB3d3cueXVrZXRhbmcuY24s5q2j5Zyo5aSE55CGLi4uJyk7CiAgICAvLyDnlKjkuo7liKTmlq3kuI3lkIznmoTor77nqIsKICAgIGxldCBiYXNlVXJsID0gbG9jYXRpb24uaHJlZjsKICAgIC8vIOagueaNruWuouaIt+err+iusOW9leeahFVSTOWIpOWIq+WIt+WIsOmCo+S4gOmbhuS6hizkuI3lvbHlk43nrKzkuIDmibnnlKjmiLfnmoTliLfor77ov5vluqbjgIIKICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2xhc3NJbmRleCcpKSB7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGJhc2VVcmwsICtsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2xhc3NJbmRleCcpKTsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2NsYXNzSW5kZXgnKTsKICAgIH0KICAgIGxldCBjb3VudCA9ICtsb2NhbFN0b3JhZ2UuZ2V0SXRlbShiYXNlVXJsKSB8fCAwOwogICAgYWxlcnRNZXNzYWdlKGDmo4DmtYvliLDlt7Lnu4/mkq3mlL7liLAke2NvdW50fembhi4uLmApOwogICAgbGV0IGNsYXNzTGlzdCA9IFtdOwogICAgLy8g55So5LqO5qCH6K6w6KeG6aKR5piv5ZCm5pKt5pS+5a6M5q+VCiAgICBsZXQgcGxheSA9IHRydWU7CiAgICAvLyDkuLvlh73mlbAKICAgIGZ1bmN0aW9uIG1haW4oKSB7CiAgICAgIGF1dG9TbGlkZShjb3VudCkudGhlbigoKSA9PiB7CiAgICAgICAgbGV0IGxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9ncy1saXN0JykuY2hpbGROb2RlczsKICAgICAgICBhbGVydE1lc3NhZ2UoJ+WIt+ivvueKtuaAge+8muesrCcgKyAoY291bnQgKyAxKSArICfkuKovJyArIGxpc3QubGVuZ3RoICsgJ+S4qicpOwogICAgICAgIGNsYXNzTGlzdFtjb3VudF0gPSBsaXN0W2NvdW50XT8ucXVlcnlTZWxlY3RvcignLmNvbnRlbnQtYm94Jyk/LnF1ZXJ5U2VsZWN0b3IoJ3NlY3Rpb24nKTsKICAgICAgICBsZXQgY2xhc3NJbmZvID0gY2xhc3NMaXN0W2NvdW50XT8ucXVlcnlTZWxlY3RvcignLnRhZycpPy5xdWVyeVNlbGVjdG9yKCd1c2UnKT8uZ2V0QXR0cmlidXRlKCd4bGluazpocmVmJyk7CiAgICAgICAgaWYgKGNsYXNzSW5mbz8uaW5jbHVkZXMoJ3NoaXBpbicpICYmIHBsYXkgPT09IHRydWUpIHsgLy8g6KeG6aKR5aSE55CGCiAgICAgICAgICBwbGF5ID0gZmFsc2U7CiAgICAgICAgICBjbGFzc0xpc3RbY291bnRdLmNsaWNrKCk7CiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgYWxlcnRNZXNzYWdlKCfnrKwnICsgKGNvdW50ICsgMSkgKyAn5Liq77ya6L+b5YWl5LqG6KeG6aKR5Yy6Jyk7CiAgICAgICAgICAgIHNwZWVkKCk7CiAgICAgICAgICAgIGxldCBwcm9ncmVzcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9ncmVzcy13cmFwJykucXVlcnlTZWxlY3RvcignLnRleHQnKTsKICAgICAgICAgICAgbGV0IHRpbWVyMSA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgICBpZiAocHJvZ3Jlc3MuaW5uZXJIVE1MLmluY2x1ZGVzKCcxMDAlJykgfHwgcHJvZ3Jlc3MuaW5uZXJIVE1MLmluY2x1ZGVzKCc5OSUnKSB8fCBwcm9ncmVzcy5pbm5lckhUTUwuaW5jbHVkZXMoJzk4JScpKSB7CiAgICAgICAgICAgICAgICBjb3VudCsrOwogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oYmFzZVVybCwgY291bnQpOwogICAgICAgICAgICAgICAgcGxheSA9IHRydWU7CiAgICAgICAgICAgICAgICBoaXN0b3J5LmJhY2soKTsKICAgICAgICAgICAgICAgIG1haW4oKTsKICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIxKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIDEwMDAwKTsKICAgICAgICAgIH0sIDMwMDApCiAgICAgICAgICAvLyDmibnph4/lpITnkIYKICAgICAgICB9IGVsc2UgaWYgKGNsYXNzSW5mbz8uaW5jbHVkZXMoJ3BpbGlhbmcnKSAmJiBwbGF5ID09PSB0cnVlKSB7ICAgLy8g5om56YeP5aSE55CGCiAgICAgICAgICBsZXQgemhhbmthaSA9IGNsYXNzTGlzdFtjb3VudF0ucXVlcnlTZWxlY3RvcignLnN1Yi1pbmZvJykucXVlcnlTZWxlY3RvcignLmdyYXknKS5xdWVyeVNlbGVjdG9yKCdzcGFuJyk7CiAgICAgICAgICBzeW5jKCk7CiAgICAgICAgICBhc3luYyBmdW5jdGlvbiBzeW5jKCkgewogICAgICAgICAgICBhd2FpdCB6aGFua2FpLmNsaWNrKCk7CiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgIGFsZXJ0TWVzc2FnZSgn56ysJyArIChjb3VudCArIDEpICsgJ+S4qu+8mui/m+WFpeS6huaJuemHj+WMuicpOwogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyQ291bnQnKSA/IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyQ291bnQnKSA6IGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyQ291bnQnLCAwKTsKICAgICAgICAgICAgICAvLyDkv53lrZjmiYDmnInop4bpopEKICAgICAgICAgICAgICBsZXQgYSA9IGxpc3RbY291bnRdLnF1ZXJ5U2VsZWN0b3IoJy5sZWFmX2xpc3RfX3dyYXAnKS5xdWVyeVNlbGVjdG9yQWxsKCcuYWN0aXZpdHlfX3dyYXAnKTsKICAgICAgICAgICAgICBsZXQgY291bnQxID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJDb3VudCcpOwogICAgICAgICAgICAgIGJvZmFuZygpOwogICAgICAgICAgICAgIGZ1bmN0aW9uIGJvZmFuZygpIHsKICAgICAgICAgICAgICAgIGxldCBjbGFzc0luZm8xID0gYVtjb3VudDFdPy5xdWVyeVNlbGVjdG9yKCcudGFnJykucXVlcnlTZWxlY3RvcigndXNlJykuZ2V0QXR0cmlidXRlKCd4bGluazpocmVmJyk7CiAgICAgICAgICAgICAgICBsZXQgcGxheSA9IHRydWU7CiAgICAgICAgICAgICAgICBpZiAoY2xhc3NJbmZvMT8uaW5jbHVkZXMoJ3NoaXBpbicpICYmIHBsYXkgPT09IHRydWUpIHsKICAgICAgICAgICAgICAgICAgcGxheSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICBhW2NvdW50MV0uY2xpY2soKTsKICAgICAgICAgICAgICAgICAgYWxlcnRNZXNzYWdlKGDlvIDlp4vmkq3mlL7op4bpopFgKTsKICAgICAgICAgICAgICAgICAgLy8g5bu26L+fM+enkuWQjuWKoOmAnwogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBzcGVlZCgpOwogICAgICAgICAgICAgICAgICB9LCAzMDAwKTsKICAgICAgICAgICAgICAgICAgbGV0IHRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGxldCBwcm9ncmVzcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9ncmVzcy13cmFwJykucXVlcnlTZWxlY3RvcignLnRleHQnKTsKICAgICAgICAgICAgICAgICAgICBpZiAocHJvZ3Jlc3MuaW5uZXJIVE1MLmluY2x1ZGVzKCcxMDAlJykgfHwgcHJvZ3Jlc3MuaW5uZXJIVE1MLmluY2x1ZGVzKCc5OSUnKSB8fCBwcm9ncmVzcy5pbm5lckhUTUwuaW5jbHVkZXMoJzk4JScpKSB7CiAgICAgICAgICAgICAgICAgICAgICBjb3VudDErKzsKICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyQ291bnQnLCBjb3VudDEpOwogICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7CiAgICAgICAgICAgICAgICAgICAgICBhbGVydE1lc3NhZ2UoYOinhumikeaSreaUvuWujOavlWApOwogICAgICAgICAgICAgICAgICAgICAgaGlzdG9yeS5iYWNrKCk7CiAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgYm9mYW5nKCk7CiAgICAgICAgICAgICAgICAgICAgICB9LCAyMDAwKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIDMwMDApCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNsYXNzSW5mbzEgJiYgIWNsYXNzSW5mbzEuaW5jbHVkZXMoJ3NoaXBpbicpICYmIHBsYXkgPT09IHRydWUpIHsKICAgICAgICAgICAgICAgICAgYWxlcnRNZXNzYWdlKCfkuI3mmK/op4bpopEnKTsKICAgICAgICAgICAgICAgICAgY291bnQxKys7CiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyQ291bnQnLCBjb3VudDEpOwogICAgICAgICAgICAgICAgICBib2ZhbmcoKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY291bnQxID09PSBhLmxlbmd0aCAmJiBwbGF5ID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgIGFsZXJ0TWVzc2FnZSgn5ZCI6ZuG5pKt5pS+5a6M5q+VJyk7CiAgICAgICAgICAgICAgICAgIGNvdW50Kys7CiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyQ291bnQnLCBjb3VudDEpOwogICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShiYXNlVXJsLCBjb3VudCk7CiAgICAgICAgICAgICAgICAgIG1haW4oKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIDIwMDApCiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChjbGFzc0luZm8/LmluY2x1ZGVzKCdrZXRhbmcnKSAmJiBwbGF5ID09PSB0cnVlKSB7ICAgIC8vIOivvuWgguWkhOeQhgogICAgICAgICAgYWxlcnRNZXNzYWdlKCfnrKwnICsgKGNvdW50ICsgMSkgKyAn5Liq77ya6L+b5YWl5LqG6K++5aCC5Yy6Jyk7CiAgICAgICAgICBwbGF5ID0gZmFsc2U7CiAgICAgICAgICBjbGFzc0xpc3RbY291bnRdLmNsaWNrKCk7CiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgbGV0IHBsYXlCYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBsYXliYWNrJyk7CiAgICAgICAgICAgIGlmIChwbGF5QmFjaykgeyAvLyDlrZjlnKjlm57mlL7mjInpkq7ml7bov5vlhaXor6bmg4XpobUKICAgICAgICAgICAgICBwbGF5QmFjay5jbGljaygpOwogICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgLy8g5YaF5a655Li66KeG6aKR55qE6YC76L6RCiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigndmlkZW8nKSkgewogICAgICAgICAgICAgICAgICBmdW5jdGlvbiBpc0NvbXBsYXRlKCkgewogICAgICAgICAgICAgICAgICAgIGxldCB2aWRlb1RpbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudmlkZW9fX3RpbWUnKS5pbm5lckhUTUwudG9TdHJpbmcoKTsKICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudFRpbWUgPSB2aWRlb1RpbWUuc3BsaXQoJy8nKVswXTsKICAgICAgICAgICAgICAgICAgICBsZXQgdG90YWxUaW1lID0gdmlkZW9UaW1lLnNwbGl0KCcvJylbMV07CiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRUaW1lID09IHRvdGFsVGltZSB8fCBjdXJyZW50VGltZSA9PSAnMDA6MDAnIHx8IGN1cnJlbnRUaW1lID09ICcwMDowMDowMCcpIHsKICAgICAgICAgICAgICAgICAgICAgIGNvdW50Kys7CiAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShiYXNlVXJsLCBjb3VudCk7CiAgICAgICAgICAgICAgICAgICAgICBwbGF5ID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgIGhpc3RvcnkuZ28oLTIpOwogICAgICAgICAgICAgICAgICAgICAgbWFpbigpOwogICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIGxldCB0aW1lciA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBpc0NvbXBsYXRlKCk7CiAgICAgICAgICAgICAgICAgIH0sIDEwMDAwKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8g5YaF5a655Li66Z+z6aKR55qE6YC76L6RCiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYXVkaW8nKSkgewogICAgICAgICAgICAgICAgICBmdW5jdGlvbiBpc0NvbXBsYXRlKCkgewogICAgICAgICAgICAgICAgICAgIGxldCBtYWluQXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluQXJlYScpOwogICAgICAgICAgICAgICAgICAgIGxldCBjdXJyZW50VGltZSA9IG1haW5BcmVhLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4nKVswXS5pbm5lckhUTUwudG9TdHJpbmcoKTsKICAgICAgICAgICAgICAgICAgICBsZXQgdG90YWxUaW1lID0gbWFpbkFyZWEucXVlcnlTZWxlY3RvckFsbCgnc3BhbicpWzFdLmlubmVySFRNTC50b1N0cmluZygpOwogICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VGltZSA9PSB0b3RhbFRpbWUgfHwgY3VycmVudFRpbWUgPT0gJzAwOjAwJyB8fCBjdXJyZW50VGltZSA9PSAnMDA6MDA6MDAnKSB7CiAgICAgICAgICAgICAgICAgICAgICBjb3VudCsrOwogICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oYmFzZVVybCwgY291bnQpOwogICAgICAgICAgICAgICAgICAgICAgcGxheSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICBoaXN0b3J5LmdvKC0yKTsKICAgICAgICAgICAgICAgICAgICAgIG1haW4oKTsKICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICBsZXQgdGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaXNDb21wbGF0ZSgpOwogICAgICAgICAgICAgICAgICB9LCAxMDAwMCkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9LCAzMDAwKQogICAgICAgICAgICB9IGVsc2UgeyAgIC8vIOS4jeWtmOWcqOWbnuaUvuaMiemSruaXtumAgOWHugogICAgICAgICAgICAgIGNvdW50Kys7CiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oYmFzZVVybCwgY291bnQpOwogICAgICAgICAgICAgIHBsYXkgPSB0cnVlOwogICAgICAgICAgICAgIGhpc3RvcnkuZ28oLTEpOwogICAgICAgICAgICAgIG1haW4oKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwgMzAwMCkKICAgICAgICB9IGVsc2UgaWYgKGNsYXNzSW5mbz8uaW5jbHVkZXMoJ2tlamlhbicpICYmIHBsYXkgPT09IHRydWUpIHsgIC8vIOivvuS7tuWkhOeQhgogICAgICAgICAgYWxlcnRNZXNzYWdlKCfmoLnmja55Y2rnlKjmiLfnmoTlj43ppojkv67mlLnmlrDlop7or77ku7blpITnkIbvvIzkuJTotZ7liqnmlK/mjIHvvIzooajnpLrmhJ/osKInKSAvLyA4LjjlhYMKICAgICAgICAgIGFsZXJ0TWVzc2FnZSgn56ysJyArIChjb3VudCArIDEpICsgJ+S4qu+8mui/m+WFpeS6huivvuS7tuWMuicpOwogICAgICAgICAgcGxheSA9IGZhbHNlOwogICAgICAgICAgY2xhc3NMaXN0W2NvdW50XS5jbGljaygpOwogICAgICAgICAgbGV0IGNsYXNzVHlwZTsKICAgICAgICAgIChhc3luYyBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBjbGFzc1R5cGUgPSAkKCcuZWwtY2FyZF9faGVhZGVyJylbMF0uaW5uZXJUZXh0OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2xhc3NUeXBlKTsKICAgICAgICAgICAgICAgICQoJy5jaGVjaycpLmNsaWNrKCk7CiAgICAgICAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICAgICAgfSwgMzAwMCkKICAgICAgICAgICAgfSkgIC8vIDPnp5LlkI7miafooYzngrnlh7vkuovku7YKICAgICAgICAgICAgbGV0IGNsYXNzTmFtZSA9ICQoJy5kaWFsb2ctaGVhZGVyJylbMF0uZmlyc3RFbGVtZW50Q2hpbGQuaW5uZXJUZXh0OwogICAgICAgICAgICBjb25zb2xlLmxvZyhjbGFzc05hbWUpOwogICAgICAgICAgICBpZiAoY2xhc3NUeXBlID09ICfor77ku7ZQUFQnKSB7ICAvLyDor77ku7bkuLpwcHQKICAgICAgICAgICAgICBsZXQgYWxsUFBUID0gJCgnLnN3aXBlci13cmFwcGVyJylbMF0uY2hpbGRyZW47CiAgICAgICAgICAgICAgYWxlcnRNZXNzYWdlKGDlvIDlp4vmkq3mlL4ke2NsYXNzTmFtZX1gKQogICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWxsUFBULmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBhbGxQUFRbaV0uY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICBhbGVydE1lc3NhZ2UoYCR7Y2xhc3NOYW1lfe+8muesrCR7aSArIDF95LiqcHB05bey57uP5pKt5pS+YCk7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgICAgICAgICAgICB9LCA1MDApCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpZiAoJCgnLnZpZGVvLWJveCcpKSB7ICAvLyDlm57lpLTmo4DmtYvlpoLmnpxwcHTph4zpnaLmnInop4bpopEKICAgICAgICAgICAgICAgIGxldCBwcHRWaWRlbyA9ICQoJy52aWRlby1ib3gnKTsKICAgICAgICAgICAgICAgIGFsZXJ0TWVzc2FnZSgn5qOA5rWL5YiwcHB06YeM6Z2i5pyJ6KeG6aKR77yM5bCG57un57ut5pKt5pS+6KeG6aKRJyk7CiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBwdFZpZGVvLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgIGlmICgkKCcudmlkZW8tYm94JylbaV0uaW5uZXJUZXh0ICE9ICflt7LlrozmiJAnKSB7ICAgLy8g5Yik5pat6KeG6aKR5piv5ZCm5bey5pKt5pS+CiAgICAgICAgICAgICAgICAgICAgcHB0VmlkZW9baV0uY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICBhbGVydE1lc3NhZ2UoYOW8gOWni+aSreaUvu+8miR7Y2xhc3NOYW1lfemHjOmdoueahOesrCR7aSArIDF95Liq6KeG6aKRYCkKICAgICAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNwZWVkKCk7ICAvLyDliqDpgJ8KICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnh0X3ZpZGVvX3BsYXllcl9jb21tb25faWNvbicpLmNsaWNrKCk7ICAvLyDpnZnpn7MKICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgICAgICAgICAgICAgICAgfSwgMzAwMCkKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIGFsZXJ0TWVzc2FnZSgn5bey5byA5ZCv5LqM5YCN6YCf77yM5LiU6Ieq5Yqo6Z2Z6Z+zJyk7CiAgICAgICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgICAgIGxldCB0aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFsbFRpbWUgPSAkKCcueHRfdmlkZW9fcGxheWVyX2N1cnJlbnRfdGltZV9kaXNwbGF5JylbMF0uaW5uZXJUZXh0OwogICAgICAgICAgICAgICAgICAgICAgICBub3dUaW1lID0gYWxsVGltZS5zcGxpdCgnIC8gJylbMF07CiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsVGltZSA9IGFsbFRpbWUuc3BsaXQoJyAvICcpWzFdCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG5vd1RpbWUgKyB0b3RhbFRpbWUpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAobm93VGltZSA9PSB0b3RhbFRpbWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0sIDIwMCk7CiAgICAgICAgICAgICAgICAgICAgfSkgIC8vIOetieW+heinhumikee7k+adnwogICAgICAgICAgICAgICAgICB9IGVsc2UgeyAgLy8g6KeG6aKR5bey5a6M5oiQCiAgICAgICAgICAgICAgICAgICAgYWxlcnRNZXNzYWdlKGDmo4DmtYvliLAke2NsYXNzTmFtZX3ph4zpnaLnmoTnrKwke2kgKyAxfeS4quinhumikeW3sue7j+aSreaUvuWujOavlWApOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGFsZXJ0TWVzc2FnZShgJHtjbGFzc05hbWV9IOW3sue7j+aSreaUvuWujOavlWApCiAgICAgICAgICAgIH0gZWxzZSB7ICAvLyDor77ku7bkuLrop4bpopEKICAgICAgICAgICAgICAkKCcudmlkZW8tYm94JykuY2xpY2soKTsKICAgICAgICAgICAgICBhbGVydE1lc3NhZ2UoYOW8gOWni+aSreaUvuinhumike+8miR7Y2xhc3NOYW1lfWApOwogICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgc3BlZWQoKTsKICAgICAgICAgICAgICAgICAgJCgnLnh0X3ZpZGVvX3BsYXllcl9jb21tb25faWNvbicpLmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICAgICAgICAgIH0sIDMwMDApCiAgICAgICAgICAgICAgfSkgIC8vIDPnp5LlkI7liqDpgJ8s6Z2Z6Z+zCiAgICAgICAgICAgICAgYWxlcnRNZXNzYWdlKCflt7LlvIDlkK/kuozlgI3pgJ/vvIzkuJToh6rliqjpnZnpn7MnKTsKICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgbGV0IHRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBsZXQgYWxsVGltZSA9ICQoJy54dF92aWRlb19wbGF5ZXJfY3VycmVudF90aW1lX2Rpc3BsYXknKVswXS5pbm5lclRleHQ7CiAgICAgICAgICAgICAgICAgIG5vd1RpbWUgPSBhbGxUaW1lLnNwbGl0KCcgLyAnKVswXTsKICAgICAgICAgICAgICAgICAgdG90YWxUaW1lID0gYWxsVGltZS5zcGxpdCgnIC8gJylbMV0KICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cobm93VGltZSArIHRvdGFsVGltZSk7CiAgICAgICAgICAgICAgICAgIGlmIChub3dUaW1lID09IHRvdGFsVGltZSkgewogICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpOwogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwgMjAwKTsKICAgICAgICAgICAgICB9KSAgLy8g562J5b6F6KeG6aKR57uT5p2fCiAgICAgICAgICAgICAgYWxlcnRNZXNzYWdlKGAke2NsYXNzTmFtZX0g6KeG6aKR5pKt5pS+5a6M5q+VYCkKICAgICAgICAgICAgfQogICAgICAgICAgICBjb3VudCsrOwogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShiYXNlVXJsLCBjb3VudCk7CiAgICAgICAgICAgIHBsYXkgPSB0cnVlOwogICAgICAgICAgICBoaXN0b3J5LmJhY2soKTsKICAgICAgICAgICAgbWFpbigpOwogICAgICAgICAgfSkoKQogICAgICAgIH0gZWxzZSBpZiAoY291bnQgPT09IGxpc3QubGVuZ3RoICYmIHBsYXkgPT09IHRydWUpIHsgICAgICAgICAgICAvLyDnu5PmnZ8KICAgICAgICAgIGFsZXJ0TWVzc2FnZSgn6K++56iL5Yi35a6M5LqGJyk7CiAgICAgICAgICAkKCcjbl9idXR0b25pJykudGV4dCgn5Yi35a6M5LqGficpOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oYmFzZVVybCwgMCk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSBlbHNlIGlmICghKGNsYXNzSW5mby5pbmNsdWRlcygnc2hpcGluJykgfHwgY2xhc3NJbmZvLmluY2x1ZGVzKCdwaWxpYW5nJykgfHwgY2xhc3NJbmZvLmluY2x1ZGVzKCdrZWppYW4nKSkgJiYgcGxheSA9PT0gdHJ1ZSkgeyAvLyDop4bpopHvvIzmibnph4/vvIzor77ku7bpg73kuI3mmK/nmoTml7blgJnot7Pov4fvvIzmraTlpITlj6/ku6XkvJjljJYKICAgICAgICAgIGFsZXJ0TWVzc2FnZSgn56ysJyArIChjb3VudCArIDEpICsgJ+S4qu+8muS4jeaYr+inhumike+8jOW3sui3s+i/hycpOwogICAgICAgICAgY291bnQrKzsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGJhc2VVcmwsIGNvdW50KTsKICAgICAgICAgIG1haW4oKTsKICAgICAgICB9CiAgICAgIH0pCiAgICB9CiAgICAvLyDmoLnmja7op4bpopHpm4bmlbDvvIzoh6rliqjkuIvmi4nliLfmlrDpm4bmlbAKICAgIGFzeW5jIGZ1bmN0aW9uIGF1dG9TbGlkZShjb3VudCkgewogICAgICBsZXQgZnJlcXVlbmN5ID0gcGFyc2VJbnQoKGNvdW50ICsgMSkgLyAyMCkgKyAxOwogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZyZXF1ZW5jeTsgaSsrKSB7CiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy52aWV3Q29udGFpbmVyJykuc2Nyb2xsVG9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVsLXRhYi1wYW5lJykuc2Nyb2xsSGVpZ2h0OwogICAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICB9LCAxMDAwKQogICAgICAgIH0pCiAgICAgIH0KICAgIH0KICAgIG1haW4oKTsKICB9CiAgLy8geXVrZXRhbmcuY24vcHJvL2xtc+mhtemdoueahOWkhOeQhumAu+i+kQogIGZ1bmN0aW9uIHl1a2VyYW5nX3Byb19sbXMoKSB7CiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbl90eXBlJywgdHJ1ZSk7CiAgICBhbGVydE1lc3NhZ2UoJ+ato+WHhuWkh+aJk+W8gOaWsOagh+etvumhtS4uLicpOwogICAgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb19sbXNfY2xhc3NDb3VudCcpID8gbnVsbCA6IGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwcm9fbG1zX2NsYXNzQ291bnQnLCAxKTsgIC8vIOWIneWni+WMlumbhuaVsAogICAgbGV0IGNsYXNzQ291bnQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvX2xtc19jbGFzc0NvdW50JykgLSAxOwogICAgJCgnLmxlYWYtZGV0YWlsJylbY2xhc3NDb3VudF0uY2xpY2soKTsgIC8vIOi/m+WFpeesrOS4gOS4quivvueoi++8jOWQr+WKqOiEmuacrAogIH0KICAvLyDlhbbku5bkuI3lkIznsbvlnovnmoRET03pobXpnaLnmoTlpITnkIbpgLvovpHvvIzlvoXlrozlloQuLi4KfQoKZnVuY3Rpb24geXVrZXJhbmdfcHJvX2xtc19uZXcoKSB7CiAgZnVuY3Rpb24gYWxlcnRNZXNzYWdlKG1lc3NhZ2UpIHsKICAgICQoJy5uX2luZm9BbGVydCcpLmFwcGVuZChgPGxpPiR7bWVzc2FnZX08L2xpPmApOwogIH0KICBmdW5jdGlvbiBzcGVlZCgpIHsKICAgIGNvbnN0IHJhdGUgPSAyOwogICAgbGV0IGtleXQgPSAnJzsKICAgIGlmIChyYXRlID09PSAyIHx8IHJhdGUgPT09IDEpIHsKICAgICAga2V5dCA9ICJba2V5dD0nIiArIHJhdGUgKyAiLjAwJ10iCiAgICB9IGVsc2UgewogICAgICBrZXl0ID0gIltrZXl0PSciICsgcmF0ZSArICInXSIKICAgIH0KICAgIGZ1bmN0aW9uIGZ1bihjbGFzc05hbWUsIHNlbGVjdG9yKSB7CiAgICAgIHZhciBtb3VzZW1vdmUgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgiTW91c2VFdmVudCIpOwogICAgICBtb3VzZW1vdmUuaW5pdE1vdXNlRXZlbnQoIm1vdXNlbW92ZSIsIHRydWUsIHRydWUsIHVuc2FmZVdpbmRvdywgMCwgMTAsIDEwLCAxMCwgMTAsIDAsIDAsIDAsIDAsIDAsIG51bGwpOwogICAgICBjb25zb2xlLmxvZyhkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGNsYXNzTmFtZSlbMF0pOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGNsYXNzTmFtZSlbMF0uZGlzcGF0Y2hFdmVudChtb3VzZW1vdmUpOwogICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKS5jbGljaygpOwogICAgICBhbGVydE1lc3NhZ2UoJ+W3suW8gOWni+S4pOWAjemAn+aSreaUvicpOwogICAgfQogICAgZnVuKCd4dF92aWRlb19wbGF5ZXJfc3BlZWQnLCBrZXl0KQogIH0KICBmdW5jdGlvbiBjbGFpbSgpIHsKICAgICQoCiAgICAgICIjdmlkZW8tYm94ID4gZGl2ID4geHQtd3JhcCA+IHh0LWNvbnRyb2xzID4geHQtaW5uZXIgPiB4dC12b2x1bWVidXR0b24gPiB4dC1pY29uIgogICAgKS5jbGljaygpOwogICAgYWxlcnRNZXNzYWdlKCflt7LlvIDlkK/pnZnpn7MnKQogIH0KICBmdW5jdGlvbiBwbGF5T3V0KCkgewogICAgbGV0IG5vd1RpbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcueHRfdmlkZW9fcGxheWVyX2N1cnJlbnRfdGltZV9kaXNwbGF5JykuZmlyc3RFbGVtZW50Q2hpbGQuaW5uZXJUZXh0OwogICAgbGV0IHRvdGFsVGltZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy54dF92aWRlb19wbGF5ZXJfY3VycmVudF90aW1lX2Rpc3BsYXknKS5sYXN0RWxlbWVudENoaWxkLmlubmVyVGV4dDsKICAgIGlmIChub3dUaW1lID09IHRvdGFsVGltZSkgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9CiAgZnVuY3Rpb24gbmV4dENvdW50KGNsYXNzQ291bnQpIHsKICAgIGV2ZW50MSA9IG5ldyBFdmVudCgnbW91c2Vtb3ZlJywgeyBidWJibGVzOiB0cnVlIH0pOwogICAgZXZlbnQxLmNsaWVudFggPSA5OTk5OwogICAgZXZlbnQxLmNsaWVudFkgPSA5OTk5OwogICAgaWYgKCQoJy5idG4tbmV4dCcpWzBdKSB7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwcm9fbG1zX2NsYXNzQ291bnQnLCBjbGFzc0NvdW50KTsKICAgICAgJCgnLmJ0bi1uZXh0JylbMF0uZGlzcGF0Y2hFdmVudChldmVudDEpOwogICAgICAkKCcuYnRuLW5leHQnKVswXS5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY2xpY2snKSk7CiAgICAgIG1haW4oKTsKICAgIH0gZWxzZSB7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdwcm9fbG1zX2NsYXNzQ291bnQnKTsKICAgICAgYWxlcnRNZXNzYWdlKCfor77nqIvmkq3mlL7lrozmr5XkuoYnKTsKICAgIH0KICB9CiAgZnVuY3Rpb24gY29udHJvbGxTY3JvbGwoKSB7CiAgICBsZXQgc2Nyb2xsVGltZXI7CiAgICBzY3JvbGxUaW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5faW5mb0FsZXJ0JykubGFzdEVsZW1lbnRDaGlsZC5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAic21vb3RoIiwgYmxvY2s6ICJlbmQiLCBpbmxpbmU6ICJuZWFyZXN0IiB9KTsKICAgIH0sIDUwMCkKICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uX2luZm9BbGVydCcpLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCAoKSA9PiB7CiAgICAgIGNsZWFySW50ZXJ2YWwoc2Nyb2xsVGltZXIpOwogICAgICBjb25zb2xlLmxvZygnZW50ZXInKTsKICAgIH0pCiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubl9pbmZvQWxlcnQnKS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKCkgPT4gewogICAgICBzY3JvbGxUaW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubl9pbmZvQWxlcnQnKS5sYXN0RWxlbWVudENoaWxkLnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICJzbW9vdGgiLCBibG9jazogImVuZCIsIGlubGluZTogIm5lYXJlc3QiIH0pOwogICAgICB9LCA1MDApCiAgICAgIGNvbnNvbGUubG9nKCdsZWF2ZScpOwogICAgfSkKICB9CiAgYWxlcnRNZXNzYWdlKCflt7LlsLHnu6rvvIzlvIDlp4vliLfor77vvIzor7flsL3ph4/kv53mjIHpobXpnaLkuI3liqjjgIInKTsKICBsZXQgY2xhc3NDb3VudCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9fbG1zX2NsYXNzQ291bnQnKTsKICBjb250cm9sbFNjcm9sbCgpOwogIGFzeW5jIGZ1bmN0aW9uIG1haW4oKSB7CiAgICBhbGVydE1lc3NhZ2UoYOWHhuWkh+aSreaUvuesrCR7Y2xhc3NDb3VudH3pm4YuLi5gKTsKICAgIGF3YWl0IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIGxldCBjbGFzc05hbWUgPSAkKCcuaGVhZGVyLWJhcicpWzBdLmZpcnN0RWxlbWVudENoaWxkLmlubmVyVGV4dDsKICAgICAgICBsZXQgY2xhc3NUeXBlID0gJCgnLmhlYWRlci1iYXInKVswXS5maXJzdEVsZW1lbnRDaGlsZC5maXJzdEVsZW1lbnRDaGlsZC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJyk7CiAgICAgICAgbGV0IGNsYXNzU3RhdHVzID0gJCgnI2FwcCA+IGRpdi5hcHBfaW5kZXgtd3JhcHBlciA+IGRpdi53cmFwID4gZGl2LnZpZXdDb250YWluZXIuaGVpZ2h0QWJzb2x1dGVseSA+IGRpdiA+IGRpdiA+IGRpdiA+IGRpdiA+IHNlY3Rpb24udGl0bGUnKVswXT8ubGFzdEVsZW1lbnRDaGlsZD8uaW5uZXJUZXh0OwogICAgICAgIGlmIChjbGFzc1R5cGUuaW5jbHVkZXMoJ3R1d2VuJykgJiYgY2xhc3NTdGF0dXMgIT0gJ+W3suivuycpIHsKICAgICAgICAgIGFsZXJ0TWVzc2FnZShg5q2j5Zyo5bqf5a+d5b+Y6aOf5Zyw55yLOiR7Y2xhc3NOYW1lfeS4rS4uLmApOwogICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICAgIH0sIDIwMDApCiAgICAgICAgfSBlbHNlIGlmIChjbGFzc1R5cGUuaW5jbHVkZXMoJ3Rhb2x1bicpKSB7CiAgICAgICAgICBhbGVydE1lc3NhZ2UoYOWPquaYr+eci+eci++8jOebruWJjeayoeacieiHquWKqOWPkeihqOiuqOiuuuWKn+iDve+8jOasoui/juWPjemmiC4uLmApOwogICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICAgIH0sIDIwMDApCiAgICAgICAgfSBlbHNlIGlmIChjbGFzc1R5cGUuaW5jbHVkZXMoJ3NoaXBpbicpICYmICFjbGFzc1N0YXR1cy5pbmNsdWRlcygnMTAwJScpKSB7CiAgICAgICAgICBhbGVydE1lc3NhZ2UoYOato+WcqOaSreaUvu+8miR7Y2xhc3NOYW1lfWApOwogICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgIC8vIOebkea1i+inhumikeaSreaUvueKtuaAgQogICAgICAgICAgICBsZXQgdGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgICAgbGV0IHN0YXR1cyA9IHBsYXlPdXQoKTsKICAgICAgICAgICAgICBsZXQgY2xhc3NTdGF0dXMgPSAkKCcjYXBwID4gZGl2LmFwcF9pbmRleC13cmFwcGVyID4gZGl2LndyYXAgPiBkaXYudmlld0NvbnRhaW5lci5oZWlnaHRBYnNvbHV0ZWx5ID4gZGl2ID4gZGl2ID4gZGl2ID4gZGl2ID4gc2VjdGlvbi50aXRsZScpWzBdPy5sYXN0RWxlbWVudENoaWxkPy5pbm5lclRleHQ7CiAgICAgICAgICAgICAgaWYgKHN0YXR1cyB8fCBjbGFzc1N0YXR1cy5pbmNsdWRlcygnMTAwJScpIHx8IGNsYXNzU3RhdHVzLmluY2x1ZGVzKCc5OSUnKSB8fCBjbGFzc1N0YXR1cy5pbmNsdWRlcygnOTglJykpIHsKICAgICAgICAgICAgICAgIGFsZXJ0TWVzc2FnZShgJHtjbGFzc05hbWV95pKt5pS+5a6M5q+VLi4uYCk7CiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHBhdXNlVGltZXIpOwogICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7CiAgICAgICAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAyMDApCiAgICAgICAgICAgIC8vIOagueaNrnZpZGVv5piv5ZCm5Yqg6L295Ye65p2l5Yik5pat5Yqg6YCf5pe25py6CiAgICAgICAgICAgIGxldCBub3dUaW1lID0gRGF0ZS5ub3coKTsKICAgICAgICAgICAgbGV0IHZpZGVvVGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgICAgbGV0IHZpZGVvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigndmlkZW8nKTsKICAgICAgICAgICAgICBpZiAodmlkZW8pIHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyAgLy8g6Ziy5q2i6KeG6aKR5Yia5Yqg6L295Ye65p2l77yM5bCx5Yqg6YCf77yM5Ye6546w5peg5rOV6I635Y+W5Yiw5YWD57Sg5ZywYnVnCiAgICAgICAgICAgICAgICAgIHNwZWVkKCk7CiAgICAgICAgICAgICAgICAgIGNsYWltKCk7CiAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodmlkZW9UaW1lcik7CiAgICAgICAgICAgICAgICAgIHVuZXhwZWN0ZWRQYXVzZSgpOwogICAgICAgICAgICAgICAgfSwgMjAwMCkKICAgICAgICAgICAgICB9IGVsc2UgaWYgKCF2aWRlbyAmJiBEYXRlLm5vdygpIC0gbm93VGltZSA+IDIwMDAwKSB7ICAvLyDlpoLmnpwyMHPlhoXku43mnKrliqDovb3lh7p2aWRlbwogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ25fdHlwZScsIHRydWUpOwogICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAxMDAwKQogICAgICAgICAgICAvLyDpmLLmraLop4bpopHmhI/lpJbmmoLlgZwKICAgICAgICAgICAgbGV0IHBhdXNlVGltZXI7CiAgICAgICAgICAgIGZ1bmN0aW9uIHVuZXhwZWN0ZWRQYXVzZSgpIHsKICAgICAgICAgICAgICAvLyDliKTmlq3op4bpopHmmK/lkKbmhI/lpJbmmoLlgZwKICAgICAgICAgICAgICBwYXVzZVRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgICAgICAgbGV0IGFnb1RpbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcueHRfdmlkZW9fcGxheWVyX2N1cnJlbnRfdGltZV9kaXNwbGF5JykuZmlyc3RFbGVtZW50Q2hpbGQuaW5uZXJUZXh0OwogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgIGxldCBub3dUaW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnh0X3ZpZGVvX3BsYXllcl9jdXJyZW50X3RpbWVfZGlzcGxheScpLmZpcnN0RWxlbWVudENoaWxkLmlubmVyVGV4dDsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coKTsKICAgICAgICAgICAgICAgICAgaWYgKGFnb1RpbWUgPT0gbm93VGltZSkgeyAvLyDmhI/lpJbmmoLlgZwKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcueHRfdmlkZW9fYml0X3BsYXlfYnRuJykuY2xpY2soKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwgMzAwMCkKICAgICAgICAgICAgICB9LCAyMDAwKQogICAgICAgICAgICB9CiAgICAgICAgICB9LCAyMDAwKQogICAgICAgIH0gZWxzZSBpZiAoY2xhc3NUeXBlLmluY2x1ZGVzKCd6dW95ZScpKSB7CiAgICAgICAgICBhbGVydE1lc3NhZ2UoYOi/m+WFpe+8miR7Y2xhc3NOYW1lfe+8jOebruWJjeayoeacieiHquWKqOS9nOetlOWKn+iDve+8jOaVrOivt+acn+W+hS4uLmApOwogICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICAgIH0sIDIwMDApCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0TWVzc2FnZShg5oKo5bey57uP55yL6L+HJHtjbGFzc05hbWV9Li4uYCk7CiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgICAgfSwgMjAwMCkKICAgICAgICB9CiAgICAgIH0sIDIwMDApOwogICAgfSkKICAgIGFsZXJ0TWVzc2FnZShg56ysJHtjbGFzc0NvdW50fembhuaSreaUvuWujOS6hi4uLmApOwogICAgY2xhc3NDb3VudCsrOwogICAgbmV4dENvdW50KGNsYXNzQ291bnQpOwogIH0KICBtYWluKCk7Cn0KCi8vIOayueeMtOaJp+ihjOaWh+S7tgooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKICBhZGRXaW5kb3coKTsKICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ25fdHlwZScpID09PSAndHJ1ZScpIHsKICAgICQoJyNuX2J1dHRvbicpLnRleHQoJ+WIt+ivvuS4rX4nKTsKICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCduX3R5cGUnLCBmYWxzZSk7CiAgICB5dWtlcmFuZ19wcm9fbG1zX25ldygpOwogIH0KfSkoKTsKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgo=","requires":[{"meta":{"name":"jquery.js","url":"https://cdn.bootcdn.net/ajax/libs/jquery/3.7.1/jquery.js","ts":1696740304873,"mimetype":"text/javascript"},"source":"LyohCiAqIGpRdWVyeSBKYXZhU2NyaXB0IExpYnJhcnkgdjMuNy4xCiAqIGh0dHBzOi8vanF1ZXJ5LmNvbS8KICoKICogQ29weXJpZ2h0IE9wZW5KUyBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMKICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlCiAqIGh0dHBzOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiAqCiAqIERhdGU6IDIwMjMtMDgtMjhUMTM6MzdaCiAqLwooIGZ1bmN0aW9uKCBnbG9iYWwsIGZhY3RvcnkgKSB7CgoJInVzZSBzdHJpY3QiOwoKCWlmICggdHlwZW9mIG1vZHVsZSA9PT0gIm9iamVjdCIgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSAib2JqZWN0IiApIHsKCgkJLy8gRm9yIENvbW1vbkpTIGFuZCBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB3aGVyZSBhIHByb3BlciBgd2luZG93YAoJCS8vIGlzIHByZXNlbnQsIGV4ZWN1dGUgdGhlIGZhY3RvcnkgYW5kIGdldCBqUXVlcnkuCgkJLy8gRm9yIGVudmlyb25tZW50cyB0aGF0IGRvIG5vdCBoYXZlIGEgYHdpbmRvd2Agd2l0aCBhIGBkb2N1bWVudGAKCQkvLyAoc3VjaCBhcyBOb2RlLmpzKSwgZXhwb3NlIGEgZmFjdG9yeSBhcyBtb2R1bGUuZXhwb3J0cy4KCQkvLyBUaGlzIGFjY2VudHVhdGVzIHRoZSBuZWVkIGZvciB0aGUgY3JlYXRpb24gb2YgYSByZWFsIGB3aW5kb3dgLgoJCS8vIGUuZy4gdmFyIGpRdWVyeSA9IHJlcXVpcmUoImpxdWVyeSIpKHdpbmRvdyk7CgkJLy8gU2VlIHRpY2tldCB0cmFjLTE0NTQ5IGZvciBtb3JlIGluZm8uCgkJbW9kdWxlLmV4cG9ydHMgPSBnbG9iYWwuZG9jdW1lbnQgPwoJCQlmYWN0b3J5KCBnbG9iYWwsIHRydWUgKSA6CgkJCWZ1bmN0aW9uKCB3ICkgewoJCQkJaWYgKCAhdy5kb2N1bWVudCApIHsKCQkJCQl0aHJvdyBuZXcgRXJyb3IoICJqUXVlcnkgcmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50IiApOwoJCQkJfQoJCQkJcmV0dXJuIGZhY3RvcnkoIHcgKTsKCQkJfTsKCX0gZWxzZSB7CgkJZmFjdG9yeSggZ2xvYmFsICk7Cgl9CgovLyBQYXNzIHRoaXMgaWYgd2luZG93IGlzIG5vdCBkZWZpbmVkIHlldAp9ICkoIHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93IDogdGhpcywgZnVuY3Rpb24oIHdpbmRvdywgbm9HbG9iYWwgKSB7CgovLyBFZGdlIDw9IDEyIC0gMTMrLCBGaXJlZm94IDw9MTggLSA0NSssIElFIDEwIC0gMTEsIFNhZmFyaSA1LjEgLSA5KywgaU9TIDYgLSA5LjEKLy8gdGhyb3cgZXhjZXB0aW9ucyB3aGVuIG5vbi1zdHJpY3QgY29kZSAoZS5nLiwgQVNQLk5FVCA0LjUpIGFjY2Vzc2VzIHN0cmljdCBtb2RlCi8vIGFyZ3VtZW50cy5jYWxsZWUuY2FsbGVyICh0cmFjLTEzMzM1KS4gQnV0IGFzIG9mIGpRdWVyeSAzLjAgKDIwMTYpLCBzdHJpY3QgbW9kZSBzaG91bGQgYmUgY29tbW9uCi8vIGVub3VnaCB0aGF0IGFsbCBzdWNoIGF0dGVtcHRzIGFyZSBndWFyZGVkIGluIGEgdHJ5IGJsb2NrLgoidXNlIHN0cmljdCI7Cgp2YXIgYXJyID0gW107Cgp2YXIgZ2V0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7Cgp2YXIgc2xpY2UgPSBhcnIuc2xpY2U7Cgp2YXIgZmxhdCA9IGFyci5mbGF0ID8gZnVuY3Rpb24oIGFycmF5ICkgewoJcmV0dXJuIGFyci5mbGF0LmNhbGwoIGFycmF5ICk7Cn0gOiBmdW5jdGlvbiggYXJyYXkgKSB7CglyZXR1cm4gYXJyLmNvbmNhdC5hcHBseSggW10sIGFycmF5ICk7Cn07CgoKdmFyIHB1c2ggPSBhcnIucHVzaDsKCnZhciBpbmRleE9mID0gYXJyLmluZGV4T2Y7Cgp2YXIgY2xhc3MydHlwZSA9IHt9OwoKdmFyIHRvU3RyaW5nID0gY2xhc3MydHlwZS50b1N0cmluZzsKCnZhciBoYXNPd24gPSBjbGFzczJ0eXBlLmhhc093blByb3BlcnR5OwoKdmFyIGZuVG9TdHJpbmcgPSBoYXNPd24udG9TdHJpbmc7Cgp2YXIgT2JqZWN0RnVuY3Rpb25TdHJpbmcgPSBmblRvU3RyaW5nLmNhbGwoIE9iamVjdCApOwoKdmFyIHN1cHBvcnQgPSB7fTsKCnZhciBpc0Z1bmN0aW9uID0gZnVuY3Rpb24gaXNGdW5jdGlvbiggb2JqICkgewoKCQkvLyBTdXBwb3J0OiBDaHJvbWUgPD01NywgRmlyZWZveCA8PTUyCgkJLy8gSW4gc29tZSBicm93c2VycywgdHlwZW9mIHJldHVybnMgImZ1bmN0aW9uIiBmb3IgSFRNTCA8b2JqZWN0PiBlbGVtZW50cwoJCS8vIChpLmUuLCBgdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICJvYmplY3QiICkgPT09ICJmdW5jdGlvbiJgKS4KCQkvLyBXZSBkb24ndCB3YW50IHRvIGNsYXNzaWZ5ICphbnkqIERPTSBub2RlIGFzIGEgZnVuY3Rpb24uCgkJLy8gU3VwcG9ydDogUXRXZWIgPD0zLjguNSwgV2ViS2l0IDw9NTM0LjM0LCB3a2h0bWx0b3BkZiB0b29sIDw9MC4xMi41CgkJLy8gUGx1cyBmb3Igb2xkIFdlYktpdCwgdHlwZW9mIHJldHVybnMgImZ1bmN0aW9uIiBmb3IgSFRNTCBjb2xsZWN0aW9ucwoJCS8vIChlLmcuLCBgdHlwZW9mIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaXYiKSA9PT0gImZ1bmN0aW9uImApLiAoZ2gtNDc1NikKCQlyZXR1cm4gdHlwZW9mIG9iaiA9PT0gImZ1bmN0aW9uIiAmJiB0eXBlb2Ygb2JqLm5vZGVUeXBlICE9PSAibnVtYmVyIiAmJgoJCQl0eXBlb2Ygb2JqLml0ZW0gIT09ICJmdW5jdGlvbiI7Cgl9OwoKCnZhciBpc1dpbmRvdyA9IGZ1bmN0aW9uIGlzV2luZG93KCBvYmogKSB7CgkJcmV0dXJuIG9iaiAhPSBudWxsICYmIG9iaiA9PT0gb2JqLndpbmRvdzsKCX07CgoKdmFyIGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50OwoKCgoJdmFyIHByZXNlcnZlZFNjcmlwdEF0dHJpYnV0ZXMgPSB7CgkJdHlwZTogdHJ1ZSwKCQlzcmM6IHRydWUsCgkJbm9uY2U6IHRydWUsCgkJbm9Nb2R1bGU6IHRydWUKCX07CgoJZnVuY3Rpb24gRE9NRXZhbCggY29kZSwgbm9kZSwgZG9jICkgewoJCWRvYyA9IGRvYyB8fCBkb2N1bWVudDsKCgkJdmFyIGksIHZhbCwKCQkJc2NyaXB0ID0gZG9jLmNyZWF0ZUVsZW1lbnQoICJzY3JpcHQiICk7CgoJCXNjcmlwdC50ZXh0ID0gY29kZTsKCQlpZiAoIG5vZGUgKSB7CgkJCWZvciAoIGkgaW4gcHJlc2VydmVkU2NyaXB0QXR0cmlidXRlcyApIHsKCgkJCQkvLyBTdXBwb3J0OiBGaXJlZm94IDY0KywgRWRnZSAxOCsKCQkJCS8vIFNvbWUgYnJvd3NlcnMgZG9uJ3Qgc3VwcG9ydCB0aGUgIm5vbmNlIiBwcm9wZXJ0eSBvbiBzY3JpcHRzLgoJCQkJLy8gT24gdGhlIG90aGVyIGhhbmQsIGp1c3QgdXNpbmcgYGdldEF0dHJpYnV0ZWAgaXMgbm90IGVub3VnaCBhcwoJCQkJLy8gdGhlIGBub25jZWAgYXR0cmlidXRlIGlzIHJlc2V0IHRvIGFuIGVtcHR5IHN0cmluZyB3aGVuZXZlciBpdAoJCQkJLy8gYmVjb21lcyBicm93c2luZy1jb250ZXh0IGNvbm5lY3RlZC4KCQkJCS8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vd2hhdHdnL2h0bWwvaXNzdWVzLzIzNjkKCQkJCS8vIFNlZSBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyNub25jZS1hdHRyaWJ1dGVzCgkJCQkvLyBUaGUgYG5vZGUuZ2V0QXR0cmlidXRlYCBjaGVjayB3YXMgYWRkZWQgZm9yIHRoZSBzYWtlIG9mCgkJCQkvLyBgalF1ZXJ5Lmdsb2JhbEV2YWxgIHNvIHRoYXQgaXQgY2FuIGZha2UgYSBub25jZS1jb250YWluaW5nIG5vZGUKCQkJCS8vIHZpYSBhbiBvYmplY3QuCgkJCQl2YWwgPSBub2RlWyBpIF0gfHwgbm9kZS5nZXRBdHRyaWJ1dGUgJiYgbm9kZS5nZXRBdHRyaWJ1dGUoIGkgKTsKCQkJCWlmICggdmFsICkgewoJCQkJCXNjcmlwdC5zZXRBdHRyaWJ1dGUoIGksIHZhbCApOwoJCQkJfQoJCQl9CgkJfQoJCWRvYy5oZWFkLmFwcGVuZENoaWxkKCBzY3JpcHQgKS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBzY3JpcHQgKTsKCX0KCgpmdW5jdGlvbiB0b1R5cGUoIG9iaiApIHsKCWlmICggb2JqID09IG51bGwgKSB7CgkJcmV0dXJuIG9iaiArICIiOwoJfQoKCS8vIFN1cHBvcnQ6IEFuZHJvaWQgPD0yLjMgb25seSAoZnVuY3Rpb25pc2ggUmVnRXhwKQoJcmV0dXJuIHR5cGVvZiBvYmogPT09ICJvYmplY3QiIHx8IHR5cGVvZiBvYmogPT09ICJmdW5jdGlvbiIgPwoJCWNsYXNzMnR5cGVbIHRvU3RyaW5nLmNhbGwoIG9iaiApIF0gfHwgIm9iamVjdCIgOgoJCXR5cGVvZiBvYmo7Cn0KLyogZ2xvYmFsIFN5bWJvbCAqLwovLyBEZWZpbmluZyB0aGlzIGdsb2JhbCBpbiAuZXNsaW50cmMuanNvbiB3b3VsZCBjcmVhdGUgYSBkYW5nZXIgb2YgdXNpbmcgdGhlIGdsb2JhbAovLyB1bmd1YXJkZWQgaW4gYW5vdGhlciBwbGFjZSwgaXQgc2VlbXMgc2FmZXIgdG8gZGVmaW5lIGdsb2JhbCBvbmx5IGZvciB0aGlzIG1vZHVsZQoKCgp2YXIgdmVyc2lvbiA9ICIzLjcuMSIsCgoJcmh0bWxTdWZmaXggPSAvSFRNTCQvaSwKCgkvLyBEZWZpbmUgYSBsb2NhbCBjb3B5IG9mIGpRdWVyeQoJalF1ZXJ5ID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0ICkgewoKCQkvLyBUaGUgalF1ZXJ5IG9iamVjdCBpcyBhY3R1YWxseSBqdXN0IHRoZSBpbml0IGNvbnN0cnVjdG9yICdlbmhhbmNlZCcKCQkvLyBOZWVkIGluaXQgaWYgalF1ZXJ5IGlzIGNhbGxlZCAoanVzdCBhbGxvdyBlcnJvciB0byBiZSB0aHJvd24gaWYgbm90IGluY2x1ZGVkKQoJCXJldHVybiBuZXcgalF1ZXJ5LmZuLmluaXQoIHNlbGVjdG9yLCBjb250ZXh0ICk7Cgl9OwoKalF1ZXJ5LmZuID0galF1ZXJ5LnByb3RvdHlwZSA9IHsKCgkvLyBUaGUgY3VycmVudCB2ZXJzaW9uIG9mIGpRdWVyeSBiZWluZyB1c2VkCglqcXVlcnk6IHZlcnNpb24sCgoJY29uc3RydWN0b3I6IGpRdWVyeSwKCgkvLyBUaGUgZGVmYXVsdCBsZW5ndGggb2YgYSBqUXVlcnkgb2JqZWN0IGlzIDAKCWxlbmd0aDogMCwKCgl0b0FycmF5OiBmdW5jdGlvbigpIHsKCQlyZXR1cm4gc2xpY2UuY2FsbCggdGhpcyApOwoJfSwKCgkvLyBHZXQgdGhlIE50aCBlbGVtZW50IGluIHRoZSBtYXRjaGVkIGVsZW1lbnQgc2V0IE9SCgkvLyBHZXQgdGhlIHdob2xlIG1hdGNoZWQgZWxlbWVudCBzZXQgYXMgYSBjbGVhbiBhcnJheQoJZ2V0OiBmdW5jdGlvbiggbnVtICkgewoKCQkvLyBSZXR1cm4gYWxsIHRoZSBlbGVtZW50cyBpbiBhIGNsZWFuIGFycmF5CgkJaWYgKCBudW0gPT0gbnVsbCApIHsKCQkJcmV0dXJuIHNsaWNlLmNhbGwoIHRoaXMgKTsKCQl9CgoJCS8vIFJldHVybiBqdXN0IHRoZSBvbmUgZWxlbWVudCBmcm9tIHRoZSBzZXQKCQlyZXR1cm4gbnVtIDwgMCA/IHRoaXNbIG51bSArIHRoaXMubGVuZ3RoIF0gOiB0aGlzWyBudW0gXTsKCX0sCgoJLy8gVGFrZSBhbiBhcnJheSBvZiBlbGVtZW50cyBhbmQgcHVzaCBpdCBvbnRvIHRoZSBzdGFjawoJLy8gKHJldHVybmluZyB0aGUgbmV3IG1hdGNoZWQgZWxlbWVudCBzZXQpCglwdXNoU3RhY2s6IGZ1bmN0aW9uKCBlbGVtcyApIHsKCgkJLy8gQnVpbGQgYSBuZXcgalF1ZXJ5IG1hdGNoZWQgZWxlbWVudCBzZXQKCQl2YXIgcmV0ID0galF1ZXJ5Lm1lcmdlKCB0aGlzLmNvbnN0cnVjdG9yKCksIGVsZW1zICk7CgoJCS8vIEFkZCB0aGUgb2xkIG9iamVjdCBvbnRvIHRoZSBzdGFjayAoYXMgYSByZWZlcmVuY2UpCgkJcmV0LnByZXZPYmplY3QgPSB0aGlzOwoKCQkvLyBSZXR1cm4gdGhlIG5ld2x5LWZvcm1lZCBlbGVtZW50IHNldAoJCXJldHVybiByZXQ7Cgl9LAoKCS8vIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZXZlcnkgZWxlbWVudCBpbiB0aGUgbWF0Y2hlZCBzZXQuCgllYWNoOiBmdW5jdGlvbiggY2FsbGJhY2sgKSB7CgkJcmV0dXJuIGpRdWVyeS5lYWNoKCB0aGlzLCBjYWxsYmFjayApOwoJfSwKCgltYXA6IGZ1bmN0aW9uKCBjYWxsYmFjayApIHsKCQlyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGpRdWVyeS5tYXAoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCBpICkgewoJCQlyZXR1cm4gY2FsbGJhY2suY2FsbCggZWxlbSwgaSwgZWxlbSApOwoJCX0gKSApOwoJfSwKCglzbGljZTogZnVuY3Rpb24oKSB7CgkJcmV0dXJuIHRoaXMucHVzaFN0YWNrKCBzbGljZS5hcHBseSggdGhpcywgYXJndW1lbnRzICkgKTsKCX0sCgoJZmlyc3Q6IGZ1bmN0aW9uKCkgewoJCXJldHVybiB0aGlzLmVxKCAwICk7Cgl9LAoKCWxhc3Q6IGZ1bmN0aW9uKCkgewoJCXJldHVybiB0aGlzLmVxKCAtMSApOwoJfSwKCglldmVuOiBmdW5jdGlvbigpIHsKCQlyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGpRdWVyeS5ncmVwKCB0aGlzLCBmdW5jdGlvbiggX2VsZW0sIGkgKSB7CgkJCXJldHVybiAoIGkgKyAxICkgJSAyOwoJCX0gKSApOwoJfSwKCglvZGQ6IGZ1bmN0aW9uKCkgewoJCXJldHVybiB0aGlzLnB1c2hTdGFjayggalF1ZXJ5LmdyZXAoIHRoaXMsIGZ1bmN0aW9uKCBfZWxlbSwgaSApIHsKCQkJcmV0dXJuIGkgJSAyOwoJCX0gKSApOwoJfSwKCgllcTogZnVuY3Rpb24oIGkgKSB7CgkJdmFyIGxlbiA9IHRoaXMubGVuZ3RoLAoJCQlqID0gK2kgKyAoIGkgPCAwID8gbGVuIDogMCApOwoJCXJldHVybiB0aGlzLnB1c2hTdGFjayggaiA+PSAwICYmIGogPCBsZW4gPyBbIHRoaXNbIGogXSBdIDogW10gKTsKCX0sCgoJZW5kOiBmdW5jdGlvbigpIHsKCQlyZXR1cm4gdGhpcy5wcmV2T2JqZWN0IHx8IHRoaXMuY29uc3RydWN0b3IoKTsKCX0sCgoJLy8gRm9yIGludGVybmFsIHVzZSBvbmx5LgoJLy8gQmVoYXZlcyBsaWtlIGFuIEFycmF5J3MgbWV0aG9kLCBub3QgbGlrZSBhIGpRdWVyeSBtZXRob2QuCglwdXNoOiBwdXNoLAoJc29ydDogYXJyLnNvcnQsCglzcGxpY2U6IGFyci5zcGxpY2UKfTsKCmpRdWVyeS5leHRlbmQgPSBqUXVlcnkuZm4uZXh0ZW5kID0gZnVuY3Rpb24oKSB7Cgl2YXIgb3B0aW9ucywgbmFtZSwgc3JjLCBjb3B5LCBjb3B5SXNBcnJheSwgY2xvbmUsCgkJdGFyZ2V0ID0gYXJndW1lbnRzWyAwIF0gfHwge30sCgkJaSA9IDEsCgkJbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCwKCQlkZWVwID0gZmFsc2U7CgoJLy8gSGFuZGxlIGEgZGVlcCBjb3B5IHNpdHVhdGlvbgoJaWYgKCB0eXBlb2YgdGFyZ2V0ID09PSAiYm9vbGVhbiIgKSB7CgkJZGVlcCA9IHRhcmdldDsKCgkJLy8gU2tpcCB0aGUgYm9vbGVhbiBhbmQgdGhlIHRhcmdldAoJCXRhcmdldCA9IGFyZ3VtZW50c1sgaSBdIHx8IHt9OwoJCWkrKzsKCX0KCgkvLyBIYW5kbGUgY2FzZSB3aGVuIHRhcmdldCBpcyBhIHN0cmluZyBvciBzb21ldGhpbmcgKHBvc3NpYmxlIGluIGRlZXAgY29weSkKCWlmICggdHlwZW9mIHRhcmdldCAhPT0gIm9iamVjdCIgJiYgIWlzRnVuY3Rpb24oIHRhcmdldCApICkgewoJCXRhcmdldCA9IHt9OwoJfQoKCS8vIEV4dGVuZCBqUXVlcnkgaXRzZWxmIGlmIG9ubHkgb25lIGFyZ3VtZW50IGlzIHBhc3NlZAoJaWYgKCBpID09PSBsZW5ndGggKSB7CgkJdGFyZ2V0ID0gdGhpczsKCQlpLS07Cgl9CgoJZm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7CgoJCS8vIE9ubHkgZGVhbCB3aXRoIG5vbi1udWxsL3VuZGVmaW5lZCB2YWx1ZXMKCQlpZiAoICggb3B0aW9ucyA9IGFyZ3VtZW50c1sgaSBdICkgIT0gbnVsbCApIHsKCgkJCS8vIEV4dGVuZCB0aGUgYmFzZSBvYmplY3QKCQkJZm9yICggbmFtZSBpbiBvcHRpb25zICkgewoJCQkJY29weSA9IG9wdGlvbnNbIG5hbWUgXTsKCgkJCQkvLyBQcmV2ZW50IE9iamVjdC5wcm90b3R5cGUgcG9sbHV0aW9uCgkJCQkvLyBQcmV2ZW50IG5ldmVyLWVuZGluZyBsb29wCgkJCQlpZiAoIG5hbWUgPT09ICJfX3Byb3RvX18iIHx8IHRhcmdldCA9PT0gY29weSApIHsKCQkJCQljb250aW51ZTsKCQkJCX0KCgkJCQkvLyBSZWN1cnNlIGlmIHdlJ3JlIG1lcmdpbmcgcGxhaW4gb2JqZWN0cyBvciBhcnJheXMKCQkJCWlmICggZGVlcCAmJiBjb3B5ICYmICggalF1ZXJ5LmlzUGxhaW5PYmplY3QoIGNvcHkgKSB8fAoJCQkJCSggY29weUlzQXJyYXkgPSBBcnJheS5pc0FycmF5KCBjb3B5ICkgKSApICkgewoJCQkJCXNyYyA9IHRhcmdldFsgbmFtZSBdOwoKCQkJCQkvLyBFbnN1cmUgcHJvcGVyIHR5cGUgZm9yIHRoZSBzb3VyY2UgdmFsdWUKCQkJCQlpZiAoIGNvcHlJc0FycmF5ICYmICFBcnJheS5pc0FycmF5KCBzcmMgKSApIHsKCQkJCQkJY2xvbmUgPSBbXTsKCQkJCQl9IGVsc2UgaWYgKCAhY29weUlzQXJyYXkgJiYgIWpRdWVyeS5pc1BsYWluT2JqZWN0KCBzcmMgKSApIHsKCQkJCQkJY2xvbmUgPSB7fTsKCQkJCQl9IGVsc2UgewoJCQkJCQljbG9uZSA9IHNyYzsKCQkJCQl9CgkJCQkJY29weUlzQXJyYXkgPSBmYWxzZTsKCgkJCQkJLy8gTmV2ZXIgbW92ZSBvcmlnaW5hbCBvYmplY3RzLCBjbG9uZSB0aGVtCgkJCQkJdGFyZ2V0WyBuYW1lIF0gPSBqUXVlcnkuZXh0ZW5kKCBkZWVwLCBjbG9uZSwgY29weSApOwoKCQkJCS8vIERvbid0IGJyaW5nIGluIHVuZGVmaW5lZCB2YWx1ZXMKCQkJCX0gZWxzZSBpZiAoIGNvcHkgIT09IHVuZGVmaW5lZCApIHsKCQkJCQl0YXJnZXRbIG5hbWUgXSA9IGNvcHk7CgkJCQl9CgkJCX0KCQl9Cgl9CgoJLy8gUmV0dXJuIHRoZSBtb2RpZmllZCBvYmplY3QKCXJldHVybiB0YXJnZXQ7Cn07CgpqUXVlcnkuZXh0ZW5kKCB7CgoJLy8gVW5pcXVlIGZvciBlYWNoIGNvcHkgb2YgalF1ZXJ5IG9uIHRoZSBwYWdlCglleHBhbmRvOiAialF1ZXJ5IiArICggdmVyc2lvbiArIE1hdGgucmFuZG9tKCkgKS5yZXBsYWNlKCAvXEQvZywgIiIgKSwKCgkvLyBBc3N1bWUgalF1ZXJ5IGlzIHJlYWR5IHdpdGhvdXQgdGhlIHJlYWR5IG1vZHVsZQoJaXNSZWFkeTogdHJ1ZSwKCgllcnJvcjogZnVuY3Rpb24oIG1zZyApIHsKCQl0aHJvdyBuZXcgRXJyb3IoIG1zZyApOwoJfSwKCglub29wOiBmdW5jdGlvbigpIHt9LAoKCWlzUGxhaW5PYmplY3Q6IGZ1bmN0aW9uKCBvYmogKSB7CgkJdmFyIHByb3RvLCBDdG9yOwoKCQkvLyBEZXRlY3Qgb2J2aW91cyBuZWdhdGl2ZXMKCQkvLyBVc2UgdG9TdHJpbmcgaW5zdGVhZCBvZiBqUXVlcnkudHlwZSB0byBjYXRjaCBob3N0IG9iamVjdHMKCQlpZiAoICFvYmogfHwgdG9TdHJpbmcuY2FsbCggb2JqICkgIT09ICJbb2JqZWN0IE9iamVjdF0iICkgewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoKCQlwcm90byA9IGdldFByb3RvKCBvYmogKTsKCgkJLy8gT2JqZWN0cyB3aXRoIG5vIHByb3RvdHlwZSAoZS5nLiwgYE9iamVjdC5jcmVhdGUoIG51bGwgKWApIGFyZSBwbGFpbgoJCWlmICggIXByb3RvICkgewoJCQlyZXR1cm4gdHJ1ZTsKCQl9CgoJCS8vIE9iamVjdHMgd2l0aCBwcm90b3R5cGUgYXJlIHBsYWluIGlmZiB0aGV5IHdlcmUgY29uc3RydWN0ZWQgYnkgYSBnbG9iYWwgT2JqZWN0IGZ1bmN0aW9uCgkJQ3RvciA9IGhhc093bi5jYWxsKCBwcm90bywgImNvbnN0cnVjdG9yIiApICYmIHByb3RvLmNvbnN0cnVjdG9yOwoJCXJldHVybiB0eXBlb2YgQ3RvciA9PT0gImZ1bmN0aW9uIiAmJiBmblRvU3RyaW5nLmNhbGwoIEN0b3IgKSA9PT0gT2JqZWN0RnVuY3Rpb25TdHJpbmc7Cgl9LAoKCWlzRW1wdHlPYmplY3Q6IGZ1bmN0aW9uKCBvYmogKSB7CgkJdmFyIG5hbWU7CgoJCWZvciAoIG5hbWUgaW4gb2JqICkgewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCXJldHVybiB0cnVlOwoJfSwKCgkvLyBFdmFsdWF0ZXMgYSBzY3JpcHQgaW4gYSBwcm92aWRlZCBjb250ZXh0OyBmYWxscyBiYWNrIHRvIHRoZSBnbG9iYWwgb25lCgkvLyBpZiBub3Qgc3BlY2lmaWVkLgoJZ2xvYmFsRXZhbDogZnVuY3Rpb24oIGNvZGUsIG9wdGlvbnMsIGRvYyApIHsKCQlET01FdmFsKCBjb2RlLCB7IG5vbmNlOiBvcHRpb25zICYmIG9wdGlvbnMubm9uY2UgfSwgZG9jICk7Cgl9LAoKCWVhY2g6IGZ1bmN0aW9uKCBvYmosIGNhbGxiYWNrICkgewoJCXZhciBsZW5ndGgsIGkgPSAwOwoKCQlpZiAoIGlzQXJyYXlMaWtlKCBvYmogKSApIHsKCQkJbGVuZ3RoID0gb2JqLmxlbmd0aDsKCQkJZm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7CgkJCQlpZiAoIGNhbGxiYWNrLmNhbGwoIG9ialsgaSBdLCBpLCBvYmpbIGkgXSApID09PSBmYWxzZSApIHsKCQkJCQlicmVhazsKCQkJCX0KCQkJfQoJCX0gZWxzZSB7CgkJCWZvciAoIGkgaW4gb2JqICkgewoJCQkJaWYgKCBjYWxsYmFjay5jYWxsKCBvYmpbIGkgXSwgaSwgb2JqWyBpIF0gKSA9PT0gZmFsc2UgKSB7CgkJCQkJYnJlYWs7CgkJCQl9CgkJCX0KCQl9CgoJCXJldHVybiBvYmo7Cgl9LAoKCgkvLyBSZXRyaWV2ZSB0aGUgdGV4dCB2YWx1ZSBvZiBhbiBhcnJheSBvZiBET00gbm9kZXMKCXRleHQ6IGZ1bmN0aW9uKCBlbGVtICkgewoJCXZhciBub2RlLAoJCQlyZXQgPSAiIiwKCQkJaSA9IDAsCgkJCW5vZGVUeXBlID0gZWxlbS5ub2RlVHlwZTsKCgkJaWYgKCAhbm9kZVR5cGUgKSB7CgoJCQkvLyBJZiBubyBub2RlVHlwZSwgdGhpcyBpcyBleHBlY3RlZCB0byBiZSBhbiBhcnJheQoJCQl3aGlsZSAoICggbm9kZSA9IGVsZW1bIGkrKyBdICkgKSB7CgoJCQkJLy8gRG8gbm90IHRyYXZlcnNlIGNvbW1lbnQgbm9kZXMKCQkJCXJldCArPSBqUXVlcnkudGV4dCggbm9kZSApOwoJCQl9CgkJfQoJCWlmICggbm9kZVR5cGUgPT09IDEgfHwgbm9kZVR5cGUgPT09IDExICkgewoJCQlyZXR1cm4gZWxlbS50ZXh0Q29udGVudDsKCQl9CgkJaWYgKCBub2RlVHlwZSA9PT0gOSApIHsKCQkJcmV0dXJuIGVsZW0uZG9jdW1lbnRFbGVtZW50LnRleHRDb250ZW50OwoJCX0KCQlpZiAoIG5vZGVUeXBlID09PSAzIHx8IG5vZGVUeXBlID09PSA0ICkgewoJCQlyZXR1cm4gZWxlbS5ub2RlVmFsdWU7CgkJfQoKCQkvLyBEbyBub3QgaW5jbHVkZSBjb21tZW50IG9yIHByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb24gbm9kZXMKCgkJcmV0dXJuIHJldDsKCX0sCgoJLy8gcmVzdWx0cyBpcyBmb3IgaW50ZXJuYWwgdXNhZ2Ugb25seQoJbWFrZUFycmF5OiBmdW5jdGlvbiggYXJyLCByZXN1bHRzICkgewoJCXZhciByZXQgPSByZXN1bHRzIHx8IFtdOwoKCQlpZiAoIGFyciAhPSBudWxsICkgewoJCQlpZiAoIGlzQXJyYXlMaWtlKCBPYmplY3QoIGFyciApICkgKSB7CgkJCQlqUXVlcnkubWVyZ2UoIHJldCwKCQkJCQl0eXBlb2YgYXJyID09PSAic3RyaW5nIiA/CgkJCQkJCVsgYXJyIF0gOiBhcnIKCQkJCSk7CgkJCX0gZWxzZSB7CgkJCQlwdXNoLmNhbGwoIHJldCwgYXJyICk7CgkJCX0KCQl9CgoJCXJldHVybiByZXQ7Cgl9LAoKCWluQXJyYXk6IGZ1bmN0aW9uKCBlbGVtLCBhcnIsIGkgKSB7CgkJcmV0dXJuIGFyciA9PSBudWxsID8gLTEgOiBpbmRleE9mLmNhbGwoIGFyciwgZWxlbSwgaSApOwoJfSwKCglpc1hNTERvYzogZnVuY3Rpb24oIGVsZW0gKSB7CgkJdmFyIG5hbWVzcGFjZSA9IGVsZW0gJiYgZWxlbS5uYW1lc3BhY2VVUkksCgkJCWRvY0VsZW0gPSBlbGVtICYmICggZWxlbS5vd25lckRvY3VtZW50IHx8IGVsZW0gKS5kb2N1bWVudEVsZW1lbnQ7CgoJCS8vIEFzc3VtZSBIVE1MIHdoZW4gZG9jdW1lbnRFbGVtZW50IGRvZXNuJ3QgeWV0IGV4aXN0LCBzdWNoIGFzIGluc2lkZQoJCS8vIGRvY3VtZW50IGZyYWdtZW50cy4KCQlyZXR1cm4gIXJodG1sU3VmZml4LnRlc3QoIG5hbWVzcGFjZSB8fCBkb2NFbGVtICYmIGRvY0VsZW0ubm9kZU5hbWUgfHwgIkhUTUwiICk7Cgl9LAoKCS8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seQoJLy8gcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdAoJbWVyZ2U6IGZ1bmN0aW9uKCBmaXJzdCwgc2Vjb25kICkgewoJCXZhciBsZW4gPSArc2Vjb25kLmxlbmd0aCwKCQkJaiA9IDAsCgkJCWkgPSBmaXJzdC5sZW5ndGg7CgoJCWZvciAoIDsgaiA8IGxlbjsgaisrICkgewoJCQlmaXJzdFsgaSsrIF0gPSBzZWNvbmRbIGogXTsKCQl9CgoJCWZpcnN0Lmxlbmd0aCA9IGk7CgoJCXJldHVybiBmaXJzdDsKCX0sCgoJZ3JlcDogZnVuY3Rpb24oIGVsZW1zLCBjYWxsYmFjaywgaW52ZXJ0ICkgewoJCXZhciBjYWxsYmFja0ludmVyc2UsCgkJCW1hdGNoZXMgPSBbXSwKCQkJaSA9IDAsCgkJCWxlbmd0aCA9IGVsZW1zLmxlbmd0aCwKCQkJY2FsbGJhY2tFeHBlY3QgPSAhaW52ZXJ0OwoKCQkvLyBHbyB0aHJvdWdoIHRoZSBhcnJheSwgb25seSBzYXZpbmcgdGhlIGl0ZW1zCgkJLy8gdGhhdCBwYXNzIHRoZSB2YWxpZGF0b3IgZnVuY3Rpb24KCQlmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHsKCQkJY2FsbGJhY2tJbnZlcnNlID0gIWNhbGxiYWNrKCBlbGVtc1sgaSBdLCBpICk7CgkJCWlmICggY2FsbGJhY2tJbnZlcnNlICE9PSBjYWxsYmFja0V4cGVjdCApIHsKCQkJCW1hdGNoZXMucHVzaCggZWxlbXNbIGkgXSApOwoJCQl9CgkJfQoKCQlyZXR1cm4gbWF0Y2hlczsKCX0sCgoJLy8gYXJnIGlzIGZvciBpbnRlcm5hbCB1c2FnZSBvbmx5CgltYXA6IGZ1bmN0aW9uKCBlbGVtcywgY2FsbGJhY2ssIGFyZyApIHsKCQl2YXIgbGVuZ3RoLCB2YWx1ZSwKCQkJaSA9IDAsCgkJCXJldCA9IFtdOwoKCQkvLyBHbyB0aHJvdWdoIHRoZSBhcnJheSwgdHJhbnNsYXRpbmcgZWFjaCBvZiB0aGUgaXRlbXMgdG8gdGhlaXIgbmV3IHZhbHVlcwoJCWlmICggaXNBcnJheUxpa2UoIGVsZW1zICkgKSB7CgkJCWxlbmd0aCA9IGVsZW1zLmxlbmd0aDsKCQkJZm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7CgkJCQl2YWx1ZSA9IGNhbGxiYWNrKCBlbGVtc1sgaSBdLCBpLCBhcmcgKTsKCgkJCQlpZiAoIHZhbHVlICE9IG51bGwgKSB7CgkJCQkJcmV0LnB1c2goIHZhbHVlICk7CgkJCQl9CgkJCX0KCgkJLy8gR28gdGhyb3VnaCBldmVyeSBrZXkgb24gdGhlIG9iamVjdCwKCQl9IGVsc2UgewoJCQlmb3IgKCBpIGluIGVsZW1zICkgewoJCQkJdmFsdWUgPSBjYWxsYmFjayggZWxlbXNbIGkgXSwgaSwgYXJnICk7CgoJCQkJaWYgKCB2YWx1ZSAhPSBudWxsICkgewoJCQkJCXJldC5wdXNoKCB2YWx1ZSApOwoJCQkJfQoJCQl9CgkJfQoKCQkvLyBGbGF0dGVuIGFueSBuZXN0ZWQgYXJyYXlzCgkJcmV0dXJuIGZsYXQoIHJldCApOwoJfSwKCgkvLyBBIGdsb2JhbCBHVUlEIGNvdW50ZXIgZm9yIG9iamVjdHMKCWd1aWQ6IDEsCgoJLy8galF1ZXJ5LnN1cHBvcnQgaXMgbm90IHVzZWQgaW4gQ29yZSBidXQgb3RoZXIgcHJvamVjdHMgYXR0YWNoIHRoZWlyCgkvLyBwcm9wZXJ0aWVzIHRvIGl0IHNvIGl0IG5lZWRzIHRvIGV4aXN0LgoJc3VwcG9ydDogc3VwcG9ydAp9ICk7CgppZiAoIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgKSB7CglqUXVlcnkuZm5bIFN5bWJvbC5pdGVyYXRvciBdID0gYXJyWyBTeW1ib2wuaXRlcmF0b3IgXTsKfQoKLy8gUG9wdWxhdGUgdGhlIGNsYXNzMnR5cGUgbWFwCmpRdWVyeS5lYWNoKCAiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2wiLnNwbGl0KCAiICIgKSwKCWZ1bmN0aW9uKCBfaSwgbmFtZSApIHsKCQljbGFzczJ0eXBlWyAiW29iamVjdCAiICsgbmFtZSArICJdIiBdID0gbmFtZS50b0xvd2VyQ2FzZSgpOwoJfSApOwoKZnVuY3Rpb24gaXNBcnJheUxpa2UoIG9iaiApIHsKCgkvLyBTdXBwb3J0OiByZWFsIGlPUyA4LjIgb25seSAobm90IHJlcHJvZHVjaWJsZSBpbiBzaW11bGF0b3IpCgkvLyBgaW5gIGNoZWNrIHVzZWQgdG8gcHJldmVudCBKSVQgZXJyb3IgKGdoLTIxNDUpCgkvLyBoYXNPd24gaXNuJ3QgdXNlZCBoZXJlIGR1ZSB0byBmYWxzZSBuZWdhdGl2ZXMKCS8vIHJlZ2FyZGluZyBOb2RlbGlzdCBsZW5ndGggaW4gSUUKCXZhciBsZW5ndGggPSAhIW9iaiAmJiAibGVuZ3RoIiBpbiBvYmogJiYgb2JqLmxlbmd0aCwKCQl0eXBlID0gdG9UeXBlKCBvYmogKTsKCglpZiAoIGlzRnVuY3Rpb24oIG9iaiApIHx8IGlzV2luZG93KCBvYmogKSApIHsKCQlyZXR1cm4gZmFsc2U7Cgl9CgoJcmV0dXJuIHR5cGUgPT09ICJhcnJheSIgfHwgbGVuZ3RoID09PSAwIHx8CgkJdHlwZW9mIGxlbmd0aCA9PT0gIm51bWJlciIgJiYgbGVuZ3RoID4gMCAmJiAoIGxlbmd0aCAtIDEgKSBpbiBvYmo7Cn0KCgpmdW5jdGlvbiBub2RlTmFtZSggZWxlbSwgbmFtZSApIHsKCglyZXR1cm4gZWxlbS5ub2RlTmFtZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUudG9Mb3dlckNhc2UoKTsKCn0KdmFyIHBvcCA9IGFyci5wb3A7CgoKdmFyIHNvcnQgPSBhcnIuc29ydDsKCgp2YXIgc3BsaWNlID0gYXJyLnNwbGljZTsKCgp2YXIgd2hpdGVzcGFjZSA9ICJbXFx4MjBcXHRcXHJcXG5cXGZdIjsKCgp2YXIgcnRyaW1DU1MgPSBuZXcgUmVnRXhwKAoJIl4iICsgd2hpdGVzcGFjZSArICIrfCgoPzpefFteXFxcXF0pKD86XFxcXC4pKikiICsgd2hpdGVzcGFjZSArICIrJCIsCgkiZyIKKTsKCgoKCi8vIE5vdGU6IGFuIGVsZW1lbnQgZG9lcyBub3QgY29udGFpbiBpdHNlbGYKalF1ZXJ5LmNvbnRhaW5zID0gZnVuY3Rpb24oIGEsIGIgKSB7Cgl2YXIgYnVwID0gYiAmJiBiLnBhcmVudE5vZGU7CgoJcmV0dXJuIGEgPT09IGJ1cCB8fCAhISggYnVwICYmIGJ1cC5ub2RlVHlwZSA9PT0gMSAmJiAoCgoJCS8vIFN1cHBvcnQ6IElFIDkgLSAxMSsKCQkvLyBJRSBkb2Vzbid0IGhhdmUgYGNvbnRhaW5zYCBvbiBTVkcuCgkJYS5jb250YWlucyA/CgkJCWEuY29udGFpbnMoIGJ1cCApIDoKCQkJYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiAmJiBhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBidXAgKSAmIDE2CgkpICk7Cn07CgoKCgovLyBDU1Mgc3RyaW5nL2lkZW50aWZpZXIgc2VyaWFsaXphdGlvbgovLyBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3Nzb20vI2NvbW1vbi1zZXJpYWxpemluZy1pZGlvbXMKdmFyIHJjc3Nlc2NhcGUgPSAvKFtcMC1ceDFmXHg3Zl18Xi0/XGQpfF4tJHxbXlx4ODAtXHVGRkZGXHctXS9nOwoKZnVuY3Rpb24gZmNzc2VzY2FwZSggY2gsIGFzQ29kZVBvaW50ICkgewoJaWYgKCBhc0NvZGVQb2ludCApIHsKCgkJLy8gVSswMDAwIE5VTEwgYmVjb21lcyBVK0ZGRkQgUkVQTEFDRU1FTlQgQ0hBUkFDVEVSCgkJaWYgKCBjaCA9PT0gIlwwIiApIHsKCQkJcmV0dXJuICJcdUZGRkQiOwoJCX0KCgkJLy8gQ29udHJvbCBjaGFyYWN0ZXJzIGFuZCAoZGVwZW5kZW50IHVwb24gcG9zaXRpb24pIG51bWJlcnMgZ2V0IGVzY2FwZWQgYXMgY29kZSBwb2ludHMKCQlyZXR1cm4gY2guc2xpY2UoIDAsIC0xICkgKyAiXFwiICsgY2guY2hhckNvZGVBdCggY2gubGVuZ3RoIC0gMSApLnRvU3RyaW5nKCAxNiApICsgIiAiOwoJfQoKCS8vIE90aGVyIHBvdGVudGlhbGx5LXNwZWNpYWwgQVNDSUkgY2hhcmFjdGVycyBnZXQgYmFja3NsYXNoLWVzY2FwZWQKCXJldHVybiAiXFwiICsgY2g7Cn0KCmpRdWVyeS5lc2NhcGVTZWxlY3RvciA9IGZ1bmN0aW9uKCBzZWwgKSB7CglyZXR1cm4gKCBzZWwgKyAiIiApLnJlcGxhY2UoIHJjc3Nlc2NhcGUsIGZjc3Nlc2NhcGUgKTsKfTsKCgoKCnZhciBwcmVmZXJyZWREb2MgPSBkb2N1bWVudCwKCXB1c2hOYXRpdmUgPSBwdXNoOwoKKCBmdW5jdGlvbigpIHsKCnZhciBpLAoJRXhwciwKCW91dGVybW9zdENvbnRleHQsCglzb3J0SW5wdXQsCgloYXNEdXBsaWNhdGUsCglwdXNoID0gcHVzaE5hdGl2ZSwKCgkvLyBMb2NhbCBkb2N1bWVudCB2YXJzCglkb2N1bWVudCwKCWRvY3VtZW50RWxlbWVudCwKCWRvY3VtZW50SXNIVE1MLAoJcmJ1Z2d5UVNBLAoJbWF0Y2hlcywKCgkvLyBJbnN0YW5jZS1zcGVjaWZpYyBkYXRhCglleHBhbmRvID0galF1ZXJ5LmV4cGFuZG8sCglkaXJydW5zID0gMCwKCWRvbmUgPSAwLAoJY2xhc3NDYWNoZSA9IGNyZWF0ZUNhY2hlKCksCgl0b2tlbkNhY2hlID0gY3JlYXRlQ2FjaGUoKSwKCWNvbXBpbGVyQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLAoJbm9ubmF0aXZlU2VsZWN0b3JDYWNoZSA9IGNyZWF0ZUNhY2hlKCksCglzb3J0T3JkZXIgPSBmdW5jdGlvbiggYSwgYiApIHsKCQlpZiAoIGEgPT09IGIgKSB7CgkJCWhhc0R1cGxpY2F0ZSA9IHRydWU7CgkJfQoJCXJldHVybiAwOwoJfSwKCglib29sZWFucyA9ICJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8IiArCgkJImxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWQiLAoKCS8vIFJlZ3VsYXIgZXhwcmVzc2lvbnMKCgkvLyBodHRwczovL3d3dy53My5vcmcvVFIvY3NzLXN5bnRheC0zLyNpZGVudC10b2tlbi1kaWFncmFtCglpZGVudGlmaWVyID0gIig/OlxcXFxbXFxkYS1mQS1GXXsxLDZ9IiArIHdoaXRlc3BhY2UgKwoJCSI/fFxcXFxbXlxcclxcblxcZl18W1xcdy1dfFteXDAtXFx4N2ZdKSsiLAoKCS8vIEF0dHJpYnV0ZSBzZWxlY3RvcnM6IGh0dHBzOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2F0dHJpYnV0ZS1zZWxlY3RvcnMKCWF0dHJpYnV0ZXMgPSAiXFxbIiArIHdoaXRlc3BhY2UgKyAiKigiICsgaWRlbnRpZmllciArICIpKD86IiArIHdoaXRlc3BhY2UgKwoKCQkvLyBPcGVyYXRvciAoY2FwdHVyZSAyKQoJCSIqKFsqXiR8IX5dPz0pIiArIHdoaXRlc3BhY2UgKwoKCQkvLyAiQXR0cmlidXRlIHZhbHVlcyBtdXN0IGJlIENTUyBpZGVudGlmaWVycyBbY2FwdHVyZSA1XSBvciBzdHJpbmdzIFtjYXB0dXJlIDMgb3IgY2FwdHVyZSA0XSIKCQkiKig/OicoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwifCgiICsgaWRlbnRpZmllciArICIpKXwpIiArCgkJd2hpdGVzcGFjZSArICIqXFxdIiwKCglwc2V1ZG9zID0gIjooIiArIGlkZW50aWZpZXIgKyAiKSg/OlxcKCgiICsKCgkJLy8gVG8gcmVkdWNlIHRoZSBudW1iZXIgb2Ygc2VsZWN0b3JzIG5lZWRpbmcgdG9rZW5pemUgaW4gdGhlIHByZUZpbHRlciwgcHJlZmVyIGFyZ3VtZW50czoKCQkvLyAxLiBxdW90ZWQgKGNhcHR1cmUgMzsgY2FwdHVyZSA0IG9yIGNhcHR1cmUgNSkKCQkiKCcoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwiKXwiICsKCgkJLy8gMi4gc2ltcGxlIChjYXB0dXJlIDYpCgkJIigoPzpcXFxcLnxbXlxcXFwoKVtcXF1dfCIgKyBhdHRyaWJ1dGVzICsgIikqKXwiICsKCgkJLy8gMy4gYW55dGhpbmcgZWxzZSAoY2FwdHVyZSAyKQoJCSIuKiIgKwoJCSIpXFwpfCkiLAoKCS8vIExlYWRpbmcgYW5kIG5vbi1lc2NhcGVkIHRyYWlsaW5nIHdoaXRlc3BhY2UsIGNhcHR1cmluZyBzb21lIG5vbi13aGl0ZXNwYWNlIGNoYXJhY3RlcnMgcHJlY2VkaW5nIHRoZSBsYXR0ZXIKCXJ3aGl0ZXNwYWNlID0gbmV3IFJlZ0V4cCggd2hpdGVzcGFjZSArICIrIiwgImciICksCgoJcmNvbW1hID0gbmV3IFJlZ0V4cCggIl4iICsgd2hpdGVzcGFjZSArICIqLCIgKyB3aGl0ZXNwYWNlICsgIioiICksCglybGVhZGluZ0NvbWJpbmF0b3IgPSBuZXcgUmVnRXhwKCAiXiIgKyB3aGl0ZXNwYWNlICsgIiooWz4rfl18IiArIHdoaXRlc3BhY2UgKyAiKSIgKwoJCXdoaXRlc3BhY2UgKyAiKiIgKSwKCXJkZXNjZW5kID0gbmV3IFJlZ0V4cCggd2hpdGVzcGFjZSArICJ8PiIgKSwKCglycHNldWRvID0gbmV3IFJlZ0V4cCggcHNldWRvcyApLAoJcmlkZW50aWZpZXIgPSBuZXcgUmVnRXhwKCAiXiIgKyBpZGVudGlmaWVyICsgIiQiICksCgoJbWF0Y2hFeHByID0gewoJCUlEOiBuZXcgUmVnRXhwKCAiXiMoIiArIGlkZW50aWZpZXIgKyAiKSIgKSwKCQlDTEFTUzogbmV3IFJlZ0V4cCggIl5cXC4oIiArIGlkZW50aWZpZXIgKyAiKSIgKSwKCQlUQUc6IG5ldyBSZWdFeHAoICJeKCIgKyBpZGVudGlmaWVyICsgInxbKl0pIiApLAoJCUFUVFI6IG5ldyBSZWdFeHAoICJeIiArIGF0dHJpYnV0ZXMgKSwKCQlQU0VVRE86IG5ldyBSZWdFeHAoICJeIiArIHBzZXVkb3MgKSwKCQlDSElMRDogbmV3IFJlZ0V4cCgKCQkJIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcKCIgKwoJCQkJd2hpdGVzcGFjZSArICIqKGV2ZW58b2RkfCgoWystXXwpKFxcZCopbnwpIiArIHdoaXRlc3BhY2UgKyAiKig/OihbKy1dfCkiICsKCQkJCXdoaXRlc3BhY2UgKyAiKihcXGQrKXwpKSIgKyB3aGl0ZXNwYWNlICsgIipcXCl8KSIsICJpIiApLAoJCWJvb2w6IG5ldyBSZWdFeHAoICJeKD86IiArIGJvb2xlYW5zICsgIikkIiwgImkiICksCgoJCS8vIEZvciB1c2UgaW4gbGlicmFyaWVzIGltcGxlbWVudGluZyAuaXMoKQoJCS8vIFdlIHVzZSB0aGlzIGZvciBQT1MgbWF0Y2hpbmcgaW4gYHNlbGVjdGAKCQluZWVkc0NvbnRleHQ6IG5ldyBSZWdFeHAoICJeIiArIHdoaXRlc3BhY2UgKwoJCQkiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFwoIiArIHdoaXRlc3BhY2UgKwoJCQkiKigoPzotXFxkKT9cXGQqKSIgKyB3aGl0ZXNwYWNlICsgIipcXCl8KSg/PVteLV18JCkiLCAiaSIgKQoJfSwKCglyaW5wdXRzID0gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSwKCXJoZWFkZXIgPSAvXmhcZCQvaSwKCgkvLyBFYXNpbHktcGFyc2VhYmxlL3JldHJpZXZhYmxlIElEIG9yIFRBRyBvciBDTEFTUyBzZWxlY3RvcnMKCXJxdWlja0V4cHIgPSAvXig/OiMoW1x3LV0rKXwoXHcrKXxcLihbXHctXSspKSQvLAoKCXJzaWJsaW5nID0gL1srfl0vLAoKCS8vIENTUyBlc2NhcGVzCgkvLyBodHRwczovL3d3dy53My5vcmcvVFIvQ1NTMjEvc3luZGF0YS5odG1sI2VzY2FwZWQtY2hhcmFjdGVycwoJcnVuZXNjYXBlID0gbmV3IFJlZ0V4cCggIlxcXFxbXFxkYS1mQS1GXXsxLDZ9IiArIHdoaXRlc3BhY2UgKwoJCSI/fFxcXFwoW15cXHJcXG5cXGZdKSIsICJnIiApLAoJZnVuZXNjYXBlID0gZnVuY3Rpb24oIGVzY2FwZSwgbm9uSGV4ICkgewoJCXZhciBoaWdoID0gIjB4IiArIGVzY2FwZS5zbGljZSggMSApIC0gMHgxMDAwMDsKCgkJaWYgKCBub25IZXggKSB7CgoJCQkvLyBTdHJpcCB0aGUgYmFja3NsYXNoIHByZWZpeCBmcm9tIGEgbm9uLWhleCBlc2NhcGUgc2VxdWVuY2UKCQkJcmV0dXJuIG5vbkhleDsKCQl9CgoJCS8vIFJlcGxhY2UgYSBoZXhhZGVjaW1hbCBlc2NhcGUgc2VxdWVuY2Ugd2l0aCB0aGUgZW5jb2RlZCBVbmljb2RlIGNvZGUgcG9pbnQKCQkvLyBTdXBwb3J0OiBJRSA8PTExKwoJCS8vIEZvciB2YWx1ZXMgb3V0c2lkZSB0aGUgQmFzaWMgTXVsdGlsaW5ndWFsIFBsYW5lIChCTVApLCBtYW51YWxseSBjb25zdHJ1Y3QgYQoJCS8vIHN1cnJvZ2F0ZSBwYWlyCgkJcmV0dXJuIGhpZ2ggPCAwID8KCQkJU3RyaW5nLmZyb21DaGFyQ29kZSggaGlnaCArIDB4MTAwMDAgKSA6CgkJCVN0cmluZy5mcm9tQ2hhckNvZGUoIGhpZ2ggPj4gMTAgfCAweEQ4MDAsIGhpZ2ggJiAweDNGRiB8IDB4REMwMCApOwoJfSwKCgkvLyBVc2VkIGZvciBpZnJhbWVzOyBzZWUgYHNldERvY3VtZW50YC4KCS8vIFN1cHBvcnQ6IElFIDkgLSAxMSssIEVkZ2UgMTIgLSAxOCsKCS8vIFJlbW92aW5nIHRoZSBmdW5jdGlvbiB3cmFwcGVyIGNhdXNlcyBhICJQZXJtaXNzaW9uIERlbmllZCIKCS8vIGVycm9yIGluIElFL0VkZ2UuCgl1bmxvYWRIYW5kbGVyID0gZnVuY3Rpb24oKSB7CgkJc2V0RG9jdW1lbnQoKTsKCX0sCgoJaW5EaXNhYmxlZEZpZWxkc2V0ID0gYWRkQ29tYmluYXRvcigKCQlmdW5jdGlvbiggZWxlbSApIHsKCQkJcmV0dXJuIGVsZW0uZGlzYWJsZWQgPT09IHRydWUgJiYgbm9kZU5hbWUoIGVsZW0sICJmaWVsZHNldCIgKTsKCQl9LAoJCXsgZGlyOiAicGFyZW50Tm9kZSIsIG5leHQ6ICJsZWdlbmQiIH0KCSk7CgovLyBTdXBwb3J0OiBJRSA8PTkgb25seQovLyBBY2Nlc3NpbmcgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBjYW4gdGhyb3cgdW5leHBlY3RlZGx5Ci8vIGh0dHBzOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC8xMzM5MwpmdW5jdGlvbiBzYWZlQWN0aXZlRWxlbWVudCgpIHsKCXRyeSB7CgkJcmV0dXJuIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7Cgl9IGNhdGNoICggZXJyICkgeyB9Cn0KCi8vIE9wdGltaXplIGZvciBwdXNoLmFwcGx5KCBfLCBOb2RlTGlzdCApCnRyeSB7CglwdXNoLmFwcGx5KAoJCSggYXJyID0gc2xpY2UuY2FsbCggcHJlZmVycmVkRG9jLmNoaWxkTm9kZXMgKSApLAoJCXByZWZlcnJlZERvYy5jaGlsZE5vZGVzCgkpOwoKCS8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAKCS8vIERldGVjdCBzaWxlbnRseSBmYWlsaW5nIHB1c2guYXBwbHkKCS8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtZXhwcmVzc2lvbnMKCWFyclsgcHJlZmVycmVkRG9jLmNoaWxkTm9kZXMubGVuZ3RoIF0ubm9kZVR5cGU7Cn0gY2F0Y2ggKCBlICkgewoJcHVzaCA9IHsKCQlhcHBseTogZnVuY3Rpb24oIHRhcmdldCwgZWxzICkgewoJCQlwdXNoTmF0aXZlLmFwcGx5KCB0YXJnZXQsIHNsaWNlLmNhbGwoIGVscyApICk7CgkJfSwKCQljYWxsOiBmdW5jdGlvbiggdGFyZ2V0ICkgewoJCQlwdXNoTmF0aXZlLmFwcGx5KCB0YXJnZXQsIHNsaWNlLmNhbGwoIGFyZ3VtZW50cywgMSApICk7CgkJfQoJfTsKfQoKZnVuY3Rpb24gZmluZCggc2VsZWN0b3IsIGNvbnRleHQsIHJlc3VsdHMsIHNlZWQgKSB7Cgl2YXIgbSwgaSwgZWxlbSwgbmlkLCBtYXRjaCwgZ3JvdXBzLCBuZXdTZWxlY3RvciwKCQluZXdDb250ZXh0ID0gY29udGV4dCAmJiBjb250ZXh0Lm93bmVyRG9jdW1lbnQsCgoJCS8vIG5vZGVUeXBlIGRlZmF1bHRzIHRvIDksIHNpbmNlIGNvbnRleHQgZGVmYXVsdHMgdG8gZG9jdW1lbnQKCQlub2RlVHlwZSA9IGNvbnRleHQgPyBjb250ZXh0Lm5vZGVUeXBlIDogOTsKCglyZXN1bHRzID0gcmVzdWx0cyB8fCBbXTsKCgkvLyBSZXR1cm4gZWFybHkgZnJvbSBjYWxscyB3aXRoIGludmFsaWQgc2VsZWN0b3Igb3IgY29udGV4dAoJaWYgKCB0eXBlb2Ygc2VsZWN0b3IgIT09ICJzdHJpbmciIHx8ICFzZWxlY3RvciB8fAoJCW5vZGVUeXBlICE9PSAxICYmIG5vZGVUeXBlICE9PSA5ICYmIG5vZGVUeXBlICE9PSAxMSApIHsKCgkJcmV0dXJuIHJlc3VsdHM7Cgl9CgoJLy8gVHJ5IHRvIHNob3J0Y3V0IGZpbmQgb3BlcmF0aW9ucyAoYXMgb3Bwb3NlZCB0byBmaWx0ZXJzKSBpbiBIVE1MIGRvY3VtZW50cwoJaWYgKCAhc2VlZCApIHsKCQlzZXREb2N1bWVudCggY29udGV4dCApOwoJCWNvbnRleHQgPSBjb250ZXh0IHx8IGRvY3VtZW50OwoKCQlpZiAoIGRvY3VtZW50SXNIVE1MICkgewoKCQkJLy8gSWYgdGhlIHNlbGVjdG9yIGlzIHN1ZmZpY2llbnRseSBzaW1wbGUsIHRyeSB1c2luZyBhICJnZXQqQnkqIiBET00gbWV0aG9kCgkJCS8vIChleGNlcHRpbmcgRG9jdW1lbnRGcmFnbWVudCBjb250ZXh0LCB3aGVyZSB0aGUgbWV0aG9kcyBkb24ndCBleGlzdCkKCQkJaWYgKCBub2RlVHlwZSAhPT0gMTEgJiYgKCBtYXRjaCA9IHJxdWlja0V4cHIuZXhlYyggc2VsZWN0b3IgKSApICkgewoKCQkJCS8vIElEIHNlbGVjdG9yCgkJCQlpZiAoICggbSA9IG1hdGNoWyAxIF0gKSApIHsKCgkJCQkJLy8gRG9jdW1lbnQgY29udGV4dAoJCQkJCWlmICggbm9kZVR5cGUgPT09IDkgKSB7CgkJCQkJCWlmICggKCBlbGVtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZCggbSApICkgKSB7CgoJCQkJCQkJLy8gU3VwcG9ydDogSUUgOSBvbmx5CgkJCQkJCQkvLyBnZXRFbGVtZW50QnlJZCBjYW4gbWF0Y2ggZWxlbWVudHMgYnkgbmFtZSBpbnN0ZWFkIG9mIElECgkJCQkJCQlpZiAoIGVsZW0uaWQgPT09IG0gKSB7CgkJCQkJCQkJcHVzaC5jYWxsKCByZXN1bHRzLCBlbGVtICk7CgkJCQkJCQkJcmV0dXJuIHJlc3VsdHM7CgkJCQkJCQl9CgkJCQkJCX0gZWxzZSB7CgkJCQkJCQlyZXR1cm4gcmVzdWx0czsKCQkJCQkJfQoKCQkJCQkvLyBFbGVtZW50IGNvbnRleHQKCQkJCQl9IGVsc2UgewoKCQkJCQkJLy8gU3VwcG9ydDogSUUgOSBvbmx5CgkJCQkJCS8vIGdldEVsZW1lbnRCeUlkIGNhbiBtYXRjaCBlbGVtZW50cyBieSBuYW1lIGluc3RlYWQgb2YgSUQKCQkJCQkJaWYgKCBuZXdDb250ZXh0ICYmICggZWxlbSA9IG5ld0NvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIG0gKSApICYmCgkJCQkJCQlmaW5kLmNvbnRhaW5zKCBjb250ZXh0LCBlbGVtICkgJiYKCQkJCQkJCWVsZW0uaWQgPT09IG0gKSB7CgoJCQkJCQkJcHVzaC5jYWxsKCByZXN1bHRzLCBlbGVtICk7CgkJCQkJCQlyZXR1cm4gcmVzdWx0czsKCQkJCQkJfQoJCQkJCX0KCgkJCQkvLyBUeXBlIHNlbGVjdG9yCgkJCQl9IGVsc2UgaWYgKCBtYXRjaFsgMiBdICkgewoJCQkJCXB1c2guYXBwbHkoIHJlc3VsdHMsIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHNlbGVjdG9yICkgKTsKCQkJCQlyZXR1cm4gcmVzdWx0czsKCgkJCQkvLyBDbGFzcyBzZWxlY3RvcgoJCQkJfSBlbHNlIGlmICggKCBtID0gbWF0Y2hbIDMgXSApICYmIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSApIHsKCQkJCQlwdXNoLmFwcGx5KCByZXN1bHRzLCBjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIG0gKSApOwoJCQkJCXJldHVybiByZXN1bHRzOwoJCQkJfQoJCQl9CgoJCQkvLyBUYWtlIGFkdmFudGFnZSBvZiBxdWVyeVNlbGVjdG9yQWxsCgkJCWlmICggIW5vbm5hdGl2ZVNlbGVjdG9yQ2FjaGVbIHNlbGVjdG9yICsgIiAiIF0gJiYKCQkJCSggIXJidWdneVFTQSB8fCAhcmJ1Z2d5UVNBLnRlc3QoIHNlbGVjdG9yICkgKSApIHsKCgkJCQluZXdTZWxlY3RvciA9IHNlbGVjdG9yOwoJCQkJbmV3Q29udGV4dCA9IGNvbnRleHQ7CgoJCQkJLy8gcVNBIGNvbnNpZGVycyBlbGVtZW50cyBvdXRzaWRlIGEgc2NvcGluZyByb290IHdoZW4gZXZhbHVhdGluZyBjaGlsZCBvcgoJCQkJLy8gZGVzY2VuZGFudCBjb21iaW5hdG9ycywgd2hpY2ggaXMgbm90IHdoYXQgd2Ugd2FudC4KCQkJCS8vIEluIHN1Y2ggY2FzZXMsIHdlIHdvcmsgYXJvdW5kIHRoZSBiZWhhdmlvciBieSBwcmVmaXhpbmcgZXZlcnkgc2VsZWN0b3IgaW4gdGhlCgkJCQkvLyBsaXN0IHdpdGggYW4gSUQgc2VsZWN0b3IgcmVmZXJlbmNpbmcgdGhlIHNjb3BlIGNvbnRleHQuCgkJCQkvLyBUaGUgdGVjaG5pcXVlIGhhcyB0byBiZSB1c2VkIGFzIHdlbGwgd2hlbiBhIGxlYWRpbmcgY29tYmluYXRvciBpcyB1c2VkCgkJCQkvLyBhcyBzdWNoIHNlbGVjdG9ycyBhcmUgbm90IHJlY29nbml6ZWQgYnkgcXVlcnlTZWxlY3RvckFsbC4KCQkJCS8vIFRoYW5rcyB0byBBbmRyZXcgRHVwb250IGZvciB0aGlzIHRlY2huaXF1ZS4KCQkJCWlmICggbm9kZVR5cGUgPT09IDEgJiYKCQkJCQkoIHJkZXNjZW5kLnRlc3QoIHNlbGVjdG9yICkgfHwgcmxlYWRpbmdDb21iaW5hdG9yLnRlc3QoIHNlbGVjdG9yICkgKSApIHsKCgkJCQkJLy8gRXhwYW5kIGNvbnRleHQgZm9yIHNpYmxpbmcgc2VsZWN0b3JzCgkJCQkJbmV3Q29udGV4dCA9IHJzaWJsaW5nLnRlc3QoIHNlbGVjdG9yICkgJiYgdGVzdENvbnRleHQoIGNvbnRleHQucGFyZW50Tm9kZSApIHx8CgkJCQkJCWNvbnRleHQ7CgoJCQkJCS8vIFdlIGNhbiB1c2UgOnNjb3BlIGluc3RlYWQgb2YgdGhlIElEIGhhY2sgaWYgdGhlIGJyb3dzZXIKCQkJCQkvLyBzdXBwb3J0cyBpdCAmIGlmIHdlJ3JlIG5vdCBjaGFuZ2luZyB0aGUgY29udGV4dC4KCQkJCQkvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCsKCQkJCQkvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhICJQZXJtaXNzaW9uIGRlbmllZCIgZXJyb3Igd2hlbgoJCQkJCS8vIHN0cmljdC1jb21wYXJpbmcgdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLgoJCQkJCS8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXEKCQkJCQlpZiAoIG5ld0NvbnRleHQgIT0gY29udGV4dCB8fCAhc3VwcG9ydC5zY29wZSApIHsKCgkJCQkJCS8vIENhcHR1cmUgdGhlIGNvbnRleHQgSUQsIHNldHRpbmcgaXQgZmlyc3QgaWYgbmVjZXNzYXJ5CgkJCQkJCWlmICggKCBuaWQgPSBjb250ZXh0LmdldEF0dHJpYnV0ZSggImlkIiApICkgKSB7CgkJCQkJCQluaWQgPSBqUXVlcnkuZXNjYXBlU2VsZWN0b3IoIG5pZCApOwoJCQkJCQl9IGVsc2UgewoJCQkJCQkJY29udGV4dC5zZXRBdHRyaWJ1dGUoICJpZCIsICggbmlkID0gZXhwYW5kbyApICk7CgkJCQkJCX0KCQkJCQl9CgoJCQkJCS8vIFByZWZpeCBldmVyeSBzZWxlY3RvciBpbiB0aGUgbGlzdAoJCQkJCWdyb3VwcyA9IHRva2VuaXplKCBzZWxlY3RvciApOwoJCQkJCWkgPSBncm91cHMubGVuZ3RoOwoJCQkJCXdoaWxlICggaS0tICkgewoJCQkJCQlncm91cHNbIGkgXSA9ICggbmlkID8gIiMiICsgbmlkIDogIjpzY29wZSIgKSArICIgIiArCgkJCQkJCQl0b1NlbGVjdG9yKCBncm91cHNbIGkgXSApOwoJCQkJCX0KCQkJCQluZXdTZWxlY3RvciA9IGdyb3Vwcy5qb2luKCAiLCIgKTsKCQkJCX0KCgkJCQl0cnkgewoJCQkJCXB1c2guYXBwbHkoIHJlc3VsdHMsCgkJCQkJCW5ld0NvbnRleHQucXVlcnlTZWxlY3RvckFsbCggbmV3U2VsZWN0b3IgKQoJCQkJCSk7CgkJCQkJcmV0dXJuIHJlc3VsdHM7CgkJCQl9IGNhdGNoICggcXNhRXJyb3IgKSB7CgkJCQkJbm9ubmF0aXZlU2VsZWN0b3JDYWNoZSggc2VsZWN0b3IsIHRydWUgKTsKCQkJCX0gZmluYWxseSB7CgkJCQkJaWYgKCBuaWQgPT09IGV4cGFuZG8gKSB7CgkJCQkJCWNvbnRleHQucmVtb3ZlQXR0cmlidXRlKCAiaWQiICk7CgkJCQkJfQoJCQkJfQoJCQl9CgkJfQoJfQoKCS8vIEFsbCBvdGhlcnMKCXJldHVybiBzZWxlY3QoIHNlbGVjdG9yLnJlcGxhY2UoIHJ0cmltQ1NTLCAiJDEiICksIGNvbnRleHQsIHJlc3VsdHMsIHNlZWQgKTsKfQoKLyoqCiAqIENyZWF0ZSBrZXktdmFsdWUgY2FjaGVzIG9mIGxpbWl0ZWQgc2l6ZQogKiBAcmV0dXJucyB7ZnVuY3Rpb24oc3RyaW5nLCBvYmplY3QpfSBSZXR1cm5zIHRoZSBPYmplY3QgZGF0YSBhZnRlciBzdG9yaW5nIGl0IG9uIGl0c2VsZiB3aXRoCiAqCXByb3BlcnR5IG5hbWUgdGhlIChzcGFjZS1zdWZmaXhlZCkgc3RyaW5nIGFuZCAoaWYgdGhlIGNhY2hlIGlzIGxhcmdlciB0aGFuIEV4cHIuY2FjaGVMZW5ndGgpCiAqCWRlbGV0aW5nIHRoZSBvbGRlc3QgZW50cnkKICovCmZ1bmN0aW9uIGNyZWF0ZUNhY2hlKCkgewoJdmFyIGtleXMgPSBbXTsKCglmdW5jdGlvbiBjYWNoZSgga2V5LCB2YWx1ZSApIHsKCgkJLy8gVXNlIChrZXkgKyAiICIpIHRvIGF2b2lkIGNvbGxpc2lvbiB3aXRoIG5hdGl2ZSBwcm90b3R5cGUgcHJvcGVydGllcwoJCS8vIChzZWUgaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9zaXp6bGUvaXNzdWVzLzE1NykKCQlpZiAoIGtleXMucHVzaCgga2V5ICsgIiAiICkgPiBFeHByLmNhY2hlTGVuZ3RoICkgewoKCQkJLy8gT25seSBrZWVwIHRoZSBtb3N0IHJlY2VudCBlbnRyaWVzCgkJCWRlbGV0ZSBjYWNoZVsga2V5cy5zaGlmdCgpIF07CgkJfQoJCXJldHVybiAoIGNhY2hlWyBrZXkgKyAiICIgXSA9IHZhbHVlICk7Cgl9CglyZXR1cm4gY2FjaGU7Cn0KCi8qKgogKiBNYXJrIGEgZnVuY3Rpb24gZm9yIHNwZWNpYWwgdXNlIGJ5IGpRdWVyeSBzZWxlY3RvciBtb2R1bGUKICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIG1hcmsKICovCmZ1bmN0aW9uIG1hcmtGdW5jdGlvbiggZm4gKSB7CglmblsgZXhwYW5kbyBdID0gdHJ1ZTsKCXJldHVybiBmbjsKfQoKLyoqCiAqIFN1cHBvcnQgdGVzdGluZyB1c2luZyBhbiBlbGVtZW50CiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFBhc3NlZCB0aGUgY3JlYXRlZCBlbGVtZW50IGFuZCByZXR1cm5zIGEgYm9vbGVhbiByZXN1bHQKICovCmZ1bmN0aW9uIGFzc2VydCggZm4gKSB7Cgl2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAiZmllbGRzZXQiICk7CgoJdHJ5IHsKCQlyZXR1cm4gISFmbiggZWwgKTsKCX0gY2F0Y2ggKCBlICkgewoJCXJldHVybiBmYWxzZTsKCX0gZmluYWxseSB7CgoJCS8vIFJlbW92ZSBmcm9tIGl0cyBwYXJlbnQgYnkgZGVmYXVsdAoJCWlmICggZWwucGFyZW50Tm9kZSApIHsKCQkJZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggZWwgKTsKCQl9CgoJCS8vIHJlbGVhc2UgbWVtb3J5IGluIElFCgkJZWwgPSBudWxsOwoJfQp9CgovKioKICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciBpbnB1dCB0eXBlcwogKiBAcGFyYW0ge1N0cmluZ30gdHlwZQogKi8KZnVuY3Rpb24gY3JlYXRlSW5wdXRQc2V1ZG8oIHR5cGUgKSB7CglyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7CgkJcmV0dXJuIG5vZGVOYW1lKCBlbGVtLCAiaW5wdXQiICkgJiYgZWxlbS50eXBlID09PSB0eXBlOwoJfTsKfQoKLyoqCiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgYnV0dG9ucwogKiBAcGFyYW0ge1N0cmluZ30gdHlwZQogKi8KZnVuY3Rpb24gY3JlYXRlQnV0dG9uUHNldWRvKCB0eXBlICkgewoJcmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkgewoJCXJldHVybiAoIG5vZGVOYW1lKCBlbGVtLCAiaW5wdXQiICkgfHwgbm9kZU5hbWUoIGVsZW0sICJidXR0b24iICkgKSAmJgoJCQllbGVtLnR5cGUgPT09IHR5cGU7Cgl9Owp9CgovKioKICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciA6ZW5hYmxlZC86ZGlzYWJsZWQKICogQHBhcmFtIHtCb29sZWFufSBkaXNhYmxlZCB0cnVlIGZvciA6ZGlzYWJsZWQ7IGZhbHNlIGZvciA6ZW5hYmxlZAogKi8KZnVuY3Rpb24gY3JlYXRlRGlzYWJsZWRQc2V1ZG8oIGRpc2FibGVkICkgewoKCS8vIEtub3duIDpkaXNhYmxlZCBmYWxzZSBwb3NpdGl2ZXM6IGZpZWxkc2V0W2Rpc2FibGVkXSA+IGxlZ2VuZDpudGgtb2YtdHlwZShuKzIpIDpjYW4tZGlzYWJsZQoJcmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkgewoKCQkvLyBPbmx5IGNlcnRhaW4gZWxlbWVudHMgY2FuIG1hdGNoIDplbmFibGVkIG9yIDpkaXNhYmxlZAoJCS8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3NjcmlwdGluZy5odG1sI3NlbGVjdG9yLWVuYWJsZWQKCQkvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zY3JpcHRpbmcuaHRtbCNzZWxlY3Rvci1kaXNhYmxlZAoJCWlmICggImZvcm0iIGluIGVsZW0gKSB7CgoJCQkvLyBDaGVjayBmb3IgaW5oZXJpdGVkIGRpc2FibGVkbmVzcyBvbiByZWxldmFudCBub24tZGlzYWJsZWQgZWxlbWVudHM6CgkJCS8vICogbGlzdGVkIGZvcm0tYXNzb2NpYXRlZCBlbGVtZW50cyBpbiBhIGRpc2FibGVkIGZpZWxkc2V0CgkJCS8vICAgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZm9ybXMuaHRtbCNjYXRlZ29yeS1saXN0ZWQKCQkJLy8gICBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9mb3Jtcy5odG1sI2NvbmNlcHQtZmUtZGlzYWJsZWQKCQkJLy8gKiBvcHRpb24gZWxlbWVudHMgaW4gYSBkaXNhYmxlZCBvcHRncm91cAoJCQkvLyAgIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2Zvcm1zLmh0bWwjY29uY2VwdC1vcHRpb24tZGlzYWJsZWQKCQkJLy8gQWxsIHN1Y2ggZWxlbWVudHMgaGF2ZSBhICJmb3JtIiBwcm9wZXJ0eS4KCQkJaWYgKCBlbGVtLnBhcmVudE5vZGUgJiYgZWxlbS5kaXNhYmxlZCA9PT0gZmFsc2UgKSB7CgoJCQkJLy8gT3B0aW9uIGVsZW1lbnRzIGRlZmVyIHRvIGEgcGFyZW50IG9wdGdyb3VwIGlmIHByZXNlbnQKCQkJCWlmICggImxhYmVsIiBpbiBlbGVtICkgewoJCQkJCWlmICggImxhYmVsIiBpbiBlbGVtLnBhcmVudE5vZGUgKSB7CgkJCQkJCXJldHVybiBlbGVtLnBhcmVudE5vZGUuZGlzYWJsZWQgPT09IGRpc2FibGVkOwoJCQkJCX0gZWxzZSB7CgkJCQkJCXJldHVybiBlbGVtLmRpc2FibGVkID09PSBkaXNhYmxlZDsKCQkJCQl9CgkJCQl9CgoJCQkJLy8gU3VwcG9ydDogSUUgNiAtIDExKwoJCQkJLy8gVXNlIHRoZSBpc0Rpc2FibGVkIHNob3J0Y3V0IHByb3BlcnR5IHRvIGNoZWNrIGZvciBkaXNhYmxlZCBmaWVsZHNldCBhbmNlc3RvcnMKCQkJCXJldHVybiBlbGVtLmlzRGlzYWJsZWQgPT09IGRpc2FibGVkIHx8CgoJCQkJCS8vIFdoZXJlIHRoZXJlIGlzIG5vIGlzRGlzYWJsZWQsIGNoZWNrIG1hbnVhbGx5CgkJCQkJZWxlbS5pc0Rpc2FibGVkICE9PSAhZGlzYWJsZWQgJiYKCQkJCQkJaW5EaXNhYmxlZEZpZWxkc2V0KCBlbGVtICkgPT09IGRpc2FibGVkOwoJCQl9CgoJCQlyZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gZGlzYWJsZWQ7CgoJCS8vIFRyeSB0byB3aW5ub3cgb3V0IGVsZW1lbnRzIHRoYXQgY2FuJ3QgYmUgZGlzYWJsZWQgYmVmb3JlIHRydXN0aW5nIHRoZSBkaXNhYmxlZCBwcm9wZXJ0eS4KCQkvLyBTb21lIHZpY3RpbXMgZ2V0IGNhdWdodCBpbiBvdXIgbmV0IChsYWJlbCwgbGVnZW5kLCBtZW51LCB0cmFjayksIGJ1dCBpdCBzaG91bGRuJ3QKCQkvLyBldmVuIGV4aXN0IG9uIHRoZW0sIGxldCBhbG9uZSBoYXZlIGEgYm9vbGVhbiB2YWx1ZS4KCQl9IGVsc2UgaWYgKCAibGFiZWwiIGluIGVsZW0gKSB7CgkJCXJldHVybiBlbGVtLmRpc2FibGVkID09PSBkaXNhYmxlZDsKCQl9CgoJCS8vIFJlbWFpbmluZyBlbGVtZW50cyBhcmUgbmVpdGhlciA6ZW5hYmxlZCBub3IgOmRpc2FibGVkCgkJcmV0dXJuIGZhbHNlOwoJfTsKfQoKLyoqCiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgcG9zaXRpb25hbHMKICogQHBhcmFtIHtGdW5jdGlvbn0gZm4KICovCmZ1bmN0aW9uIGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oIGZuICkgewoJcmV0dXJuIG1hcmtGdW5jdGlvbiggZnVuY3Rpb24oIGFyZ3VtZW50ICkgewoJCWFyZ3VtZW50ID0gK2FyZ3VtZW50OwoJCXJldHVybiBtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzICkgewoJCQl2YXIgaiwKCQkJCW1hdGNoSW5kZXhlcyA9IGZuKCBbXSwgc2VlZC5sZW5ndGgsIGFyZ3VtZW50ICksCgkJCQlpID0gbWF0Y2hJbmRleGVzLmxlbmd0aDsKCgkJCS8vIE1hdGNoIGVsZW1lbnRzIGZvdW5kIGF0IHRoZSBzcGVjaWZpZWQgaW5kZXhlcwoJCQl3aGlsZSAoIGktLSApIHsKCQkJCWlmICggc2VlZFsgKCBqID0gbWF0Y2hJbmRleGVzWyBpIF0gKSBdICkgewoJCQkJCXNlZWRbIGogXSA9ICEoIG1hdGNoZXNbIGogXSA9IHNlZWRbIGogXSApOwoJCQkJfQoJCQl9CgkJfSApOwoJfSApOwp9CgovKioKICogQ2hlY2tzIGEgbm9kZSBmb3IgdmFsaWRpdHkgYXMgYSBqUXVlcnkgc2VsZWN0b3IgY29udGV4dAogKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0PX0gY29udGV4dAogKiBAcmV0dXJucyB7RWxlbWVudHxPYmplY3R8Qm9vbGVhbn0gVGhlIGlucHV0IG5vZGUgaWYgYWNjZXB0YWJsZSwgb3RoZXJ3aXNlIGEgZmFsc3kgdmFsdWUKICovCmZ1bmN0aW9uIHRlc3RDb250ZXh0KCBjb250ZXh0ICkgewoJcmV0dXJuIGNvbnRleHQgJiYgdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09ICJ1bmRlZmluZWQiICYmIGNvbnRleHQ7Cn0KCi8qKgogKiBTZXRzIGRvY3VtZW50LXJlbGF0ZWQgdmFyaWFibGVzIG9uY2UgYmFzZWQgb24gdGhlIGN1cnJlbnQgZG9jdW1lbnQKICogQHBhcmFtIHtFbGVtZW50fE9iamVjdH0gW25vZGVdIEFuIGVsZW1lbnQgb3IgZG9jdW1lbnQgb2JqZWN0IHRvIHVzZSB0byBzZXQgdGhlIGRvY3VtZW50CiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGN1cnJlbnQgZG9jdW1lbnQKICovCmZ1bmN0aW9uIHNldERvY3VtZW50KCBub2RlICkgewoJdmFyIHN1YldpbmRvdywKCQlkb2MgPSBub2RlID8gbm9kZS5vd25lckRvY3VtZW50IHx8IG5vZGUgOiBwcmVmZXJyZWREb2M7CgoJLy8gUmV0dXJuIGVhcmx5IGlmIGRvYyBpcyBpbnZhbGlkIG9yIGFscmVhZHkgc2VsZWN0ZWQKCS8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4KwoJLy8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSAiUGVybWlzc2lvbiBkZW5pZWQiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZwoJLy8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLgoJLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcQoJaWYgKCBkb2MgPT0gZG9jdW1lbnQgfHwgZG9jLm5vZGVUeXBlICE9PSA5IHx8ICFkb2MuZG9jdW1lbnRFbGVtZW50ICkgewoJCXJldHVybiBkb2N1bWVudDsKCX0KCgkvLyBVcGRhdGUgZ2xvYmFsIHZhcmlhYmxlcwoJZG9jdW1lbnQgPSBkb2M7Cglkb2N1bWVudEVsZW1lbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7Cglkb2N1bWVudElzSFRNTCA9ICFqUXVlcnkuaXNYTUxEb2MoIGRvY3VtZW50ICk7CgoJLy8gU3VwcG9ydDogaU9TIDcgb25seSwgSUUgOSAtIDExKwoJLy8gT2xkZXIgYnJvd3NlcnMgZGlkbid0IHN1cHBvcnQgdW5wcmVmaXhlZCBgbWF0Y2hlc2AuCgltYXRjaGVzID0gZG9jdW1lbnRFbGVtZW50Lm1hdGNoZXMgfHwKCQlkb2N1bWVudEVsZW1lbnQud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8CgkJZG9jdW1lbnRFbGVtZW50Lm1zTWF0Y2hlc1NlbGVjdG9yOwoKCS8vIFN1cHBvcnQ6IElFIDkgLSAxMSssIEVkZ2UgMTIgLSAxOCsKCS8vIEFjY2Vzc2luZyBpZnJhbWUgZG9jdW1lbnRzIGFmdGVyIHVubG9hZCB0aHJvd3MgInBlcm1pc3Npb24gZGVuaWVkIiBlcnJvcnMKCS8vIChzZWUgdHJhYy0xMzkzNikuCgkvLyBMaW1pdCB0aGUgZml4IHRvIElFICYgRWRnZSBMZWdhY3k7IGRlc3BpdGUgRWRnZSAxNSsgaW1wbGVtZW50aW5nIGBtYXRjaGVzYCwKCS8vIGFsbCBJRSA5KyBhbmQgRWRnZSBMZWdhY3kgdmVyc2lvbnMgaW1wbGVtZW50IGBtc01hdGNoZXNTZWxlY3RvcmAgYXMgd2VsbC4KCWlmICggZG9jdW1lbnRFbGVtZW50Lm1zTWF0Y2hlc1NlbGVjdG9yICYmCgoJCS8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4KwoJCS8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgIlBlcm1pc3Npb24gZGVuaWVkIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmcKCQkvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuCgkJLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcQoJCXByZWZlcnJlZERvYyAhPSBkb2N1bWVudCAmJgoJCSggc3ViV2luZG93ID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcgKSAmJiBzdWJXaW5kb3cudG9wICE9PSBzdWJXaW5kb3cgKSB7CgoJCS8vIFN1cHBvcnQ6IElFIDkgLSAxMSssIEVkZ2UgMTIgLSAxOCsKCQlzdWJXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggInVubG9hZCIsIHVubG9hZEhhbmRsZXIgKTsKCX0KCgkvLyBTdXBwb3J0OiBJRSA8MTAKCS8vIENoZWNrIGlmIGdldEVsZW1lbnRCeUlkIHJldHVybnMgZWxlbWVudHMgYnkgbmFtZQoJLy8gVGhlIGJyb2tlbiBnZXRFbGVtZW50QnlJZCBtZXRob2RzIGRvbid0IHBpY2sgdXAgcHJvZ3JhbW1hdGljYWxseS1zZXQgbmFtZXMsCgkvLyBzbyB1c2UgYSByb3VuZGFib3V0IGdldEVsZW1lbnRzQnlOYW1lIHRlc3QKCXN1cHBvcnQuZ2V0QnlJZCA9IGFzc2VydCggZnVuY3Rpb24oIGVsICkgewoJCWRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZCggZWwgKS5pZCA9IGpRdWVyeS5leHBhbmRvOwoJCXJldHVybiAhZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUgfHwKCQkJIWRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCBqUXVlcnkuZXhwYW5kbyApLmxlbmd0aDsKCX0gKTsKCgkvLyBTdXBwb3J0OiBJRSA5IG9ubHkKCS8vIENoZWNrIHRvIHNlZSBpZiBpdCdzIHBvc3NpYmxlIHRvIGRvIG1hdGNoZXNTZWxlY3RvcgoJLy8gb24gYSBkaXNjb25uZWN0ZWQgbm9kZS4KCXN1cHBvcnQuZGlzY29ubmVjdGVkTWF0Y2ggPSBhc3NlcnQoIGZ1bmN0aW9uKCBlbCApIHsKCQlyZXR1cm4gbWF0Y2hlcy5jYWxsKCBlbCwgIioiICk7Cgl9ICk7CgoJLy8gU3VwcG9ydDogSUUgOSAtIDExKywgRWRnZSAxMiAtIDE4KwoJLy8gSUUvRWRnZSBkb24ndCBzdXBwb3J0IHRoZSA6c2NvcGUgcHNldWRvLWNsYXNzLgoJc3VwcG9ydC5zY29wZSA9IGFzc2VydCggZnVuY3Rpb24oKSB7CgkJcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoICI6c2NvcGUiICk7Cgl9ICk7CgoJLy8gU3VwcG9ydDogQ2hyb21lIDEwNSAtIDExMSBvbmx5LCBTYWZhcmkgMTUuNCAtIDE2LjMgb25seQoJLy8gTWFrZSBzdXJlIHRoZSBgOmhhcygpYCBhcmd1bWVudCBpcyBwYXJzZWQgdW5mb3JnaXZpbmdseS4KCS8vIFdlIGluY2x1ZGUgYCpgIGluIHRoZSB0ZXN0IHRvIGRldGVjdCBidWdneSBpbXBsZW1lbnRhdGlvbnMgdGhhdCBhcmUKCS8vIF9zZWxlY3RpdmVseV8gZm9yZ2l2aW5nIChzcGVjaWZpY2FsbHkgd2hlbiB0aGUgbGlzdCBpbmNsdWRlcyBhdCBsZWFzdAoJLy8gb25lIHZhbGlkIHNlbGVjdG9yKS4KCS8vIE5vdGUgdGhhdCB3ZSB0cmVhdCBjb21wbGV0ZSBsYWNrIG9mIHN1cHBvcnQgZm9yIGA6aGFzKClgIGFzIGlmIGl0IHdlcmUKCS8vIHNwZWMtY29tcGxpYW50IHN1cHBvcnQsIHdoaWNoIGlzIGZpbmUgYmVjYXVzZSB1c2Ugb2YgYDpoYXMoKWAgaW4gc3VjaAoJLy8gZW52aXJvbm1lbnRzIHdpbGwgZmFpbCBpbiB0aGUgcVNBIHBhdGggYW5kIGZhbGwgYmFjayB0byBqUXVlcnkgdHJhdmVyc2FsCgkvLyBhbnl3YXkuCglzdXBwb3J0LmNzc0hhcyA9IGFzc2VydCggZnVuY3Rpb24oKSB7CgkJdHJ5IHsKCQkJZG9jdW1lbnQucXVlcnlTZWxlY3RvciggIjpoYXMoKiw6anFmYWtlKSIgKTsKCQkJcmV0dXJuIGZhbHNlOwoJCX0gY2F0Y2ggKCBlICkgewoJCQlyZXR1cm4gdHJ1ZTsKCQl9Cgl9ICk7CgoJLy8gSUQgZmlsdGVyIGFuZCBmaW5kCglpZiAoIHN1cHBvcnQuZ2V0QnlJZCApIHsKCQlFeHByLmZpbHRlci5JRCA9IGZ1bmN0aW9uKCBpZCApIHsKCQkJdmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7CgkJCXJldHVybiBmdW5jdGlvbiggZWxlbSApIHsKCQkJCXJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSggImlkIiApID09PSBhdHRySWQ7CgkJCX07CgkJfTsKCQlFeHByLmZpbmQuSUQgPSBmdW5jdGlvbiggaWQsIGNvbnRleHQgKSB7CgkJCWlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQgIT09ICJ1bmRlZmluZWQiICYmIGRvY3VtZW50SXNIVE1MICkgewoJCQkJdmFyIGVsZW0gPSBjb250ZXh0LmdldEVsZW1lbnRCeUlkKCBpZCApOwoJCQkJcmV0dXJuIGVsZW0gPyBbIGVsZW0gXSA6IFtdOwoJCQl9CgkJfTsKCX0gZWxzZSB7CgkJRXhwci5maWx0ZXIuSUQgPSAgZnVuY3Rpb24oIGlkICkgewoJCQl2YXIgYXR0cklkID0gaWQucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTsKCQkJcmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkgewoJCQkJdmFyIG5vZGUgPSB0eXBlb2YgZWxlbS5nZXRBdHRyaWJ1dGVOb2RlICE9PSAidW5kZWZpbmVkIiAmJgoJCQkJCWVsZW0uZ2V0QXR0cmlidXRlTm9kZSggImlkIiApOwoJCQkJcmV0dXJuIG5vZGUgJiYgbm9kZS52YWx1ZSA9PT0gYXR0cklkOwoJCQl9OwoJCX07CgoJCS8vIFN1cHBvcnQ6IElFIDYgLSA3IG9ubHkKCQkvLyBnZXRFbGVtZW50QnlJZCBpcyBub3QgcmVsaWFibGUgYXMgYSBmaW5kIHNob3J0Y3V0CgkJRXhwci5maW5kLklEID0gZnVuY3Rpb24oIGlkLCBjb250ZXh0ICkgewoJCQlpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRCeUlkICE9PSAidW5kZWZpbmVkIiAmJiBkb2N1bWVudElzSFRNTCApIHsKCQkJCXZhciBub2RlLCBpLCBlbGVtcywKCQkJCQllbGVtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZCggaWQgKTsKCgkJCQlpZiAoIGVsZW0gKSB7CgoJCQkJCS8vIFZlcmlmeSB0aGUgaWQgYXR0cmlidXRlCgkJCQkJbm9kZSA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZSggImlkIiApOwoJCQkJCWlmICggbm9kZSAmJiBub2RlLnZhbHVlID09PSBpZCApIHsKCQkJCQkJcmV0dXJuIFsgZWxlbSBdOwoJCQkJCX0KCgkJCQkJLy8gRmFsbCBiYWNrIG9uIGdldEVsZW1lbnRzQnlOYW1lCgkJCQkJZWxlbXMgPSBjb250ZXh0LmdldEVsZW1lbnRzQnlOYW1lKCBpZCApOwoJCQkJCWkgPSAwOwoJCQkJCXdoaWxlICggKCBlbGVtID0gZWxlbXNbIGkrKyBdICkgKSB7CgkJCQkJCW5vZGUgPSBlbGVtLmdldEF0dHJpYnV0ZU5vZGUoICJpZCIgKTsKCQkJCQkJaWYgKCBub2RlICYmIG5vZGUudmFsdWUgPT09IGlkICkgewoJCQkJCQkJcmV0dXJuIFsgZWxlbSBdOwoJCQkJCQl9CgkJCQkJfQoJCQkJfQoKCQkJCXJldHVybiBbXTsKCQkJfQoJCX07Cgl9CgoJLy8gVGFnCglFeHByLmZpbmQuVEFHID0gZnVuY3Rpb24oIHRhZywgY29udGV4dCApIHsKCQlpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSAidW5kZWZpbmVkIiApIHsKCQkJcmV0dXJuIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHRhZyApOwoKCQkvLyBEb2N1bWVudEZyYWdtZW50IG5vZGVzIGRvbid0IGhhdmUgZ0VCVE4KCQl9IGVsc2UgewoJCQlyZXR1cm4gY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCB0YWcgKTsKCQl9Cgl9OwoKCS8vIENsYXNzCglFeHByLmZpbmQuQ0xBU1MgPSBmdW5jdGlvbiggY2xhc3NOYW1lLCBjb250ZXh0ICkgewoJCWlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSAhPT0gInVuZGVmaW5lZCIgJiYgZG9jdW1lbnRJc0hUTUwgKSB7CgkJCXJldHVybiBjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIGNsYXNzTmFtZSApOwoJCX0KCX07CgoJLyogUVNBL21hdGNoZXNTZWxlY3RvcgoJLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLwoKCS8vIFFTQSBhbmQgbWF0Y2hlc1NlbGVjdG9yIHN1cHBvcnQKCglyYnVnZ3lRU0EgPSBbXTsKCgkvLyBCdWlsZCBRU0EgcmVnZXgKCS8vIFJlZ2V4IHN0cmF0ZWd5IGFkb3B0ZWQgZnJvbSBEaWVnbyBQZXJpbmkKCWFzc2VydCggZnVuY3Rpb24oIGVsICkgewoKCQl2YXIgaW5wdXQ7CgoJCWRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZCggZWwgKS5pbm5lckhUTUwgPQoJCQkiPGEgaWQ9JyIgKyBleHBhbmRvICsgIicgaHJlZj0nJyBkaXNhYmxlZD0nZGlzYWJsZWQnPjwvYT4iICsKCQkJIjxzZWxlY3QgaWQ9JyIgKyBleHBhbmRvICsgIi1cclxcJyBkaXNhYmxlZD0nZGlzYWJsZWQnPiIgKwoJCQkiPG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD4iOwoKCQkvLyBTdXBwb3J0OiBpT1MgPD03IC0gOCBvbmx5CgkJLy8gQm9vbGVhbiBhdHRyaWJ1dGVzIGFuZCAidmFsdWUiIGFyZSBub3QgdHJlYXRlZCBjb3JyZWN0bHkgaW4gc29tZSBYTUwgZG9jdW1lbnRzCgkJaWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbCggIltzZWxlY3RlZF0iICkubGVuZ3RoICkgewoJCQlyYnVnZ3lRU0EucHVzaCggIlxcWyIgKyB3aGl0ZXNwYWNlICsgIiooPzp2YWx1ZXwiICsgYm9vbGVhbnMgKyAiKSIgKTsKCQl9CgoJCS8vIFN1cHBvcnQ6IGlPUyA8PTcgLSA4IG9ubHkKCQlpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKCAiW2lkfj0iICsgZXhwYW5kbyArICItXSIgKS5sZW5ndGggKSB7CgkJCXJidWdneVFTQS5wdXNoKCAifj0iICk7CgkJfQoKCQkvLyBTdXBwb3J0OiBpT1MgOCBvbmx5CgkJLy8gaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEzNjg1MQoJCS8vIEluLXBhZ2UgYHNlbGVjdG9yI2lkIHNpYmxpbmctY29tYmluYXRvciBzZWxlY3RvcmAgZmFpbHMKCQlpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKCAiYSMiICsgZXhwYW5kbyArICIrKiIgKS5sZW5ndGggKSB7CgkJCXJidWdneVFTQS5wdXNoKCAiLiMuK1srfl0iICk7CgkJfQoKCQkvLyBTdXBwb3J0OiBDaHJvbWUgPD0xMDUrLCBGaXJlZm94IDw9MTA0KywgU2FmYXJpIDw9MTUuNCsKCQkvLyBJbiBzb21lIG9mIHRoZSBkb2N1bWVudCBraW5kcywgdGhlc2Ugc2VsZWN0b3JzIHdvdWxkbid0IHdvcmsgbmF0aXZlbHkuCgkJLy8gVGhpcyBpcyBwcm9iYWJseSBPSyBidXQgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHdlIHdhbnQgdG8gbWFpbnRhaW4KCQkvLyBoYW5kbGluZyB0aGVtIHRocm91Z2ggalF1ZXJ5IHRyYXZlcnNhbCBpbiBqUXVlcnkgMy54LgoJCWlmICggIWVsLnF1ZXJ5U2VsZWN0b3JBbGwoICI6Y2hlY2tlZCIgKS5sZW5ndGggKSB7CgkJCXJidWdneVFTQS5wdXNoKCAiOmNoZWNrZWQiICk7CgkJfQoKCQkvLyBTdXBwb3J0OiBXaW5kb3dzIDggTmF0aXZlIEFwcHMKCQkvLyBUaGUgdHlwZSBhbmQgbmFtZSBhdHRyaWJ1dGVzIGFyZSByZXN0cmljdGVkIGR1cmluZyAuaW5uZXJIVE1MIGFzc2lnbm1lbnQKCQlpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICJpbnB1dCIgKTsKCQlpbnB1dC5zZXRBdHRyaWJ1dGUoICJ0eXBlIiwgImhpZGRlbiIgKTsKCQllbC5hcHBlbmRDaGlsZCggaW5wdXQgKS5zZXRBdHRyaWJ1dGUoICJuYW1lIiwgIkQiICk7CgoJCS8vIFN1cHBvcnQ6IElFIDkgLSAxMSsKCQkvLyBJRSdzIDpkaXNhYmxlZCBzZWxlY3RvciBkb2VzIG5vdCBwaWNrIHVwIHRoZSBjaGlsZHJlbiBvZiBkaXNhYmxlZCBmaWVsZHNldHMKCQkvLyBTdXBwb3J0OiBDaHJvbWUgPD0xMDUrLCBGaXJlZm94IDw9MTA0KywgU2FmYXJpIDw9MTUuNCsKCQkvLyBJbiBzb21lIG9mIHRoZSBkb2N1bWVudCBraW5kcywgdGhlc2Ugc2VsZWN0b3JzIHdvdWxkbid0IHdvcmsgbmF0aXZlbHkuCgkJLy8gVGhpcyBpcyBwcm9iYWJseSBPSyBidXQgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHdlIHdhbnQgdG8gbWFpbnRhaW4KCQkvLyBoYW5kbGluZyB0aGVtIHRocm91Z2ggalF1ZXJ5IHRyYXZlcnNhbCBpbiBqUXVlcnkgMy54LgoJCWRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZCggZWwgKS5kaXNhYmxlZCA9IHRydWU7CgkJaWYgKCBlbC5xdWVyeVNlbGVjdG9yQWxsKCAiOmRpc2FibGVkIiApLmxlbmd0aCAhPT0gMiApIHsKCQkJcmJ1Z2d5UVNBLnB1c2goICI6ZW5hYmxlZCIsICI6ZGlzYWJsZWQiICk7CgkJfQoKCQkvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTUgLSAxOCsKCQkvLyBJRSAxMS9FZGdlIGRvbid0IGZpbmQgZWxlbWVudHMgb24gYSBgW25hbWU9JyddYCBxdWVyeSBpbiBzb21lIGNhc2VzLgoJCS8vIEFkZGluZyBhIHRlbXBvcmFyeSBhdHRyaWJ1dGUgdG8gdGhlIGRvY3VtZW50IGJlZm9yZSB0aGUgc2VsZWN0aW9uIHdvcmtzCgkJLy8gYXJvdW5kIHRoZSBpc3N1ZS4KCQkvLyBJbnRlcmVzdGluZ2x5LCBJRSAxMCAmIG9sZGVyIGRvbid0IHNlZW0gdG8gaGF2ZSB0aGUgaXNzdWUuCgkJaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAiaW5wdXQiICk7CgkJaW5wdXQuc2V0QXR0cmlidXRlKCAibmFtZSIsICIiICk7CgkJZWwuYXBwZW5kQ2hpbGQoIGlucHV0ICk7CgkJaWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbCggIltuYW1lPScnXSIgKS5sZW5ndGggKSB7CgkJCXJidWdneVFTQS5wdXNoKCAiXFxbIiArIHdoaXRlc3BhY2UgKyAiKm5hbWUiICsgd2hpdGVzcGFjZSArICIqPSIgKwoJCQkJd2hpdGVzcGFjZSArICIqKD86Jyd8XCJcIikiICk7CgkJfQoJfSApOwoKCWlmICggIXN1cHBvcnQuY3NzSGFzICkgewoKCQkvLyBTdXBwb3J0OiBDaHJvbWUgMTA1IC0gMTEwKywgU2FmYXJpIDE1LjQgLSAxNi4zKwoJCS8vIE91ciByZWd1bGFyIGB0cnktY2F0Y2hgIG1lY2hhbmlzbSBmYWlscyB0byBkZXRlY3QgbmF0aXZlbHktdW5zdXBwb3J0ZWQKCQkvLyBwc2V1ZG8tY2xhc3NlcyBpbnNpZGUgYDpoYXMoKWAgKHN1Y2ggYXMgYDpoYXMoOmNvbnRhaW5zKCJGb28iKSlgKQoJCS8vIGluIGJyb3dzZXJzIHRoYXQgcGFyc2UgdGhlIGA6aGFzKClgIGFyZ3VtZW50IGFzIGEgZm9yZ2l2aW5nIHNlbGVjdG9yIGxpc3QuCgkJLy8gaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL3NlbGVjdG9ycy8jcmVsYXRpb25hbCBub3cgcmVxdWlyZXMgdGhlIGFyZ3VtZW50CgkJLy8gdG8gYmUgcGFyc2VkIHVuZm9yZ2l2aW5nbHksIGJ1dCBicm93c2VycyBoYXZlIG5vdCB5ZXQgZnVsbHkgYWRqdXN0ZWQuCgkJcmJ1Z2d5UVNBLnB1c2goICI6aGFzIiApOwoJfQoKCXJidWdneVFTQSA9IHJidWdneVFTQS5sZW5ndGggJiYgbmV3IFJlZ0V4cCggcmJ1Z2d5UVNBLmpvaW4oICJ8IiApICk7CgoJLyogU29ydGluZwoJLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLwoKCS8vIERvY3VtZW50IG9yZGVyIHNvcnRpbmcKCXNvcnRPcmRlciA9IGZ1bmN0aW9uKCBhLCBiICkgewoKCQkvLyBGbGFnIGZvciBkdXBsaWNhdGUgcmVtb3ZhbAoJCWlmICggYSA9PT0gYiApIHsKCQkJaGFzRHVwbGljYXRlID0gdHJ1ZTsKCQkJcmV0dXJuIDA7CgkJfQoKCQkvLyBTb3J0IG9uIG1ldGhvZCBleGlzdGVuY2UgaWYgb25seSBvbmUgaW5wdXQgaGFzIGNvbXBhcmVEb2N1bWVudFBvc2l0aW9uCgkJdmFyIGNvbXBhcmUgPSAhYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiAtICFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uOwoJCWlmICggY29tcGFyZSApIHsKCQkJcmV0dXJuIGNvbXBhcmU7CgkJfQoKCQkvLyBDYWxjdWxhdGUgcG9zaXRpb24gaWYgYm90aCBpbnB1dHMgYmVsb25nIHRvIHRoZSBzYW1lIGRvY3VtZW50CgkJLy8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrCgkJLy8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSAiUGVybWlzc2lvbiBkZW5pZWQiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZwoJCS8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay4KCQkvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxCgkJY29tcGFyZSA9ICggYS5vd25lckRvY3VtZW50IHx8IGEgKSA9PSAoIGIub3duZXJEb2N1bWVudCB8fCBiICkgPwoJCQlhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBiICkgOgoKCQkJLy8gT3RoZXJ3aXNlIHdlIGtub3cgdGhleSBhcmUgZGlzY29ubmVjdGVkCgkJCTE7CgoJCS8vIERpc2Nvbm5lY3RlZCBub2RlcwoJCWlmICggY29tcGFyZSAmIDEgfHwKCQkJKCAhc3VwcG9ydC5zb3J0RGV0YWNoZWQgJiYgYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggYSApID09PSBjb21wYXJlICkgKSB7CgoJCQkvLyBDaG9vc2UgdGhlIGZpcnN0IGVsZW1lbnQgdGhhdCBpcyByZWxhdGVkIHRvIG91ciBwcmVmZXJyZWQgZG9jdW1lbnQKCQkJLy8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrCgkJCS8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgIlBlcm1pc3Npb24gZGVuaWVkIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmcKCQkJLy8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLgoJCQkvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxCgkJCWlmICggYSA9PT0gZG9jdW1lbnQgfHwgYS5vd25lckRvY3VtZW50ID09IHByZWZlcnJlZERvYyAmJgoJCQkJZmluZC5jb250YWlucyggcHJlZmVycmVkRG9jLCBhICkgKSB7CgkJCQlyZXR1cm4gLTE7CgkJCX0KCgkJCS8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4KwoJCQkvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhICJQZXJtaXNzaW9uIGRlbmllZCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nCgkJCS8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay4KCQkJLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcQoJCQlpZiAoIGIgPT09IGRvY3VtZW50IHx8IGIub3duZXJEb2N1bWVudCA9PSBwcmVmZXJyZWREb2MgJiYKCQkJCWZpbmQuY29udGFpbnMoIHByZWZlcnJlZERvYywgYiApICkgewoJCQkJcmV0dXJuIDE7CgkJCX0KCgkJCS8vIE1haW50YWluIG9yaWdpbmFsIG9yZGVyCgkJCXJldHVybiBzb3J0SW5wdXQgPwoJCQkJKCBpbmRleE9mLmNhbGwoIHNvcnRJbnB1dCwgYSApIC0gaW5kZXhPZi5jYWxsKCBzb3J0SW5wdXQsIGIgKSApIDoKCQkJCTA7CgkJfQoKCQlyZXR1cm4gY29tcGFyZSAmIDQgPyAtMSA6IDE7Cgl9OwoKCXJldHVybiBkb2N1bWVudDsKfQoKZmluZC5tYXRjaGVzID0gZnVuY3Rpb24oIGV4cHIsIGVsZW1lbnRzICkgewoJcmV0dXJuIGZpbmQoIGV4cHIsIG51bGwsIG51bGwsIGVsZW1lbnRzICk7Cn07CgpmaW5kLm1hdGNoZXNTZWxlY3RvciA9IGZ1bmN0aW9uKCBlbGVtLCBleHByICkgewoJc2V0RG9jdW1lbnQoIGVsZW0gKTsKCglpZiAoIGRvY3VtZW50SXNIVE1MICYmCgkJIW5vbm5hdGl2ZVNlbGVjdG9yQ2FjaGVbIGV4cHIgKyAiICIgXSAmJgoJCSggIXJidWdneVFTQSB8fCAhcmJ1Z2d5UVNBLnRlc3QoIGV4cHIgKSApICkgewoKCQl0cnkgewoJCQl2YXIgcmV0ID0gbWF0Y2hlcy5jYWxsKCBlbGVtLCBleHByICk7CgoJCQkvLyBJRSA5J3MgbWF0Y2hlc1NlbGVjdG9yIHJldHVybnMgZmFsc2Ugb24gZGlzY29ubmVjdGVkIG5vZGVzCgkJCWlmICggcmV0IHx8IHN1cHBvcnQuZGlzY29ubmVjdGVkTWF0Y2ggfHwKCgkJCQkJLy8gQXMgd2VsbCwgZGlzY29ubmVjdGVkIG5vZGVzIGFyZSBzYWlkIHRvIGJlIGluIGEgZG9jdW1lbnQKCQkJCQkvLyBmcmFnbWVudCBpbiBJRSA5CgkJCQkJZWxlbS5kb2N1bWVudCAmJiBlbGVtLmRvY3VtZW50Lm5vZGVUeXBlICE9PSAxMSApIHsKCQkJCXJldHVybiByZXQ7CgkJCX0KCQl9IGNhdGNoICggZSApIHsKCQkJbm9ubmF0aXZlU2VsZWN0b3JDYWNoZSggZXhwciwgdHJ1ZSApOwoJCX0KCX0KCglyZXR1cm4gZmluZCggZXhwciwgZG9jdW1lbnQsIG51bGwsIFsgZWxlbSBdICkubGVuZ3RoID4gMDsKfTsKCmZpbmQuY29udGFpbnMgPSBmdW5jdGlvbiggY29udGV4dCwgZWxlbSApIHsKCgkvLyBTZXQgZG9jdW1lbnQgdmFycyBpZiBuZWVkZWQKCS8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4KwoJLy8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSAiUGVybWlzc2lvbiBkZW5pZWQiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZwoJLy8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLgoJLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcQoJaWYgKCAoIGNvbnRleHQub3duZXJEb2N1bWVudCB8fCBjb250ZXh0ICkgIT0gZG9jdW1lbnQgKSB7CgkJc2V0RG9jdW1lbnQoIGNvbnRleHQgKTsKCX0KCXJldHVybiBqUXVlcnkuY29udGFpbnMoIGNvbnRleHQsIGVsZW0gKTsKfTsKCgpmaW5kLmF0dHIgPSBmdW5jdGlvbiggZWxlbSwgbmFtZSApIHsKCgkvLyBTZXQgZG9jdW1lbnQgdmFycyBpZiBuZWVkZWQKCS8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4KwoJLy8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSAiUGVybWlzc2lvbiBkZW5pZWQiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZwoJLy8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLgoJLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcQoJaWYgKCAoIGVsZW0ub3duZXJEb2N1bWVudCB8fCBlbGVtICkgIT0gZG9jdW1lbnQgKSB7CgkJc2V0RG9jdW1lbnQoIGVsZW0gKTsKCX0KCgl2YXIgZm4gPSBFeHByLmF0dHJIYW5kbGVbIG5hbWUudG9Mb3dlckNhc2UoKSBdLAoKCQkvLyBEb24ndCBnZXQgZm9vbGVkIGJ5IE9iamVjdC5wcm90b3R5cGUgcHJvcGVydGllcyAoc2VlIHRyYWMtMTM4MDcpCgkJdmFsID0gZm4gJiYgaGFzT3duLmNhbGwoIEV4cHIuYXR0ckhhbmRsZSwgbmFtZS50b0xvd2VyQ2FzZSgpICkgPwoJCQlmbiggZWxlbSwgbmFtZSwgIWRvY3VtZW50SXNIVE1MICkgOgoJCQl1bmRlZmluZWQ7CgoJaWYgKCB2YWwgIT09IHVuZGVmaW5lZCApIHsKCQlyZXR1cm4gdmFsOwoJfQoKCXJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSggbmFtZSApOwp9OwoKZmluZC5lcnJvciA9IGZ1bmN0aW9uKCBtc2cgKSB7Cgl0aHJvdyBuZXcgRXJyb3IoICJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiAiICsgbXNnICk7Cn07CgovKioKICogRG9jdW1lbnQgc29ydGluZyBhbmQgcmVtb3ZpbmcgZHVwbGljYXRlcwogKiBAcGFyYW0ge0FycmF5TGlrZX0gcmVzdWx0cwogKi8KalF1ZXJ5LnVuaXF1ZVNvcnQgPSBmdW5jdGlvbiggcmVzdWx0cyApIHsKCXZhciBlbGVtLAoJCWR1cGxpY2F0ZXMgPSBbXSwKCQlqID0gMCwKCQlpID0gMDsKCgkvLyBVbmxlc3Mgd2UgKmtub3cqIHdlIGNhbiBkZXRlY3QgZHVwbGljYXRlcywgYXNzdW1lIHRoZWlyIHByZXNlbmNlCgkvLwoJLy8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCsKCS8vIFRlc3RpbmcgZm9yIGRldGVjdGluZyBkdXBsaWNhdGVzIGlzIHVucHJlZGljdGFibGUgc28gaW5zdGVhZCBhc3N1bWUgd2UgY2FuJ3QKCS8vIGRlcGVuZCBvbiBkdXBsaWNhdGUgZGV0ZWN0aW9uIGluIGFsbCBicm93c2VycyB3aXRob3V0IGEgc3RhYmxlIHNvcnQuCgloYXNEdXBsaWNhdGUgPSAhc3VwcG9ydC5zb3J0U3RhYmxlOwoJc29ydElucHV0ID0gIXN1cHBvcnQuc29ydFN0YWJsZSAmJiBzbGljZS5jYWxsKCByZXN1bHRzLCAwICk7Cglzb3J0LmNhbGwoIHJlc3VsdHMsIHNvcnRPcmRlciApOwoKCWlmICggaGFzRHVwbGljYXRlICkgewoJCXdoaWxlICggKCBlbGVtID0gcmVzdWx0c1sgaSsrIF0gKSApIHsKCQkJaWYgKCBlbGVtID09PSByZXN1bHRzWyBpIF0gKSB7CgkJCQlqID0gZHVwbGljYXRlcy5wdXNoKCBpICk7CgkJCX0KCQl9CgkJd2hpbGUgKCBqLS0gKSB7CgkJCXNwbGljZS5jYWxsKCByZXN1bHRzLCBkdXBsaWNhdGVzWyBqIF0sIDEgKTsKCQl9Cgl9CgoJLy8gQ2xlYXIgaW5wdXQgYWZ0ZXIgc29ydGluZyB0byByZWxlYXNlIG9iamVjdHMKCS8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L3NpenpsZS9wdWxsLzIyNQoJc29ydElucHV0ID0gbnVsbDsKCglyZXR1cm4gcmVzdWx0czsKfTsKCmpRdWVyeS5mbi51bmlxdWVTb3J0ID0gZnVuY3Rpb24oKSB7CglyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGpRdWVyeS51bmlxdWVTb3J0KCBzbGljZS5hcHBseSggdGhpcyApICkgKTsKfTsKCkV4cHIgPSBqUXVlcnkuZXhwciA9IHsKCgkvLyBDYW4gYmUgYWRqdXN0ZWQgYnkgdGhlIHVzZXIKCWNhY2hlTGVuZ3RoOiA1MCwKCgljcmVhdGVQc2V1ZG86IG1hcmtGdW5jdGlvbiwKCgltYXRjaDogbWF0Y2hFeHByLAoKCWF0dHJIYW5kbGU6IHt9LAoKCWZpbmQ6IHt9LAoKCXJlbGF0aXZlOiB7CgkJIj4iOiB7IGRpcjogInBhcmVudE5vZGUiLCBmaXJzdDogdHJ1ZSB9LAoJCSIgIjogeyBkaXI6ICJwYXJlbnROb2RlIiB9LAoJCSIrIjogeyBkaXI6ICJwcmV2aW91c1NpYmxpbmciLCBmaXJzdDogdHJ1ZSB9LAoJCSJ+IjogeyBkaXI6ICJwcmV2aW91c1NpYmxpbmciIH0KCX0sCgoJcHJlRmlsdGVyOiB7CgkJQVRUUjogZnVuY3Rpb24oIG1hdGNoICkgewoJCQltYXRjaFsgMSBdID0gbWF0Y2hbIDEgXS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApOwoKCQkJLy8gTW92ZSB0aGUgZ2l2ZW4gdmFsdWUgdG8gbWF0Y2hbM10gd2hldGhlciBxdW90ZWQgb3IgdW5xdW90ZWQKCQkJbWF0Y2hbIDMgXSA9ICggbWF0Y2hbIDMgXSB8fCBtYXRjaFsgNCBdIHx8IG1hdGNoWyA1IF0gfHwgIiIgKQoJCQkJLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7CgoJCQlpZiAoIG1hdGNoWyAyIF0gPT09ICJ+PSIgKSB7CgkJCQltYXRjaFsgMyBdID0gIiAiICsgbWF0Y2hbIDMgXSArICIgIjsKCQkJfQoKCQkJcmV0dXJuIG1hdGNoLnNsaWNlKCAwLCA0ICk7CgkJfSwKCgkJQ0hJTEQ6IGZ1bmN0aW9uKCBtYXRjaCApIHsKCgkJCS8qIG1hdGNoZXMgZnJvbSBtYXRjaEV4cHJbIkNISUxEIl0KCQkJCTEgdHlwZSAob25seXxudGh8Li4uKQoJCQkJMiB3aGF0IChjaGlsZHxvZi10eXBlKQoJCQkJMyBhcmd1bWVudCAoZXZlbnxvZGR8XGQqfFxkKm4oWystXVxkKyk/fC4uLikKCQkJCTQgeG4tY29tcG9uZW50IG9mIHhuK3kgYXJndW1lbnQgKFsrLV0/XGQqbnwpCgkJCQk1IHNpZ24gb2YgeG4tY29tcG9uZW50CgkJCQk2IHggb2YgeG4tY29tcG9uZW50CgkJCQk3IHNpZ24gb2YgeS1jb21wb25lbnQKCQkJCTggeSBvZiB5LWNvbXBvbmVudAoJCQkqLwoJCQltYXRjaFsgMSBdID0gbWF0Y2hbIDEgXS50b0xvd2VyQ2FzZSgpOwoKCQkJaWYgKCBtYXRjaFsgMSBdLnNsaWNlKCAwLCAzICkgPT09ICJudGgiICkgewoKCQkJCS8vIG50aC0qIHJlcXVpcmVzIGFyZ3VtZW50CgkJCQlpZiAoICFtYXRjaFsgMyBdICkgewoJCQkJCWZpbmQuZXJyb3IoIG1hdGNoWyAwIF0gKTsKCQkJCX0KCgkJCQkvLyBudW1lcmljIHggYW5kIHkgcGFyYW1ldGVycyBmb3IgRXhwci5maWx0ZXIuQ0hJTEQKCQkJCS8vIHJlbWVtYmVyIHRoYXQgZmFsc2UvdHJ1ZSBjYXN0IHJlc3BlY3RpdmVseSB0byAwLzEKCQkJCW1hdGNoWyA0IF0gPSArKCBtYXRjaFsgNCBdID8KCQkJCQltYXRjaFsgNSBdICsgKCBtYXRjaFsgNiBdIHx8IDEgKSA6CgkJCQkJMiAqICggbWF0Y2hbIDMgXSA9PT0gImV2ZW4iIHx8IG1hdGNoWyAzIF0gPT09ICJvZGQiICkKCQkJCSk7CgkJCQltYXRjaFsgNSBdID0gKyggKCBtYXRjaFsgNyBdICsgbWF0Y2hbIDggXSApIHx8IG1hdGNoWyAzIF0gPT09ICJvZGQiICk7CgoJCQkvLyBvdGhlciB0eXBlcyBwcm9oaWJpdCBhcmd1bWVudHMKCQkJfSBlbHNlIGlmICggbWF0Y2hbIDMgXSApIHsKCQkJCWZpbmQuZXJyb3IoIG1hdGNoWyAwIF0gKTsKCQkJfQoKCQkJcmV0dXJuIG1hdGNoOwoJCX0sCgoJCVBTRVVETzogZnVuY3Rpb24oIG1hdGNoICkgewoJCQl2YXIgZXhjZXNzLAoJCQkJdW5xdW90ZWQgPSAhbWF0Y2hbIDYgXSAmJiBtYXRjaFsgMiBdOwoKCQkJaWYgKCBtYXRjaEV4cHIuQ0hJTEQudGVzdCggbWF0Y2hbIDAgXSApICkgewoJCQkJcmV0dXJuIG51bGw7CgkJCX0KCgkJCS8vIEFjY2VwdCBxdW90ZWQgYXJndW1lbnRzIGFzLWlzCgkJCWlmICggbWF0Y2hbIDMgXSApIHsKCQkJCW1hdGNoWyAyIF0gPSBtYXRjaFsgNCBdIHx8IG1hdGNoWyA1IF0gfHwgIiI7CgoJCQkvLyBTdHJpcCBleGNlc3MgY2hhcmFjdGVycyBmcm9tIHVucXVvdGVkIGFyZ3VtZW50cwoJCQl9IGVsc2UgaWYgKCB1bnF1b3RlZCAmJiBycHNldWRvLnRlc3QoIHVucXVvdGVkICkgJiYKCgkJCQkvLyBHZXQgZXhjZXNzIGZyb20gdG9rZW5pemUgKHJlY3Vyc2l2ZWx5KQoJCQkJKCBleGNlc3MgPSB0b2tlbml6ZSggdW5xdW90ZWQsIHRydWUgKSApICYmCgoJCQkJLy8gYWR2YW5jZSB0byB0aGUgbmV4dCBjbG9zaW5nIHBhcmVudGhlc2lzCgkJCQkoIGV4Y2VzcyA9IHVucXVvdGVkLmluZGV4T2YoICIpIiwgdW5xdW90ZWQubGVuZ3RoIC0gZXhjZXNzICkgLSB1bnF1b3RlZC5sZW5ndGggKSApIHsKCgkJCQkvLyBleGNlc3MgaXMgYSBuZWdhdGl2ZSBpbmRleAoJCQkJbWF0Y2hbIDAgXSA9IG1hdGNoWyAwIF0uc2xpY2UoIDAsIGV4Y2VzcyApOwoJCQkJbWF0Y2hbIDIgXSA9IHVucXVvdGVkLnNsaWNlKCAwLCBleGNlc3MgKTsKCQkJfQoKCQkJLy8gUmV0dXJuIG9ubHkgY2FwdHVyZXMgbmVlZGVkIGJ5IHRoZSBwc2V1ZG8gZmlsdGVyIG1ldGhvZCAodHlwZSBhbmQgYXJndW1lbnQpCgkJCXJldHVybiBtYXRjaC5zbGljZSggMCwgMyApOwoJCX0KCX0sCgoJZmlsdGVyOiB7CgoJCVRBRzogZnVuY3Rpb24oIG5vZGVOYW1lU2VsZWN0b3IgKSB7CgkJCXZhciBleHBlY3RlZE5vZGVOYW1lID0gbm9kZU5hbWVTZWxlY3Rvci5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApLnRvTG93ZXJDYXNlKCk7CgkJCXJldHVybiBub2RlTmFtZVNlbGVjdG9yID09PSAiKiIgPwoJCQkJZnVuY3Rpb24oKSB7CgkJCQkJcmV0dXJuIHRydWU7CgkJCQl9IDoKCQkJCWZ1bmN0aW9uKCBlbGVtICkgewoJCQkJCXJldHVybiBub2RlTmFtZSggZWxlbSwgZXhwZWN0ZWROb2RlTmFtZSApOwoJCQkJfTsKCQl9LAoKCQlDTEFTUzogZnVuY3Rpb24oIGNsYXNzTmFtZSApIHsKCQkJdmFyIHBhdHRlcm4gPSBjbGFzc0NhY2hlWyBjbGFzc05hbWUgKyAiICIgXTsKCgkJCXJldHVybiBwYXR0ZXJuIHx8CgkJCQkoIHBhdHRlcm4gPSBuZXcgUmVnRXhwKCAiKF58IiArIHdoaXRlc3BhY2UgKyAiKSIgKyBjbGFzc05hbWUgKwoJCQkJCSIoIiArIHdoaXRlc3BhY2UgKyAifCQpIiApICkgJiYKCQkJCWNsYXNzQ2FjaGUoIGNsYXNzTmFtZSwgZnVuY3Rpb24oIGVsZW0gKSB7CgkJCQkJcmV0dXJuIHBhdHRlcm4udGVzdCgKCQkJCQkJdHlwZW9mIGVsZW0uY2xhc3NOYW1lID09PSAic3RyaW5nIiAmJiBlbGVtLmNsYXNzTmFtZSB8fAoJCQkJCQkJdHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlICE9PSAidW5kZWZpbmVkIiAmJgoJCQkJCQkJCWVsZW0uZ2V0QXR0cmlidXRlKCAiY2xhc3MiICkgfHwKCQkJCQkJCSIiCgkJCQkJKTsKCQkJCX0gKTsKCQl9LAoKCQlBVFRSOiBmdW5jdGlvbiggbmFtZSwgb3BlcmF0b3IsIGNoZWNrICkgewoJCQlyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7CgkJCQl2YXIgcmVzdWx0ID0gZmluZC5hdHRyKCBlbGVtLCBuYW1lICk7CgoJCQkJaWYgKCByZXN1bHQgPT0gbnVsbCApIHsKCQkJCQlyZXR1cm4gb3BlcmF0b3IgPT09ICIhPSI7CgkJCQl9CgkJCQlpZiAoICFvcGVyYXRvciApIHsKCQkJCQlyZXR1cm4gdHJ1ZTsKCQkJCX0KCgkJCQlyZXN1bHQgKz0gIiI7CgoJCQkJaWYgKCBvcGVyYXRvciA9PT0gIj0iICkgewoJCQkJCXJldHVybiByZXN1bHQgPT09IGNoZWNrOwoJCQkJfQoJCQkJaWYgKCBvcGVyYXRvciA9PT0gIiE9IiApIHsKCQkJCQlyZXR1cm4gcmVzdWx0ICE9PSBjaGVjazsKCQkJCX0KCQkJCWlmICggb3BlcmF0b3IgPT09ICJePSIgKSB7CgkJCQkJcmV0dXJuIGNoZWNrICYmIHJlc3VsdC5pbmRleE9mKCBjaGVjayApID09PSAwOwoJCQkJfQoJCQkJaWYgKCBvcGVyYXRvciA9PT0gIio9IiApIHsKCQkJCQlyZXR1cm4gY2hlY2sgJiYgcmVzdWx0LmluZGV4T2YoIGNoZWNrICkgPiAtMTsKCQkJCX0KCQkJCWlmICggb3BlcmF0b3IgPT09ICIkPSIgKSB7CgkJCQkJcmV0dXJuIGNoZWNrICYmIHJlc3VsdC5zbGljZSggLWNoZWNrLmxlbmd0aCApID09PSBjaGVjazsKCQkJCX0KCQkJCWlmICggb3BlcmF0b3IgPT09ICJ+PSIgKSB7CgkJCQkJcmV0dXJuICggIiAiICsgcmVzdWx0LnJlcGxhY2UoIHJ3aGl0ZXNwYWNlLCAiICIgKSArICIgIiApCgkJCQkJCS5pbmRleE9mKCBjaGVjayApID4gLTE7CgkJCQl9CgkJCQlpZiAoIG9wZXJhdG9yID09PSAifD0iICkgewoJCQkJCXJldHVybiByZXN1bHQgPT09IGNoZWNrIHx8IHJlc3VsdC5zbGljZSggMCwgY2hlY2subGVuZ3RoICsgMSApID09PSBjaGVjayArICItIjsKCQkJCX0KCgkJCQlyZXR1cm4gZmFsc2U7CgkJCX07CgkJfSwKCgkJQ0hJTEQ6IGZ1bmN0aW9uKCB0eXBlLCB3aGF0LCBfYXJndW1lbnQsIGZpcnN0LCBsYXN0ICkgewoJCQl2YXIgc2ltcGxlID0gdHlwZS5zbGljZSggMCwgMyApICE9PSAibnRoIiwKCQkJCWZvcndhcmQgPSB0eXBlLnNsaWNlKCAtNCApICE9PSAibGFzdCIsCgkJCQlvZlR5cGUgPSB3aGF0ID09PSAib2YtdHlwZSI7CgoJCQlyZXR1cm4gZmlyc3QgPT09IDEgJiYgbGFzdCA9PT0gMCA/CgoJCQkJLy8gU2hvcnRjdXQgZm9yIDpudGgtKihuKQoJCQkJZnVuY3Rpb24oIGVsZW0gKSB7CgkJCQkJcmV0dXJuICEhZWxlbS5wYXJlbnROb2RlOwoJCQkJfSA6CgoJCQkJZnVuY3Rpb24oIGVsZW0sIF9jb250ZXh0LCB4bWwgKSB7CgkJCQkJdmFyIGNhY2hlLCBvdXRlckNhY2hlLCBub2RlLCBub2RlSW5kZXgsIHN0YXJ0LAoJCQkJCQlkaXIgPSBzaW1wbGUgIT09IGZvcndhcmQgPyAibmV4dFNpYmxpbmciIDogInByZXZpb3VzU2libGluZyIsCgkJCQkJCXBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZSwKCQkJCQkJbmFtZSA9IG9mVHlwZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksCgkJCQkJCXVzZUNhY2hlID0gIXhtbCAmJiAhb2ZUeXBlLAoJCQkJCQlkaWZmID0gZmFsc2U7CgoJCQkJCWlmICggcGFyZW50ICkgewoKCQkJCQkJLy8gOihmaXJzdHxsYXN0fG9ubHkpLShjaGlsZHxvZi10eXBlKQoJCQkJCQlpZiAoIHNpbXBsZSApIHsKCQkJCQkJCXdoaWxlICggZGlyICkgewoJCQkJCQkJCW5vZGUgPSBlbGVtOwoJCQkJCQkJCXdoaWxlICggKCBub2RlID0gbm9kZVsgZGlyIF0gKSApIHsKCQkJCQkJCQkJaWYgKCBvZlR5cGUgPwoJCQkJCQkJCQkJbm9kZU5hbWUoIG5vZGUsIG5hbWUgKSA6CgkJCQkJCQkJCQlub2RlLm5vZGVUeXBlID09PSAxICkgewoKCQkJCQkJCQkJCXJldHVybiBmYWxzZTsKCQkJCQkJCQkJfQoJCQkJCQkJCX0KCgkJCQkJCQkJLy8gUmV2ZXJzZSBkaXJlY3Rpb24gZm9yIDpvbmx5LSogKGlmIHdlIGhhdmVuJ3QgeWV0IGRvbmUgc28pCgkJCQkJCQkJc3RhcnQgPSBkaXIgPSB0eXBlID09PSAib25seSIgJiYgIXN0YXJ0ICYmICJuZXh0U2libGluZyI7CgkJCQkJCQl9CgkJCQkJCQlyZXR1cm4gdHJ1ZTsKCQkJCQkJfQoKCQkJCQkJc3RhcnQgPSBbIGZvcndhcmQgPyBwYXJlbnQuZmlyc3RDaGlsZCA6IHBhcmVudC5sYXN0Q2hpbGQgXTsKCgkJCQkJCS8vIG5vbi14bWwgOm50aC1jaGlsZCguLi4pIHN0b3JlcyBjYWNoZSBkYXRhIG9uIGBwYXJlbnRgCgkJCQkJCWlmICggZm9yd2FyZCAmJiB1c2VDYWNoZSApIHsKCgkJCQkJCQkvLyBTZWVrIGBlbGVtYCBmcm9tIGEgcHJldmlvdXNseS1jYWNoZWQgaW5kZXgKCQkJCQkJCW91dGVyQ2FjaGUgPSBwYXJlbnRbIGV4cGFuZG8gXSB8fCAoIHBhcmVudFsgZXhwYW5kbyBdID0ge30gKTsKCQkJCQkJCWNhY2hlID0gb3V0ZXJDYWNoZVsgdHlwZSBdIHx8IFtdOwoJCQkJCQkJbm9kZUluZGV4ID0gY2FjaGVbIDAgXSA9PT0gZGlycnVucyAmJiBjYWNoZVsgMSBdOwoJCQkJCQkJZGlmZiA9IG5vZGVJbmRleCAmJiBjYWNoZVsgMiBdOwoJCQkJCQkJbm9kZSA9IG5vZGVJbmRleCAmJiBwYXJlbnQuY2hpbGROb2Rlc1sgbm9kZUluZGV4IF07CgoJCQkJCQkJd2hpbGUgKCAoIG5vZGUgPSArK25vZGVJbmRleCAmJiBub2RlICYmIG5vZGVbIGRpciBdIHx8CgoJCQkJCQkJCS8vIEZhbGxiYWNrIHRvIHNlZWtpbmcgYGVsZW1gIGZyb20gdGhlIHN0YXJ0CgkJCQkJCQkJKCBkaWZmID0gbm9kZUluZGV4ID0gMCApIHx8IHN0YXJ0LnBvcCgpICkgKSB7CgoJCQkJCQkJCS8vIFdoZW4gZm91bmQsIGNhY2hlIGluZGV4ZXMgb24gYHBhcmVudGAgYW5kIGJyZWFrCgkJCQkJCQkJaWYgKCBub2RlLm5vZGVUeXBlID09PSAxICYmICsrZGlmZiAmJiBub2RlID09PSBlbGVtICkgewoJCQkJCQkJCQlvdXRlckNhY2hlWyB0eXBlIF0gPSBbIGRpcnJ1bnMsIG5vZGVJbmRleCwgZGlmZiBdOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQl9CgkJCQkJCQl9CgoJCQkJCQl9IGVsc2UgewoKCQkJCQkJCS8vIFVzZSBwcmV2aW91c2x5LWNhY2hlZCBlbGVtZW50IGluZGV4IGlmIGF2YWlsYWJsZQoJCQkJCQkJaWYgKCB1c2VDYWNoZSApIHsKCQkJCQkJCQlvdXRlckNhY2hlID0gZWxlbVsgZXhwYW5kbyBdIHx8ICggZWxlbVsgZXhwYW5kbyBdID0ge30gKTsKCQkJCQkJCQljYWNoZSA9IG91dGVyQ2FjaGVbIHR5cGUgXSB8fCBbXTsKCQkJCQkJCQlub2RlSW5kZXggPSBjYWNoZVsgMCBdID09PSBkaXJydW5zICYmIGNhY2hlWyAxIF07CgkJCQkJCQkJZGlmZiA9IG5vZGVJbmRleDsKCQkJCQkJCX0KCgkJCQkJCQkvLyB4bWwgOm50aC1jaGlsZCguLi4pCgkJCQkJCQkvLyBvciA6bnRoLWxhc3QtY2hpbGQoLi4uKSBvciA6bnRoKC1sYXN0KT8tb2YtdHlwZSguLi4pCgkJCQkJCQlpZiAoIGRpZmYgPT09IGZhbHNlICkgewoKCQkJCQkJCQkvLyBVc2UgdGhlIHNhbWUgbG9vcCBhcyBhYm92ZSB0byBzZWVrIGBlbGVtYCBmcm9tIHRoZSBzdGFydAoJCQkJCQkJCXdoaWxlICggKCBub2RlID0gKytub2RlSW5kZXggJiYgbm9kZSAmJiBub2RlWyBkaXIgXSB8fAoJCQkJCQkJCQkoIGRpZmYgPSBub2RlSW5kZXggPSAwICkgfHwgc3RhcnQucG9wKCkgKSApIHsKCgkJCQkJCQkJCWlmICggKCBvZlR5cGUgPwoJCQkJCQkJCQkJbm9kZU5hbWUoIG5vZGUsIG5hbWUgKSA6CgkJCQkJCQkJCQlub2RlLm5vZGVUeXBlID09PSAxICkgJiYKCQkJCQkJCQkJCSsrZGlmZiApIHsKCgkJCQkJCQkJCQkvLyBDYWNoZSB0aGUgaW5kZXggb2YgZWFjaCBlbmNvdW50ZXJlZCBlbGVtZW50CgkJCQkJCQkJCQlpZiAoIHVzZUNhY2hlICkgewoJCQkJCQkJCQkJCW91dGVyQ2FjaGUgPSBub2RlWyBleHBhbmRvIF0gfHwKCQkJCQkJCQkJCQkJKCBub2RlWyBleHBhbmRvIF0gPSB7fSApOwoJCQkJCQkJCQkJCW91dGVyQ2FjaGVbIHR5cGUgXSA9IFsgZGlycnVucywgZGlmZiBdOwoJCQkJCQkJCQkJfQoKCQkJCQkJCQkJCWlmICggbm9kZSA9PT0gZWxlbSApIHsKCQkJCQkJCQkJCQlicmVhazsKCQkJCQkJCQkJCX0KCQkJCQkJCQkJfQoJCQkJCQkJCX0KCQkJCQkJCX0KCQkJCQkJfQoKCQkJCQkJLy8gSW5jb3Jwb3JhdGUgdGhlIG9mZnNldCwgdGhlbiBjaGVjayBhZ2FpbnN0IGN5Y2xlIHNpemUKCQkJCQkJZGlmZiAtPSBsYXN0OwoJCQkJCQlyZXR1cm4gZGlmZiA9PT0gZmlyc3QgfHwgKCBkaWZmICUgZmlyc3QgPT09IDAgJiYgZGlmZiAvIGZpcnN0ID49IDAgKTsKCQkJCQl9CgkJCQl9OwoJCX0sCgoJCVBTRVVETzogZnVuY3Rpb24oIHBzZXVkbywgYXJndW1lbnQgKSB7CgoJCQkvLyBwc2V1ZG8tY2xhc3MgbmFtZXMgYXJlIGNhc2UtaW5zZW5zaXRpdmUKCQkJLy8gaHR0cHM6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jcHNldWRvLWNsYXNzZXMKCQkJLy8gUHJpb3JpdGl6ZSBieSBjYXNlIHNlbnNpdGl2aXR5IGluIGNhc2UgY3VzdG9tIHBzZXVkb3MgYXJlIGFkZGVkIHdpdGggdXBwZXJjYXNlIGxldHRlcnMKCQkJLy8gUmVtZW1iZXIgdGhhdCBzZXRGaWx0ZXJzIGluaGVyaXRzIGZyb20gcHNldWRvcwoJCQl2YXIgYXJncywKCQkJCWZuID0gRXhwci5wc2V1ZG9zWyBwc2V1ZG8gXSB8fCBFeHByLnNldEZpbHRlcnNbIHBzZXVkby50b0xvd2VyQ2FzZSgpIF0gfHwKCQkJCQlmaW5kLmVycm9yKCAidW5zdXBwb3J0ZWQgcHNldWRvOiAiICsgcHNldWRvICk7CgoJCQkvLyBUaGUgdXNlciBtYXkgdXNlIGNyZWF0ZVBzZXVkbyB0byBpbmRpY2F0ZSB0aGF0CgkJCS8vIGFyZ3VtZW50cyBhcmUgbmVlZGVkIHRvIGNyZWF0ZSB0aGUgZmlsdGVyIGZ1bmN0aW9uCgkJCS8vIGp1c3QgYXMgalF1ZXJ5IGRvZXMKCQkJaWYgKCBmblsgZXhwYW5kbyBdICkgewoJCQkJcmV0dXJuIGZuKCBhcmd1bWVudCApOwoJCQl9CgoJCQkvLyBCdXQgbWFpbnRhaW4gc3VwcG9ydCBmb3Igb2xkIHNpZ25hdHVyZXMKCQkJaWYgKCBmbi5sZW5ndGggPiAxICkgewoJCQkJYXJncyA9IFsgcHNldWRvLCBwc2V1ZG8sICIiLCBhcmd1bWVudCBdOwoJCQkJcmV0dXJuIEV4cHIuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eSggcHNldWRvLnRvTG93ZXJDYXNlKCkgKSA/CgkJCQkJbWFya0Z1bmN0aW9uKCBmdW5jdGlvbiggc2VlZCwgbWF0Y2hlcyApIHsKCQkJCQkJdmFyIGlkeCwKCQkJCQkJCW1hdGNoZWQgPSBmbiggc2VlZCwgYXJndW1lbnQgKSwKCQkJCQkJCWkgPSBtYXRjaGVkLmxlbmd0aDsKCQkJCQkJd2hpbGUgKCBpLS0gKSB7CgkJCQkJCQlpZHggPSBpbmRleE9mLmNhbGwoIHNlZWQsIG1hdGNoZWRbIGkgXSApOwoJCQkJCQkJc2VlZFsgaWR4IF0gPSAhKCBtYXRjaGVzWyBpZHggXSA9IG1hdGNoZWRbIGkgXSApOwoJCQkJCQl9CgkJCQkJfSApIDoKCQkJCQlmdW5jdGlvbiggZWxlbSApIHsKCQkJCQkJcmV0dXJuIGZuKCBlbGVtLCAwLCBhcmdzICk7CgkJCQkJfTsKCQkJfQoKCQkJcmV0dXJuIGZuOwoJCX0KCX0sCgoJcHNldWRvczogewoKCQkvLyBQb3RlbnRpYWxseSBjb21wbGV4IHBzZXVkb3MKCQlub3Q6IG1hcmtGdW5jdGlvbiggZnVuY3Rpb24oIHNlbGVjdG9yICkgewoKCQkJLy8gVHJpbSB0aGUgc2VsZWN0b3IgcGFzc2VkIHRvIGNvbXBpbGUKCQkJLy8gdG8gYXZvaWQgdHJlYXRpbmcgbGVhZGluZyBhbmQgdHJhaWxpbmcKCQkJLy8gc3BhY2VzIGFzIGNvbWJpbmF0b3JzCgkJCXZhciBpbnB1dCA9IFtdLAoJCQkJcmVzdWx0cyA9IFtdLAoJCQkJbWF0Y2hlciA9IGNvbXBpbGUoIHNlbGVjdG9yLnJlcGxhY2UoIHJ0cmltQ1NTLCAiJDEiICkgKTsKCgkJCXJldHVybiBtYXRjaGVyWyBleHBhbmRvIF0gPwoJCQkJbWFya0Z1bmN0aW9uKCBmdW5jdGlvbiggc2VlZCwgbWF0Y2hlcywgX2NvbnRleHQsIHhtbCApIHsKCQkJCQl2YXIgZWxlbSwKCQkJCQkJdW5tYXRjaGVkID0gbWF0Y2hlciggc2VlZCwgbnVsbCwgeG1sLCBbXSApLAoJCQkJCQlpID0gc2VlZC5sZW5ndGg7CgoJCQkJCS8vIE1hdGNoIGVsZW1lbnRzIHVubWF0Y2hlZCBieSBgbWF0Y2hlcmAKCQkJCQl3aGlsZSAoIGktLSApIHsKCQkJCQkJaWYgKCAoIGVsZW0gPSB1bm1hdGNoZWRbIGkgXSApICkgewoJCQkJCQkJc2VlZFsgaSBdID0gISggbWF0Y2hlc1sgaSBdID0gZWxlbSApOwoJCQkJCQl9CgkJCQkJfQoJCQkJfSApIDoKCQkJCWZ1bmN0aW9uKCBlbGVtLCBfY29udGV4dCwgeG1sICkgewoJCQkJCWlucHV0WyAwIF0gPSBlbGVtOwoJCQkJCW1hdGNoZXIoIGlucHV0LCBudWxsLCB4bWwsIHJlc3VsdHMgKTsKCgkJCQkJLy8gRG9uJ3Qga2VlcCB0aGUgZWxlbWVudAoJCQkJCS8vIChzZWUgaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9zaXp6bGUvaXNzdWVzLzI5OSkKCQkJCQlpbnB1dFsgMCBdID0gbnVsbDsKCQkJCQlyZXR1cm4gIXJlc3VsdHMucG9wKCk7CgkJCQl9OwoJCX0gKSwKCgkJaGFzOiBtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCBzZWxlY3RvciApIHsKCQkJcmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkgewoJCQkJcmV0dXJuIGZpbmQoIHNlbGVjdG9yLCBlbGVtICkubGVuZ3RoID4gMDsKCQkJfTsKCQl9ICksCgoJCWNvbnRhaW5zOiBtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCB0ZXh0ICkgewoJCQl0ZXh0ID0gdGV4dC5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApOwoJCQlyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7CgkJCQlyZXR1cm4gKCBlbGVtLnRleHRDb250ZW50IHx8IGpRdWVyeS50ZXh0KCBlbGVtICkgKS5pbmRleE9mKCB0ZXh0ICkgPiAtMTsKCQkJfTsKCQl9ICksCgoJCS8vICJXaGV0aGVyIGFuIGVsZW1lbnQgaXMgcmVwcmVzZW50ZWQgYnkgYSA6bGFuZygpIHNlbGVjdG9yCgkJLy8gaXMgYmFzZWQgc29sZWx5IG9uIHRoZSBlbGVtZW50J3MgbGFuZ3VhZ2UgdmFsdWUKCQkvLyBiZWluZyBlcXVhbCB0byB0aGUgaWRlbnRpZmllciBDLAoJCS8vIG9yIGJlZ2lubmluZyB3aXRoIHRoZSBpZGVudGlmaWVyIEMgaW1tZWRpYXRlbHkgZm9sbG93ZWQgYnkgIi0iLgoJCS8vIFRoZSBtYXRjaGluZyBvZiBDIGFnYWluc3QgdGhlIGVsZW1lbnQncyBsYW5ndWFnZSB2YWx1ZSBpcyBwZXJmb3JtZWQgY2FzZS1pbnNlbnNpdGl2ZWx5LgoJCS8vIFRoZSBpZGVudGlmaWVyIEMgZG9lcyBub3QgaGF2ZSB0byBiZSBhIHZhbGlkIGxhbmd1YWdlIG5hbWUuIgoJCS8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2xhbmctcHNldWRvCgkJbGFuZzogbWFya0Z1bmN0aW9uKCBmdW5jdGlvbiggbGFuZyApIHsKCgkJCS8vIGxhbmcgdmFsdWUgbXVzdCBiZSBhIHZhbGlkIGlkZW50aWZpZXIKCQkJaWYgKCAhcmlkZW50aWZpZXIudGVzdCggbGFuZyB8fCAiIiApICkgewoJCQkJZmluZC5lcnJvciggInVuc3VwcG9ydGVkIGxhbmc6ICIgKyBsYW5nICk7CgkJCX0KCQkJbGFuZyA9IGxhbmcucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKS50b0xvd2VyQ2FzZSgpOwoJCQlyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7CgkJCQl2YXIgZWxlbUxhbmc7CgkJCQlkbyB7CgkJCQkJaWYgKCAoIGVsZW1MYW5nID0gZG9jdW1lbnRJc0hUTUwgPwoJCQkJCQllbGVtLmxhbmcgOgoJCQkJCQllbGVtLmdldEF0dHJpYnV0ZSggInhtbDpsYW5nIiApIHx8IGVsZW0uZ2V0QXR0cmlidXRlKCAibGFuZyIgKSApICkgewoKCQkJCQkJZWxlbUxhbmcgPSBlbGVtTGFuZy50b0xvd2VyQ2FzZSgpOwoJCQkJCQlyZXR1cm4gZWxlbUxhbmcgPT09IGxhbmcgfHwgZWxlbUxhbmcuaW5kZXhPZiggbGFuZyArICItIiApID09PSAwOwoJCQkJCX0KCQkJCX0gd2hpbGUgKCAoIGVsZW0gPSBlbGVtLnBhcmVudE5vZGUgKSAmJiBlbGVtLm5vZGVUeXBlID09PSAxICk7CgkJCQlyZXR1cm4gZmFsc2U7CgkJCX07CgkJfSApLAoKCQkvLyBNaXNjZWxsYW5lb3VzCgkJdGFyZ2V0OiBmdW5jdGlvbiggZWxlbSApIHsKCQkJdmFyIGhhc2ggPSB3aW5kb3cubG9jYXRpb24gJiYgd2luZG93LmxvY2F0aW9uLmhhc2g7CgkJCXJldHVybiBoYXNoICYmIGhhc2guc2xpY2UoIDEgKSA9PT0gZWxlbS5pZDsKCQl9LAoKCQlyb290OiBmdW5jdGlvbiggZWxlbSApIHsKCQkJcmV0dXJuIGVsZW0gPT09IGRvY3VtZW50RWxlbWVudDsKCQl9LAoKCQlmb2N1czogZnVuY3Rpb24oIGVsZW0gKSB7CgkJCXJldHVybiBlbGVtID09PSBzYWZlQWN0aXZlRWxlbWVudCgpICYmCgkJCQlkb2N1bWVudC5oYXNGb2N1cygpICYmCgkJCQkhISggZWxlbS50eXBlIHx8IGVsZW0uaHJlZiB8fCB+ZWxlbS50YWJJbmRleCApOwoJCX0sCgoJCS8vIEJvb2xlYW4gcHJvcGVydGllcwoJCWVuYWJsZWQ6IGNyZWF0ZURpc2FibGVkUHNldWRvKCBmYWxzZSApLAoJCWRpc2FibGVkOiBjcmVhdGVEaXNhYmxlZFBzZXVkbyggdHJ1ZSApLAoKCQljaGVja2VkOiBmdW5jdGlvbiggZWxlbSApIHsKCgkJCS8vIEluIENTUzMsIDpjaGVja2VkIHNob3VsZCByZXR1cm4gYm90aCBjaGVja2VkIGFuZCBzZWxlY3RlZCBlbGVtZW50cwoJCQkvLyBodHRwczovL3d3dy53My5vcmcvVFIvMjAxMS9SRUMtY3NzMy1zZWxlY3RvcnMtMjAxMTA5MjkvI2NoZWNrZWQKCQkJcmV0dXJuICggbm9kZU5hbWUoIGVsZW0sICJpbnB1dCIgKSAmJiAhIWVsZW0uY2hlY2tlZCApIHx8CgkJCQkoIG5vZGVOYW1lKCBlbGVtLCAib3B0aW9uIiApICYmICEhZWxlbS5zZWxlY3RlZCApOwoJCX0sCgoJCXNlbGVjdGVkOiBmdW5jdGlvbiggZWxlbSApIHsKCgkJCS8vIFN1cHBvcnQ6IElFIDw9MTErCgkJCS8vIEFjY2Vzc2luZyB0aGUgc2VsZWN0ZWRJbmRleCBwcm9wZXJ0eQoJCQkvLyBmb3JjZXMgdGhlIGJyb3dzZXIgdG8gdHJlYXQgdGhlIGRlZmF1bHQgb3B0aW9uIGFzCgkJCS8vIHNlbGVjdGVkIHdoZW4gaW4gYW4gb3B0Z3JvdXAuCgkJCWlmICggZWxlbS5wYXJlbnROb2RlICkgewoJCQkJLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC1leHByZXNzaW9ucwoJCQkJZWxlbS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXg7CgkJCX0KCgkJCXJldHVybiBlbGVtLnNlbGVjdGVkID09PSB0cnVlOwoJCX0sCgoJCS8vIENvbnRlbnRzCgkJZW1wdHk6IGZ1bmN0aW9uKCBlbGVtICkgewoKCQkJLy8gaHR0cHM6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jZW1wdHktcHNldWRvCgkJCS8vIDplbXB0eSBpcyBuZWdhdGVkIGJ5IGVsZW1lbnQgKDEpIG9yIGNvbnRlbnQgbm9kZXMgKHRleHQ6IDM7IGNkYXRhOiA0OyBlbnRpdHkgcmVmOiA1KSwKCQkJLy8gICBidXQgbm90IGJ5IG90aGVycyAoY29tbWVudDogODsgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbjogNzsgZXRjLikKCQkJLy8gbm9kZVR5cGUgPCA2IHdvcmtzIGJlY2F1c2UgYXR0cmlidXRlcyAoMikgZG8gbm90IGFwcGVhciBhcyBjaGlsZHJlbgoJCQlmb3IgKCBlbGVtID0gZWxlbS5maXJzdENoaWxkOyBlbGVtOyBlbGVtID0gZWxlbS5uZXh0U2libGluZyApIHsKCQkJCWlmICggZWxlbS5ub2RlVHlwZSA8IDYgKSB7CgkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJfQoJCQl9CgkJCXJldHVybiB0cnVlOwoJCX0sCgoJCXBhcmVudDogZnVuY3Rpb24oIGVsZW0gKSB7CgkJCXJldHVybiAhRXhwci5wc2V1ZG9zLmVtcHR5KCBlbGVtICk7CgkJfSwKCgkJLy8gRWxlbWVudC9pbnB1dCB0eXBlcwoJCWhlYWRlcjogZnVuY3Rpb24oIGVsZW0gKSB7CgkJCXJldHVybiByaGVhZGVyLnRlc3QoIGVsZW0ubm9kZU5hbWUgKTsKCQl9LAoKCQlpbnB1dDogZnVuY3Rpb24oIGVsZW0gKSB7CgkJCXJldHVybiByaW5wdXRzLnRlc3QoIGVsZW0ubm9kZU5hbWUgKTsKCQl9LAoKCQlidXR0b246IGZ1bmN0aW9uKCBlbGVtICkgewoJCQlyZXR1cm4gbm9kZU5hbWUoIGVsZW0sICJpbnB1dCIgKSAmJiBlbGVtLnR5cGUgPT09ICJidXR0b24iIHx8CgkJCQlub2RlTmFtZSggZWxlbSwgImJ1dHRvbiIgKTsKCQl9LAoKCQl0ZXh0OiBmdW5jdGlvbiggZWxlbSApIHsKCQkJdmFyIGF0dHI7CgkJCXJldHVybiBub2RlTmFtZSggZWxlbSwgImlucHV0IiApICYmIGVsZW0udHlwZSA9PT0gInRleHQiICYmCgoJCQkJLy8gU3VwcG9ydDogSUUgPDEwIG9ubHkKCQkJCS8vIE5ldyBIVE1MNSBhdHRyaWJ1dGUgdmFsdWVzIChlLmcuLCAic2VhcmNoIikgYXBwZWFyCgkJCQkvLyB3aXRoIGVsZW0udHlwZSA9PT0gInRleHQiCgkJCQkoICggYXR0ciA9IGVsZW0uZ2V0QXR0cmlidXRlKCAidHlwZSIgKSApID09IG51bGwgfHwKCQkJCQlhdHRyLnRvTG93ZXJDYXNlKCkgPT09ICJ0ZXh0IiApOwoJCX0sCgoJCS8vIFBvc2l0aW9uLWluLWNvbGxlY3Rpb24KCQlmaXJzdDogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyggZnVuY3Rpb24oKSB7CgkJCXJldHVybiBbIDAgXTsKCQl9ICksCgoJCWxhc3Q6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oIGZ1bmN0aW9uKCBfbWF0Y2hJbmRleGVzLCBsZW5ndGggKSB7CgkJCXJldHVybiBbIGxlbmd0aCAtIDEgXTsKCQl9ICksCgoJCWVxOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKCBmdW5jdGlvbiggX21hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHsKCQkJcmV0dXJuIFsgYXJndW1lbnQgPCAwID8gYXJndW1lbnQgKyBsZW5ndGggOiBhcmd1bWVudCBdOwoJCX0gKSwKCgkJZXZlbjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyggZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoICkgewoJCQl2YXIgaSA9IDA7CgkJCWZvciAoIDsgaSA8IGxlbmd0aDsgaSArPSAyICkgewoJCQkJbWF0Y2hJbmRleGVzLnB1c2goIGkgKTsKCQkJfQoJCQlyZXR1cm4gbWF0Y2hJbmRleGVzOwoJCX0gKSwKCgkJb2RkOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKCBmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGggKSB7CgkJCXZhciBpID0gMTsKCQkJZm9yICggOyBpIDwgbGVuZ3RoOyBpICs9IDIgKSB7CgkJCQltYXRjaEluZGV4ZXMucHVzaCggaSApOwoJCQl9CgkJCXJldHVybiBtYXRjaEluZGV4ZXM7CgkJfSApLAoKCQlsdDogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyggZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHsKCQkJdmFyIGk7CgoJCQlpZiAoIGFyZ3VtZW50IDwgMCApIHsKCQkJCWkgPSBhcmd1bWVudCArIGxlbmd0aDsKCQkJfSBlbHNlIGlmICggYXJndW1lbnQgPiBsZW5ndGggKSB7CgkJCQlpID0gbGVuZ3RoOwoJCQl9IGVsc2UgewoJCQkJaSA9IGFyZ3VtZW50OwoJCQl9CgoJCQlmb3IgKCA7IC0taSA+PSAwOyApIHsKCQkJCW1hdGNoSW5kZXhlcy5wdXNoKCBpICk7CgkJCX0KCQkJcmV0dXJuIG1hdGNoSW5kZXhlczsKCQl9ICksCgoJCWd0OiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKCBmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50ICkgewoJCQl2YXIgaSA9IGFyZ3VtZW50IDwgMCA/IGFyZ3VtZW50ICsgbGVuZ3RoIDogYXJndW1lbnQ7CgkJCWZvciAoIDsgKytpIDwgbGVuZ3RoOyApIHsKCQkJCW1hdGNoSW5kZXhlcy5wdXNoKCBpICk7CgkJCX0KCQkJcmV0dXJuIG1hdGNoSW5kZXhlczsKCQl9ICkKCX0KfTsKCkV4cHIucHNldWRvcy5udGggPSBFeHByLnBzZXVkb3MuZXE7CgovLyBBZGQgYnV0dG9uL2lucHV0IHR5cGUgcHNldWRvcwpmb3IgKCBpIGluIHsgcmFkaW86IHRydWUsIGNoZWNrYm94OiB0cnVlLCBmaWxlOiB0cnVlLCBwYXNzd29yZDogdHJ1ZSwgaW1hZ2U6IHRydWUgfSApIHsKCUV4cHIucHNldWRvc1sgaSBdID0gY3JlYXRlSW5wdXRQc2V1ZG8oIGkgKTsKfQpmb3IgKCBpIGluIHsgc3VibWl0OiB0cnVlLCByZXNldDogdHJ1ZSB9ICkgewoJRXhwci5wc2V1ZG9zWyBpIF0gPSBjcmVhdGVCdXR0b25Qc2V1ZG8oIGkgKTsKfQoKLy8gRWFzeSBBUEkgZm9yIGNyZWF0aW5nIG5ldyBzZXRGaWx0ZXJzCmZ1bmN0aW9uIHNldEZpbHRlcnMoKSB7fQpzZXRGaWx0ZXJzLnByb3RvdHlwZSA9IEV4cHIuZmlsdGVycyA9IEV4cHIucHNldWRvczsKRXhwci5zZXRGaWx0ZXJzID0gbmV3IHNldEZpbHRlcnMoKTsKCmZ1bmN0aW9uIHRva2VuaXplKCBzZWxlY3RvciwgcGFyc2VPbmx5ICkgewoJdmFyIG1hdGNoZWQsIG1hdGNoLCB0b2tlbnMsIHR5cGUsCgkJc29GYXIsIGdyb3VwcywgcHJlRmlsdGVycywKCQljYWNoZWQgPSB0b2tlbkNhY2hlWyBzZWxlY3RvciArICIgIiBdOwoKCWlmICggY2FjaGVkICkgewoJCXJldHVybiBwYXJzZU9ubHkgPyAwIDogY2FjaGVkLnNsaWNlKCAwICk7Cgl9CgoJc29GYXIgPSBzZWxlY3RvcjsKCWdyb3VwcyA9IFtdOwoJcHJlRmlsdGVycyA9IEV4cHIucHJlRmlsdGVyOwoKCXdoaWxlICggc29GYXIgKSB7CgoJCS8vIENvbW1hIGFuZCBmaXJzdCBydW4KCQlpZiAoICFtYXRjaGVkIHx8ICggbWF0Y2ggPSByY29tbWEuZXhlYyggc29GYXIgKSApICkgewoJCQlpZiAoIG1hdGNoICkgewoKCQkJCS8vIERvbid0IGNvbnN1bWUgdHJhaWxpbmcgY29tbWFzIGFzIHZhbGlkCgkJCQlzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaFsgMCBdLmxlbmd0aCApIHx8IHNvRmFyOwoJCQl9CgkJCWdyb3Vwcy5wdXNoKCAoIHRva2VucyA9IFtdICkgKTsKCQl9CgoJCW1hdGNoZWQgPSBmYWxzZTsKCgkJLy8gQ29tYmluYXRvcnMKCQlpZiAoICggbWF0Y2ggPSBybGVhZGluZ0NvbWJpbmF0b3IuZXhlYyggc29GYXIgKSApICkgewoJCQltYXRjaGVkID0gbWF0Y2guc2hpZnQoKTsKCQkJdG9rZW5zLnB1c2goIHsKCQkJCXZhbHVlOiBtYXRjaGVkLAoKCQkJCS8vIENhc3QgZGVzY2VuZGFudCBjb21iaW5hdG9ycyB0byBzcGFjZQoJCQkJdHlwZTogbWF0Y2hbIDAgXS5yZXBsYWNlKCBydHJpbUNTUywgIiAiICkKCQkJfSApOwoJCQlzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaGVkLmxlbmd0aCApOwoJCX0KCgkJLy8gRmlsdGVycwoJCWZvciAoIHR5cGUgaW4gRXhwci5maWx0ZXIgKSB7CgkJCWlmICggKCBtYXRjaCA9IG1hdGNoRXhwclsgdHlwZSBdLmV4ZWMoIHNvRmFyICkgKSAmJiAoICFwcmVGaWx0ZXJzWyB0eXBlIF0gfHwKCQkJCSggbWF0Y2ggPSBwcmVGaWx0ZXJzWyB0eXBlIF0oIG1hdGNoICkgKSApICkgewoJCQkJbWF0Y2hlZCA9IG1hdGNoLnNoaWZ0KCk7CgkJCQl0b2tlbnMucHVzaCggewoJCQkJCXZhbHVlOiBtYXRjaGVkLAoJCQkJCXR5cGU6IHR5cGUsCgkJCQkJbWF0Y2hlczogbWF0Y2gKCQkJCX0gKTsKCQkJCXNvRmFyID0gc29GYXIuc2xpY2UoIG1hdGNoZWQubGVuZ3RoICk7CgkJCX0KCQl9CgoJCWlmICggIW1hdGNoZWQgKSB7CgkJCWJyZWFrOwoJCX0KCX0KCgkvLyBSZXR1cm4gdGhlIGxlbmd0aCBvZiB0aGUgaW52YWxpZCBleGNlc3MKCS8vIGlmIHdlJ3JlIGp1c3QgcGFyc2luZwoJLy8gT3RoZXJ3aXNlLCB0aHJvdyBhbiBlcnJvciBvciByZXR1cm4gdG9rZW5zCglpZiAoIHBhcnNlT25seSApIHsKCQlyZXR1cm4gc29GYXIubGVuZ3RoOwoJfQoKCXJldHVybiBzb0ZhciA/CgkJZmluZC5lcnJvciggc2VsZWN0b3IgKSA6CgoJCS8vIENhY2hlIHRoZSB0b2tlbnMKCQl0b2tlbkNhY2hlKCBzZWxlY3RvciwgZ3JvdXBzICkuc2xpY2UoIDAgKTsKfQoKZnVuY3Rpb24gdG9TZWxlY3RvciggdG9rZW5zICkgewoJdmFyIGkgPSAwLAoJCWxlbiA9IHRva2Vucy5sZW5ndGgsCgkJc2VsZWN0b3IgPSAiIjsKCWZvciAoIDsgaSA8IGxlbjsgaSsrICkgewoJCXNlbGVjdG9yICs9IHRva2Vuc1sgaSBdLnZhbHVlOwoJfQoJcmV0dXJuIHNlbGVjdG9yOwp9CgpmdW5jdGlvbiBhZGRDb21iaW5hdG9yKCBtYXRjaGVyLCBjb21iaW5hdG9yLCBiYXNlICkgewoJdmFyIGRpciA9IGNvbWJpbmF0b3IuZGlyLAoJCXNraXAgPSBjb21iaW5hdG9yLm5leHQsCgkJa2V5ID0gc2tpcCB8fCBkaXIsCgkJY2hlY2tOb25FbGVtZW50cyA9IGJhc2UgJiYga2V5ID09PSAicGFyZW50Tm9kZSIsCgkJZG9uZU5hbWUgPSBkb25lKys7CgoJcmV0dXJuIGNvbWJpbmF0b3IuZmlyc3QgPwoKCQkvLyBDaGVjayBhZ2FpbnN0IGNsb3Nlc3QgYW5jZXN0b3IvcHJlY2VkaW5nIGVsZW1lbnQKCQlmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkgewoJCQl3aGlsZSAoICggZWxlbSA9IGVsZW1bIGRpciBdICkgKSB7CgkJCQlpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgY2hlY2tOb25FbGVtZW50cyApIHsKCQkJCQlyZXR1cm4gbWF0Y2hlciggZWxlbSwgY29udGV4dCwgeG1sICk7CgkJCQl9CgkJCX0KCQkJcmV0dXJuIGZhbHNlOwoJCX0gOgoKCQkvLyBDaGVjayBhZ2FpbnN0IGFsbCBhbmNlc3Rvci9wcmVjZWRpbmcgZWxlbWVudHMKCQlmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkgewoJCQl2YXIgb2xkQ2FjaGUsIG91dGVyQ2FjaGUsCgkJCQluZXdDYWNoZSA9IFsgZGlycnVucywgZG9uZU5hbWUgXTsKCgkJCS8vIFdlIGNhbid0IHNldCBhcmJpdHJhcnkgZGF0YSBvbiBYTUwgbm9kZXMsIHNvIHRoZXkgZG9uJ3QgYmVuZWZpdCBmcm9tIGNvbWJpbmF0b3IgY2FjaGluZwoJCQlpZiAoIHhtbCApIHsKCQkJCXdoaWxlICggKCBlbGVtID0gZWxlbVsgZGlyIF0gKSApIHsKCQkJCQlpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgY2hlY2tOb25FbGVtZW50cyApIHsKCQkJCQkJaWYgKCBtYXRjaGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHsKCQkJCQkJCXJldHVybiB0cnVlOwoJCQkJCQl9CgkJCQkJfQoJCQkJfQoJCQl9IGVsc2UgewoJCQkJd2hpbGUgKCAoIGVsZW0gPSBlbGVtWyBkaXIgXSApICkgewoJCQkJCWlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBjaGVja05vbkVsZW1lbnRzICkgewoJCQkJCQlvdXRlckNhY2hlID0gZWxlbVsgZXhwYW5kbyBdIHx8ICggZWxlbVsgZXhwYW5kbyBdID0ge30gKTsKCgkJCQkJCWlmICggc2tpcCAmJiBub2RlTmFtZSggZWxlbSwgc2tpcCApICkgewoJCQkJCQkJZWxlbSA9IGVsZW1bIGRpciBdIHx8IGVsZW07CgkJCQkJCX0gZWxzZSBpZiAoICggb2xkQ2FjaGUgPSBvdXRlckNhY2hlWyBrZXkgXSApICYmCgkJCQkJCQlvbGRDYWNoZVsgMCBdID09PSBkaXJydW5zICYmIG9sZENhY2hlWyAxIF0gPT09IGRvbmVOYW1lICkgewoKCQkJCQkJCS8vIEFzc2lnbiB0byBuZXdDYWNoZSBzbyByZXN1bHRzIGJhY2stcHJvcGFnYXRlIHRvIHByZXZpb3VzIGVsZW1lbnRzCgkJCQkJCQlyZXR1cm4gKCBuZXdDYWNoZVsgMiBdID0gb2xkQ2FjaGVbIDIgXSApOwoJCQkJCQl9IGVsc2UgewoKCQkJCQkJCS8vIFJldXNlIG5ld2NhY2hlIHNvIHJlc3VsdHMgYmFjay1wcm9wYWdhdGUgdG8gcHJldmlvdXMgZWxlbWVudHMKCQkJCQkJCW91dGVyQ2FjaGVbIGtleSBdID0gbmV3Q2FjaGU7CgoJCQkJCQkJLy8gQSBtYXRjaCBtZWFucyB3ZSdyZSBkb25lOyBhIGZhaWwgbWVhbnMgd2UgaGF2ZSB0byBrZWVwIGNoZWNraW5nCgkJCQkJCQlpZiAoICggbmV3Q2FjaGVbIDIgXSA9IG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApICkgKSB7CgkJCQkJCQkJcmV0dXJuIHRydWU7CgkJCQkJCQl9CgkJCQkJCX0KCQkJCQl9CgkJCQl9CgkJCX0KCQkJcmV0dXJuIGZhbHNlOwoJCX07Cn0KCmZ1bmN0aW9uIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApIHsKCXJldHVybiBtYXRjaGVycy5sZW5ndGggPiAxID8KCQlmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkgewoJCQl2YXIgaSA9IG1hdGNoZXJzLmxlbmd0aDsKCQkJd2hpbGUgKCBpLS0gKSB7CgkJCQlpZiAoICFtYXRjaGVyc1sgaSBdKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHsKCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQl9CgkJCX0KCQkJcmV0dXJuIHRydWU7CgkJfSA6CgkJbWF0Y2hlcnNbIDAgXTsKfQoKZnVuY3Rpb24gbXVsdGlwbGVDb250ZXh0cyggc2VsZWN0b3IsIGNvbnRleHRzLCByZXN1bHRzICkgewoJdmFyIGkgPSAwLAoJCWxlbiA9IGNvbnRleHRzLmxlbmd0aDsKCWZvciAoIDsgaSA8IGxlbjsgaSsrICkgewoJCWZpbmQoIHNlbGVjdG9yLCBjb250ZXh0c1sgaSBdLCByZXN1bHRzICk7Cgl9CglyZXR1cm4gcmVzdWx0czsKfQoKZnVuY3Rpb24gY29uZGVuc2UoIHVubWF0Y2hlZCwgbWFwLCBmaWx0ZXIsIGNvbnRleHQsIHhtbCApIHsKCXZhciBlbGVtLAoJCW5ld1VubWF0Y2hlZCA9IFtdLAoJCWkgPSAwLAoJCWxlbiA9IHVubWF0Y2hlZC5sZW5ndGgsCgkJbWFwcGVkID0gbWFwICE9IG51bGw7CgoJZm9yICggOyBpIDwgbGVuOyBpKysgKSB7CgkJaWYgKCAoIGVsZW0gPSB1bm1hdGNoZWRbIGkgXSApICkgewoJCQlpZiAoICFmaWx0ZXIgfHwgZmlsdGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHsKCQkJCW5ld1VubWF0Y2hlZC5wdXNoKCBlbGVtICk7CgkJCQlpZiAoIG1hcHBlZCApIHsKCQkJCQltYXAucHVzaCggaSApOwoJCQkJfQoJCQl9CgkJfQoJfQoKCXJldHVybiBuZXdVbm1hdGNoZWQ7Cn0KCmZ1bmN0aW9uIHNldE1hdGNoZXIoIHByZUZpbHRlciwgc2VsZWN0b3IsIG1hdGNoZXIsIHBvc3RGaWx0ZXIsIHBvc3RGaW5kZXIsIHBvc3RTZWxlY3RvciApIHsKCWlmICggcG9zdEZpbHRlciAmJiAhcG9zdEZpbHRlclsgZXhwYW5kbyBdICkgewoJCXBvc3RGaWx0ZXIgPSBzZXRNYXRjaGVyKCBwb3N0RmlsdGVyICk7Cgl9CglpZiAoIHBvc3RGaW5kZXIgJiYgIXBvc3RGaW5kZXJbIGV4cGFuZG8gXSApIHsKCQlwb3N0RmluZGVyID0gc2V0TWF0Y2hlciggcG9zdEZpbmRlciwgcG9zdFNlbGVjdG9yICk7Cgl9CglyZXR1cm4gbWFya0Z1bmN0aW9uKCBmdW5jdGlvbiggc2VlZCwgcmVzdWx0cywgY29udGV4dCwgeG1sICkgewoJCXZhciB0ZW1wLCBpLCBlbGVtLCBtYXRjaGVyT3V0LAoJCQlwcmVNYXAgPSBbXSwKCQkJcG9zdE1hcCA9IFtdLAoJCQlwcmVleGlzdGluZyA9IHJlc3VsdHMubGVuZ3RoLAoKCQkJLy8gR2V0IGluaXRpYWwgZWxlbWVudHMgZnJvbSBzZWVkIG9yIGNvbnRleHQKCQkJZWxlbXMgPSBzZWVkIHx8CgkJCQltdWx0aXBsZUNvbnRleHRzKCBzZWxlY3RvciB8fCAiKiIsCgkJCQkJY29udGV4dC5ub2RlVHlwZSA/IFsgY29udGV4dCBdIDogY29udGV4dCwgW10gKSwKCgkJCS8vIFByZWZpbHRlciB0byBnZXQgbWF0Y2hlciBpbnB1dCwgcHJlc2VydmluZyBhIG1hcCBmb3Igc2VlZC1yZXN1bHRzIHN5bmNocm9uaXphdGlvbgoJCQltYXRjaGVySW4gPSBwcmVGaWx0ZXIgJiYgKCBzZWVkIHx8ICFzZWxlY3RvciApID8KCQkJCWNvbmRlbnNlKCBlbGVtcywgcHJlTWFwLCBwcmVGaWx0ZXIsIGNvbnRleHQsIHhtbCApIDoKCQkJCWVsZW1zOwoKCQlpZiAoIG1hdGNoZXIgKSB7CgoJCQkvLyBJZiB3ZSBoYXZlIGEgcG9zdEZpbmRlciwgb3IgZmlsdGVyZWQgc2VlZCwgb3Igbm9uLXNlZWQgcG9zdEZpbHRlcgoJCQkvLyBvciBwcmVleGlzdGluZyByZXN1bHRzLAoJCQltYXRjaGVyT3V0ID0gcG9zdEZpbmRlciB8fCAoIHNlZWQgPyBwcmVGaWx0ZXIgOiBwcmVleGlzdGluZyB8fCBwb3N0RmlsdGVyICkgPwoKCQkJCS8vIC4uLmludGVybWVkaWF0ZSBwcm9jZXNzaW5nIGlzIG5lY2Vzc2FyeQoJCQkJW10gOgoKCQkJCS8vIC4uLm90aGVyd2lzZSB1c2UgcmVzdWx0cyBkaXJlY3RseQoJCQkJcmVzdWx0czsKCgkJCS8vIEZpbmQgcHJpbWFyeSBtYXRjaGVzCgkJCW1hdGNoZXIoIG1hdGNoZXJJbiwgbWF0Y2hlck91dCwgY29udGV4dCwgeG1sICk7CgkJfSBlbHNlIHsKCQkJbWF0Y2hlck91dCA9IG1hdGNoZXJJbjsKCQl9CgoJCS8vIEFwcGx5IHBvc3RGaWx0ZXIKCQlpZiAoIHBvc3RGaWx0ZXIgKSB7CgkJCXRlbXAgPSBjb25kZW5zZSggbWF0Y2hlck91dCwgcG9zdE1hcCApOwoJCQlwb3N0RmlsdGVyKCB0ZW1wLCBbXSwgY29udGV4dCwgeG1sICk7CgoJCQkvLyBVbi1tYXRjaCBmYWlsaW5nIGVsZW1lbnRzIGJ5IG1vdmluZyB0aGVtIGJhY2sgdG8gbWF0Y2hlckluCgkJCWkgPSB0ZW1wLmxlbmd0aDsKCQkJd2hpbGUgKCBpLS0gKSB7CgkJCQlpZiAoICggZWxlbSA9IHRlbXBbIGkgXSApICkgewoJCQkJCW1hdGNoZXJPdXRbIHBvc3RNYXBbIGkgXSBdID0gISggbWF0Y2hlckluWyBwb3N0TWFwWyBpIF0gXSA9IGVsZW0gKTsKCQkJCX0KCQkJfQoJCX0KCgkJaWYgKCBzZWVkICkgewoJCQlpZiAoIHBvc3RGaW5kZXIgfHwgcHJlRmlsdGVyICkgewoJCQkJaWYgKCBwb3N0RmluZGVyICkgewoKCQkJCQkvLyBHZXQgdGhlIGZpbmFsIG1hdGNoZXJPdXQgYnkgY29uZGVuc2luZyB0aGlzIGludGVybWVkaWF0ZSBpbnRvIHBvc3RGaW5kZXIgY29udGV4dHMKCQkJCQl0ZW1wID0gW107CgkJCQkJaSA9IG1hdGNoZXJPdXQubGVuZ3RoOwoJCQkJCXdoaWxlICggaS0tICkgewoJCQkJCQlpZiAoICggZWxlbSA9IG1hdGNoZXJPdXRbIGkgXSApICkgewoKCQkJCQkJCS8vIFJlc3RvcmUgbWF0Y2hlckluIHNpbmNlIGVsZW0gaXMgbm90IHlldCBhIGZpbmFsIG1hdGNoCgkJCQkJCQl0ZW1wLnB1c2goICggbWF0Y2hlckluWyBpIF0gPSBlbGVtICkgKTsKCQkJCQkJfQoJCQkJCX0KCQkJCQlwb3N0RmluZGVyKCBudWxsLCAoIG1hdGNoZXJPdXQgPSBbXSApLCB0ZW1wLCB4bWwgKTsKCQkJCX0KCgkJCQkvLyBNb3ZlIG1hdGNoZWQgZWxlbWVudHMgZnJvbSBzZWVkIHRvIHJlc3VsdHMgdG8ga2VlcCB0aGVtIHN5bmNocm9uaXplZAoJCQkJaSA9IG1hdGNoZXJPdXQubGVuZ3RoOwoJCQkJd2hpbGUgKCBpLS0gKSB7CgkJCQkJaWYgKCAoIGVsZW0gPSBtYXRjaGVyT3V0WyBpIF0gKSAmJgoJCQkJCQkoIHRlbXAgPSBwb3N0RmluZGVyID8gaW5kZXhPZi5jYWxsKCBzZWVkLCBlbGVtICkgOiBwcmVNYXBbIGkgXSApID4gLTEgKSB7CgoJCQkJCQlzZWVkWyB0ZW1wIF0gPSAhKCByZXN1bHRzWyB0ZW1wIF0gPSBlbGVtICk7CgkJCQkJfQoJCQkJfQoJCQl9CgoJCS8vIEFkZCBlbGVtZW50cyB0byByZXN1bHRzLCB0aHJvdWdoIHBvc3RGaW5kZXIgaWYgZGVmaW5lZAoJCX0gZWxzZSB7CgkJCW1hdGNoZXJPdXQgPSBjb25kZW5zZSgKCQkJCW1hdGNoZXJPdXQgPT09IHJlc3VsdHMgPwoJCQkJCW1hdGNoZXJPdXQuc3BsaWNlKCBwcmVleGlzdGluZywgbWF0Y2hlck91dC5sZW5ndGggKSA6CgkJCQkJbWF0Y2hlck91dAoJCQkpOwoJCQlpZiAoIHBvc3RGaW5kZXIgKSB7CgkJCQlwb3N0RmluZGVyKCBudWxsLCByZXN1bHRzLCBtYXRjaGVyT3V0LCB4bWwgKTsKCQkJfSBlbHNlIHsKCQkJCXB1c2guYXBwbHkoIHJlc3VsdHMsIG1hdGNoZXJPdXQgKTsKCQkJfQoJCX0KCX0gKTsKfQoKZnVuY3Rpb24gbWF0Y2hlckZyb21Ub2tlbnMoIHRva2VucyApIHsKCXZhciBjaGVja0NvbnRleHQsIG1hdGNoZXIsIGosCgkJbGVuID0gdG9rZW5zLmxlbmd0aCwKCQlsZWFkaW5nUmVsYXRpdmUgPSBFeHByLnJlbGF0aXZlWyB0b2tlbnNbIDAgXS50eXBlIF0sCgkJaW1wbGljaXRSZWxhdGl2ZSA9IGxlYWRpbmdSZWxhdGl2ZSB8fCBFeHByLnJlbGF0aXZlWyAiICIgXSwKCQlpID0gbGVhZGluZ1JlbGF0aXZlID8gMSA6IDAsCgoJCS8vIFRoZSBmb3VuZGF0aW9uYWwgbWF0Y2hlciBlbnN1cmVzIHRoYXQgZWxlbWVudHMgYXJlIHJlYWNoYWJsZSBmcm9tIHRvcC1sZXZlbCBjb250ZXh0KHMpCgkJbWF0Y2hDb250ZXh0ID0gYWRkQ29tYmluYXRvciggZnVuY3Rpb24oIGVsZW0gKSB7CgkJCXJldHVybiBlbGVtID09PSBjaGVja0NvbnRleHQ7CgkJfSwgaW1wbGljaXRSZWxhdGl2ZSwgdHJ1ZSApLAoJCW1hdGNoQW55Q29udGV4dCA9IGFkZENvbWJpbmF0b3IoIGZ1bmN0aW9uKCBlbGVtICkgewoJCQlyZXR1cm4gaW5kZXhPZi5jYWxsKCBjaGVja0NvbnRleHQsIGVsZW0gKSA+IC0xOwoJCX0sIGltcGxpY2l0UmVsYXRpdmUsIHRydWUgKSwKCQltYXRjaGVycyA9IFsgZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHsKCgkJCS8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4KwoJCQkvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhICJQZXJtaXNzaW9uIGRlbmllZCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nCgkJCS8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay4KCQkJLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcQoJCQl2YXIgcmV0ID0gKCAhbGVhZGluZ1JlbGF0aXZlICYmICggeG1sIHx8IGNvbnRleHQgIT0gb3V0ZXJtb3N0Q29udGV4dCApICkgfHwgKAoJCQkJKCBjaGVja0NvbnRleHQgPSBjb250ZXh0ICkubm9kZVR5cGUgPwoJCQkJCW1hdGNoQ29udGV4dCggZWxlbSwgY29udGV4dCwgeG1sICkgOgoJCQkJCW1hdGNoQW55Q29udGV4dCggZWxlbSwgY29udGV4dCwgeG1sICkgKTsKCgkJCS8vIEF2b2lkIGhhbmdpbmcgb250byBlbGVtZW50CgkJCS8vIChzZWUgaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9zaXp6bGUvaXNzdWVzLzI5OSkKCQkJY2hlY2tDb250ZXh0ID0gbnVsbDsKCQkJcmV0dXJuIHJldDsKCQl9IF07CgoJZm9yICggOyBpIDwgbGVuOyBpKysgKSB7CgkJaWYgKCAoIG1hdGNoZXIgPSBFeHByLnJlbGF0aXZlWyB0b2tlbnNbIGkgXS50eXBlIF0gKSApIHsKCQkJbWF0Y2hlcnMgPSBbIGFkZENvbWJpbmF0b3IoIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApLCBtYXRjaGVyICkgXTsKCQl9IGVsc2UgewoJCQltYXRjaGVyID0gRXhwci5maWx0ZXJbIHRva2Vuc1sgaSBdLnR5cGUgXS5hcHBseSggbnVsbCwgdG9rZW5zWyBpIF0ubWF0Y2hlcyApOwoKCQkJLy8gUmV0dXJuIHNwZWNpYWwgdXBvbiBzZWVpbmcgYSBwb3NpdGlvbmFsIG1hdGNoZXIKCQkJaWYgKCBtYXRjaGVyWyBleHBhbmRvIF0gKSB7CgoJCQkJLy8gRmluZCB0aGUgbmV4dCByZWxhdGl2ZSBvcGVyYXRvciAoaWYgYW55KSBmb3IgcHJvcGVyIGhhbmRsaW5nCgkJCQlqID0gKytpOwoJCQkJZm9yICggOyBqIDwgbGVuOyBqKysgKSB7CgkJCQkJaWYgKCBFeHByLnJlbGF0aXZlWyB0b2tlbnNbIGogXS50eXBlIF0gKSB7CgkJCQkJCWJyZWFrOwoJCQkJCX0KCQkJCX0KCQkJCXJldHVybiBzZXRNYXRjaGVyKAoJCQkJCWkgPiAxICYmIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApLAoJCQkJCWkgPiAxICYmIHRvU2VsZWN0b3IoCgoJCQkJCQkvLyBJZiB0aGUgcHJlY2VkaW5nIHRva2VuIHdhcyBhIGRlc2NlbmRhbnQgY29tYmluYXRvciwgaW5zZXJ0IGFuIGltcGxpY2l0IGFueS1lbGVtZW50IGAqYAoJCQkJCQl0b2tlbnMuc2xpY2UoIDAsIGkgLSAxICkKCQkJCQkJCS5jb25jYXQoIHsgdmFsdWU6IHRva2Vuc1sgaSAtIDIgXS50eXBlID09PSAiICIgPyAiKiIgOiAiIiB9ICkKCQkJCQkpLnJlcGxhY2UoIHJ0cmltQ1NTLCAiJDEiICksCgkJCQkJbWF0Y2hlciwKCQkJCQlpIDwgaiAmJiBtYXRjaGVyRnJvbVRva2VucyggdG9rZW5zLnNsaWNlKCBpLCBqICkgKSwKCQkJCQlqIDwgbGVuICYmIG1hdGNoZXJGcm9tVG9rZW5zKCAoIHRva2VucyA9IHRva2Vucy5zbGljZSggaiApICkgKSwKCQkJCQlqIDwgbGVuICYmIHRvU2VsZWN0b3IoIHRva2VucyApCgkJCQkpOwoJCQl9CgkJCW1hdGNoZXJzLnB1c2goIG1hdGNoZXIgKTsKCQl9Cgl9CgoJcmV0dXJuIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApOwp9CgpmdW5jdGlvbiBtYXRjaGVyRnJvbUdyb3VwTWF0Y2hlcnMoIGVsZW1lbnRNYXRjaGVycywgc2V0TWF0Y2hlcnMgKSB7Cgl2YXIgYnlTZXQgPSBzZXRNYXRjaGVycy5sZW5ndGggPiAwLAoJCWJ5RWxlbWVudCA9IGVsZW1lbnRNYXRjaGVycy5sZW5ndGggPiAwLAoJCXN1cGVyTWF0Y2hlciA9IGZ1bmN0aW9uKCBzZWVkLCBjb250ZXh0LCB4bWwsIHJlc3VsdHMsIG91dGVybW9zdCApIHsKCQkJdmFyIGVsZW0sIGosIG1hdGNoZXIsCgkJCQltYXRjaGVkQ291bnQgPSAwLAoJCQkJaSA9ICIwIiwKCQkJCXVubWF0Y2hlZCA9IHNlZWQgJiYgW10sCgkJCQlzZXRNYXRjaGVkID0gW10sCgkJCQljb250ZXh0QmFja3VwID0gb3V0ZXJtb3N0Q29udGV4dCwKCgkJCQkvLyBXZSBtdXN0IGFsd2F5cyBoYXZlIGVpdGhlciBzZWVkIGVsZW1lbnRzIG9yIG91dGVybW9zdCBjb250ZXh0CgkJCQllbGVtcyA9IHNlZWQgfHwgYnlFbGVtZW50ICYmIEV4cHIuZmluZC5UQUcoICIqIiwgb3V0ZXJtb3N0ICksCgoJCQkJLy8gVXNlIGludGVnZXIgZGlycnVucyBpZmYgdGhpcyBpcyB0aGUgb3V0ZXJtb3N0IG1hdGNoZXIKCQkJCWRpcnJ1bnNVbmlxdWUgPSAoIGRpcnJ1bnMgKz0gY29udGV4dEJhY2t1cCA9PSBudWxsID8gMSA6IE1hdGgucmFuZG9tKCkgfHwgMC4xICksCgkJCQlsZW4gPSBlbGVtcy5sZW5ndGg7CgoJCQlpZiAoIG91dGVybW9zdCApIHsKCgkJCQkvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCsKCQkJCS8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgIlBlcm1pc3Npb24gZGVuaWVkIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmcKCQkJCS8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay4KCQkJCS8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXEKCQkJCW91dGVybW9zdENvbnRleHQgPSBjb250ZXh0ID09IGRvY3VtZW50IHx8IGNvbnRleHQgfHwgb3V0ZXJtb3N0OwoJCQl9CgoJCQkvLyBBZGQgZWxlbWVudHMgcGFzc2luZyBlbGVtZW50TWF0Y2hlcnMgZGlyZWN0bHkgdG8gcmVzdWx0cwoJCQkvLyBTdXBwb3J0OiBpT1MgPD03IC0gOSBvbmx5CgkJCS8vIFRvbGVyYXRlIE5vZGVMaXN0IHByb3BlcnRpZXMgKElFOiAibGVuZ3RoIjsgU2FmYXJpOiA8bnVtYmVyPikgbWF0Y2hpbmcKCQkJLy8gZWxlbWVudHMgYnkgaWQuIChzZWUgdHJhYy0xNDE0MikKCQkJZm9yICggOyBpICE9PSBsZW4gJiYgKCBlbGVtID0gZWxlbXNbIGkgXSApICE9IG51bGw7IGkrKyApIHsKCQkJCWlmICggYnlFbGVtZW50ICYmIGVsZW0gKSB7CgkJCQkJaiA9IDA7CgoJCQkJCS8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4KwoJCQkJCS8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgIlBlcm1pc3Npb24gZGVuaWVkIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmcKCQkJCQkvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuCgkJCQkJLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcQoJCQkJCWlmICggIWNvbnRleHQgJiYgZWxlbS5vd25lckRvY3VtZW50ICE9IGRvY3VtZW50ICkgewoJCQkJCQlzZXREb2N1bWVudCggZWxlbSApOwoJCQkJCQl4bWwgPSAhZG9jdW1lbnRJc0hUTUw7CgkJCQkJfQoJCQkJCXdoaWxlICggKCBtYXRjaGVyID0gZWxlbWVudE1hdGNoZXJzWyBqKysgXSApICkgewoJCQkJCQlpZiAoIG1hdGNoZXIoIGVsZW0sIGNvbnRleHQgfHwgZG9jdW1lbnQsIHhtbCApICkgewoJCQkJCQkJcHVzaC5jYWxsKCByZXN1bHRzLCBlbGVtICk7CgkJCQkJCQlicmVhazsKCQkJCQkJfQoJCQkJCX0KCQkJCQlpZiAoIG91dGVybW9zdCApIHsKCQkJCQkJZGlycnVucyA9IGRpcnJ1bnNVbmlxdWU7CgkJCQkJfQoJCQkJfQoKCQkJCS8vIFRyYWNrIHVubWF0Y2hlZCBlbGVtZW50cyBmb3Igc2V0IGZpbHRlcnMKCQkJCWlmICggYnlTZXQgKSB7CgoJCQkJCS8vIFRoZXkgd2lsbCBoYXZlIGdvbmUgdGhyb3VnaCBhbGwgcG9zc2libGUgbWF0Y2hlcnMKCQkJCQlpZiAoICggZWxlbSA9ICFtYXRjaGVyICYmIGVsZW0gKSApIHsKCQkJCQkJbWF0Y2hlZENvdW50LS07CgkJCQkJfQoKCQkJCQkvLyBMZW5ndGhlbiB0aGUgYXJyYXkgZm9yIGV2ZXJ5IGVsZW1lbnQsIG1hdGNoZWQgb3Igbm90CgkJCQkJaWYgKCBzZWVkICkgewoJCQkJCQl1bm1hdGNoZWQucHVzaCggZWxlbSApOwoJCQkJCX0KCQkJCX0KCQkJfQoKCQkJLy8gYGlgIGlzIG5vdyB0aGUgY291bnQgb2YgZWxlbWVudHMgdmlzaXRlZCBhYm92ZSwgYW5kIGFkZGluZyBpdCB0byBgbWF0Y2hlZENvdW50YAoJCQkvLyBtYWtlcyB0aGUgbGF0dGVyIG5vbm5lZ2F0aXZlLgoJCQltYXRjaGVkQ291bnQgKz0gaTsKCgkJCS8vIEFwcGx5IHNldCBmaWx0ZXJzIHRvIHVubWF0Y2hlZCBlbGVtZW50cwoJCQkvLyBOT1RFOiBUaGlzIGNhbiBiZSBza2lwcGVkIGlmIHRoZXJlIGFyZSBubyB1bm1hdGNoZWQgZWxlbWVudHMgKGkuZS4sIGBtYXRjaGVkQ291bnRgCgkJCS8vIGVxdWFscyBgaWApLCB1bmxlc3Mgd2UgZGlkbid0IHZpc2l0IF9hbnlfIGVsZW1lbnRzIGluIHRoZSBhYm92ZSBsb29wIGJlY2F1c2Ugd2UgaGF2ZQoJCQkvLyBubyBlbGVtZW50IG1hdGNoZXJzIGFuZCBubyBzZWVkLgoJCQkvLyBJbmNyZW1lbnRpbmcgYW4gaW5pdGlhbGx5LXN0cmluZyAiMCIgYGlgIGFsbG93cyBgaWAgdG8gcmVtYWluIGEgc3RyaW5nIG9ubHkgaW4gdGhhdAoJCQkvLyBjYXNlLCB3aGljaCB3aWxsIHJlc3VsdCBpbiBhICIwMCIgYG1hdGNoZWRDb3VudGAgdGhhdCBkaWZmZXJzIGZyb20gYGlgIGJ1dCBpcyBhbHNvCgkJCS8vIG51bWVyaWNhbGx5IHplcm8uCgkJCWlmICggYnlTZXQgJiYgaSAhPT0gbWF0Y2hlZENvdW50ICkgewoJCQkJaiA9IDA7CgkJCQl3aGlsZSAoICggbWF0Y2hlciA9IHNldE1hdGNoZXJzWyBqKysgXSApICkgewoJCQkJCW1hdGNoZXIoIHVubWF0Y2hlZCwgc2V0TWF0Y2hlZCwgY29udGV4dCwgeG1sICk7CgkJCQl9CgoJCQkJaWYgKCBzZWVkICkgewoKCQkJCQkvLyBSZWludGVncmF0ZSBlbGVtZW50IG1hdGNoZXMgdG8gZWxpbWluYXRlIHRoZSBuZWVkIGZvciBzb3J0aW5nCgkJCQkJaWYgKCBtYXRjaGVkQ291bnQgPiAwICkgewoJCQkJCQl3aGlsZSAoIGktLSApIHsKCQkJCQkJCWlmICggISggdW5tYXRjaGVkWyBpIF0gfHwgc2V0TWF0Y2hlZFsgaSBdICkgKSB7CgkJCQkJCQkJc2V0TWF0Y2hlZFsgaSBdID0gcG9wLmNhbGwoIHJlc3VsdHMgKTsKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCX0KCgkJCQkJLy8gRGlzY2FyZCBpbmRleCBwbGFjZWhvbGRlciB2YWx1ZXMgdG8gZ2V0IG9ubHkgYWN0dWFsIG1hdGNoZXMKCQkJCQlzZXRNYXRjaGVkID0gY29uZGVuc2UoIHNldE1hdGNoZWQgKTsKCQkJCX0KCgkJCQkvLyBBZGQgbWF0Y2hlcyB0byByZXN1bHRzCgkJCQlwdXNoLmFwcGx5KCByZXN1bHRzLCBzZXRNYXRjaGVkICk7CgoJCQkJLy8gU2VlZGxlc3Mgc2V0IG1hdGNoZXMgc3VjY2VlZGluZyBtdWx0aXBsZSBzdWNjZXNzZnVsIG1hdGNoZXJzIHN0aXB1bGF0ZSBzb3J0aW5nCgkJCQlpZiAoIG91dGVybW9zdCAmJiAhc2VlZCAmJiBzZXRNYXRjaGVkLmxlbmd0aCA+IDAgJiYKCQkJCQkoIG1hdGNoZWRDb3VudCArIHNldE1hdGNoZXJzLmxlbmd0aCApID4gMSApIHsKCgkJCQkJalF1ZXJ5LnVuaXF1ZVNvcnQoIHJlc3VsdHMgKTsKCQkJCX0KCQkJfQoKCQkJLy8gT3ZlcnJpZGUgbWFuaXB1bGF0aW9uIG9mIGdsb2JhbHMgYnkgbmVzdGVkIG1hdGNoZXJzCgkJCWlmICggb3V0ZXJtb3N0ICkgewoJCQkJZGlycnVucyA9IGRpcnJ1bnNVbmlxdWU7CgkJCQlvdXRlcm1vc3RDb250ZXh0ID0gY29udGV4dEJhY2t1cDsKCQkJfQoKCQkJcmV0dXJuIHVubWF0Y2hlZDsKCQl9OwoKCXJldHVybiBieVNldCA/CgkJbWFya0Z1bmN0aW9uKCBzdXBlck1hdGNoZXIgKSA6CgkJc3VwZXJNYXRjaGVyOwp9CgpmdW5jdGlvbiBjb21waWxlKCBzZWxlY3RvciwgbWF0Y2ggLyogSW50ZXJuYWwgVXNlIE9ubHkgKi8gKSB7Cgl2YXIgaSwKCQlzZXRNYXRjaGVycyA9IFtdLAoJCWVsZW1lbnRNYXRjaGVycyA9IFtdLAoJCWNhY2hlZCA9IGNvbXBpbGVyQ2FjaGVbIHNlbGVjdG9yICsgIiAiIF07CgoJaWYgKCAhY2FjaGVkICkgewoKCQkvLyBHZW5lcmF0ZSBhIGZ1bmN0aW9uIG9mIHJlY3Vyc2l2ZSBmdW5jdGlvbnMgdGhhdCBjYW4gYmUgdXNlZCB0byBjaGVjayBlYWNoIGVsZW1lbnQKCQlpZiAoICFtYXRjaCApIHsKCQkJbWF0Y2ggPSB0b2tlbml6ZSggc2VsZWN0b3IgKTsKCQl9CgkJaSA9IG1hdGNoLmxlbmd0aDsKCQl3aGlsZSAoIGktLSApIHsKCQkJY2FjaGVkID0gbWF0Y2hlckZyb21Ub2tlbnMoIG1hdGNoWyBpIF0gKTsKCQkJaWYgKCBjYWNoZWRbIGV4cGFuZG8gXSApIHsKCQkJCXNldE1hdGNoZXJzLnB1c2goIGNhY2hlZCApOwoJCQl9IGVsc2UgewoJCQkJZWxlbWVudE1hdGNoZXJzLnB1c2goIGNhY2hlZCApOwoJCQl9CgkJfQoKCQkvLyBDYWNoZSB0aGUgY29tcGlsZWQgZnVuY3Rpb24KCQljYWNoZWQgPSBjb21waWxlckNhY2hlKCBzZWxlY3RvciwKCQkJbWF0Y2hlckZyb21Hcm91cE1hdGNoZXJzKCBlbGVtZW50TWF0Y2hlcnMsIHNldE1hdGNoZXJzICkgKTsKCgkJLy8gU2F2ZSBzZWxlY3RvciBhbmQgdG9rZW5pemF0aW9uCgkJY2FjaGVkLnNlbGVjdG9yID0gc2VsZWN0b3I7Cgl9CglyZXR1cm4gY2FjaGVkOwp9CgovKioKICogQSBsb3ctbGV2ZWwgc2VsZWN0aW9uIGZ1bmN0aW9uIHRoYXQgd29ya3Mgd2l0aCBqUXVlcnkncyBjb21waWxlZAogKiAgc2VsZWN0b3IgZnVuY3Rpb25zCiAqIEBwYXJhbSB7U3RyaW5nfEZ1bmN0aW9ufSBzZWxlY3RvciBBIHNlbGVjdG9yIG9yIGEgcHJlLWNvbXBpbGVkCiAqICBzZWxlY3RvciBmdW5jdGlvbiBidWlsdCB3aXRoIGpRdWVyeSBzZWxlY3RvciBjb21waWxlCiAqIEBwYXJhbSB7RWxlbWVudH0gY29udGV4dAogKiBAcGFyYW0ge0FycmF5fSBbcmVzdWx0c10KICogQHBhcmFtIHtBcnJheX0gW3NlZWRdIEEgc2V0IG9mIGVsZW1lbnRzIHRvIG1hdGNoIGFnYWluc3QKICovCmZ1bmN0aW9uIHNlbGVjdCggc2VsZWN0b3IsIGNvbnRleHQsIHJlc3VsdHMsIHNlZWQgKSB7Cgl2YXIgaSwgdG9rZW5zLCB0b2tlbiwgdHlwZSwgZmluZCwKCQljb21waWxlZCA9IHR5cGVvZiBzZWxlY3RvciA9PT0gImZ1bmN0aW9uIiAmJiBzZWxlY3RvciwKCQltYXRjaCA9ICFzZWVkICYmIHRva2VuaXplKCAoIHNlbGVjdG9yID0gY29tcGlsZWQuc2VsZWN0b3IgfHwgc2VsZWN0b3IgKSApOwoKCXJlc3VsdHMgPSByZXN1bHRzIHx8IFtdOwoKCS8vIFRyeSB0byBtaW5pbWl6ZSBvcGVyYXRpb25zIGlmIHRoZXJlIGlzIG9ubHkgb25lIHNlbGVjdG9yIGluIHRoZSBsaXN0IGFuZCBubyBzZWVkCgkvLyAodGhlIGxhdHRlciBvZiB3aGljaCBndWFyYW50ZWVzIHVzIGNvbnRleHQpCglpZiAoIG1hdGNoLmxlbmd0aCA9PT0gMSApIHsKCgkJLy8gUmVkdWNlIGNvbnRleHQgaWYgdGhlIGxlYWRpbmcgY29tcG91bmQgc2VsZWN0b3IgaXMgYW4gSUQKCQl0b2tlbnMgPSBtYXRjaFsgMCBdID0gbWF0Y2hbIDAgXS5zbGljZSggMCApOwoJCWlmICggdG9rZW5zLmxlbmd0aCA+IDIgJiYgKCB0b2tlbiA9IHRva2Vuc1sgMCBdICkudHlwZSA9PT0gIklEIiAmJgoJCQkJY29udGV4dC5ub2RlVHlwZSA9PT0gOSAmJiBkb2N1bWVudElzSFRNTCAmJiBFeHByLnJlbGF0aXZlWyB0b2tlbnNbIDEgXS50eXBlIF0gKSB7CgoJCQljb250ZXh0ID0gKCBFeHByLmZpbmQuSUQoCgkJCQl0b2tlbi5tYXRjaGVzWyAwIF0ucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKSwKCQkJCWNvbnRleHQKCQkJKSB8fCBbXSApWyAwIF07CgkJCWlmICggIWNvbnRleHQgKSB7CgkJCQlyZXR1cm4gcmVzdWx0czsKCgkJCS8vIFByZWNvbXBpbGVkIG1hdGNoZXJzIHdpbGwgc3RpbGwgdmVyaWZ5IGFuY2VzdHJ5LCBzbyBzdGVwIHVwIGEgbGV2ZWwKCQkJfSBlbHNlIGlmICggY29tcGlsZWQgKSB7CgkJCQljb250ZXh0ID0gY29udGV4dC5wYXJlbnROb2RlOwoJCQl9CgoJCQlzZWxlY3RvciA9IHNlbGVjdG9yLnNsaWNlKCB0b2tlbnMuc2hpZnQoKS52YWx1ZS5sZW5ndGggKTsKCQl9CgoJCS8vIEZldGNoIGEgc2VlZCBzZXQgZm9yIHJpZ2h0LXRvLWxlZnQgbWF0Y2hpbmcKCQlpID0gbWF0Y2hFeHByLm5lZWRzQ29udGV4dC50ZXN0KCBzZWxlY3RvciApID8gMCA6IHRva2Vucy5sZW5ndGg7CgkJd2hpbGUgKCBpLS0gKSB7CgkJCXRva2VuID0gdG9rZW5zWyBpIF07CgoJCQkvLyBBYm9ydCBpZiB3ZSBoaXQgYSBjb21iaW5hdG9yCgkJCWlmICggRXhwci5yZWxhdGl2ZVsgKCB0eXBlID0gdG9rZW4udHlwZSApIF0gKSB7CgkJCQlicmVhazsKCQkJfQoJCQlpZiAoICggZmluZCA9IEV4cHIuZmluZFsgdHlwZSBdICkgKSB7CgoJCQkJLy8gU2VhcmNoLCBleHBhbmRpbmcgY29udGV4dCBmb3IgbGVhZGluZyBzaWJsaW5nIGNvbWJpbmF0b3JzCgkJCQlpZiAoICggc2VlZCA9IGZpbmQoCgkJCQkJdG9rZW4ubWF0Y2hlc1sgMCBdLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICksCgkJCQkJcnNpYmxpbmcudGVzdCggdG9rZW5zWyAwIF0udHlwZSApICYmCgkJCQkJCXRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fCBjb250ZXh0CgkJCQkpICkgKSB7CgoJCQkJCS8vIElmIHNlZWQgaXMgZW1wdHkgb3Igbm8gdG9rZW5zIHJlbWFpbiwgd2UgY2FuIHJldHVybiBlYXJseQoJCQkJCXRva2Vucy5zcGxpY2UoIGksIDEgKTsKCQkJCQlzZWxlY3RvciA9IHNlZWQubGVuZ3RoICYmIHRvU2VsZWN0b3IoIHRva2VucyApOwoJCQkJCWlmICggIXNlbGVjdG9yICkgewoJCQkJCQlwdXNoLmFwcGx5KCByZXN1bHRzLCBzZWVkICk7CgkJCQkJCXJldHVybiByZXN1bHRzOwoJCQkJCX0KCgkJCQkJYnJlYWs7CgkJCQl9CgkJCX0KCQl9Cgl9CgoJLy8gQ29tcGlsZSBhbmQgZXhlY3V0ZSBhIGZpbHRlcmluZyBmdW5jdGlvbiBpZiBvbmUgaXMgbm90IHByb3ZpZGVkCgkvLyBQcm92aWRlIGBtYXRjaGAgdG8gYXZvaWQgcmV0b2tlbml6YXRpb24gaWYgd2UgbW9kaWZpZWQgdGhlIHNlbGVjdG9yIGFib3ZlCgkoIGNvbXBpbGVkIHx8IGNvbXBpbGUoIHNlbGVjdG9yLCBtYXRjaCApICkoCgkJc2VlZCwKCQljb250ZXh0LAoJCSFkb2N1bWVudElzSFRNTCwKCQlyZXN1bHRzLAoJCSFjb250ZXh0IHx8IHJzaWJsaW5nLnRlc3QoIHNlbGVjdG9yICkgJiYgdGVzdENvbnRleHQoIGNvbnRleHQucGFyZW50Tm9kZSApIHx8IGNvbnRleHQKCSk7CglyZXR1cm4gcmVzdWx0czsKfQoKLy8gT25lLXRpbWUgYXNzaWdubWVudHMKCi8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgLSA0LjErCi8vIFNvcnQgc3RhYmlsaXR5CnN1cHBvcnQuc29ydFN0YWJsZSA9IGV4cGFuZG8uc3BsaXQoICIiICkuc29ydCggc29ydE9yZGVyICkuam9pbiggIiIgKSA9PT0gZXhwYW5kbzsKCi8vIEluaXRpYWxpemUgYWdhaW5zdCB0aGUgZGVmYXVsdCBkb2N1bWVudApzZXREb2N1bWVudCgpOwoKLy8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCAtIDQuMSsKLy8gRGV0YWNoZWQgbm9kZXMgY29uZm91bmRpbmdseSBmb2xsb3cgKmVhY2ggb3RoZXIqCnN1cHBvcnQuc29ydERldGFjaGVkID0gYXNzZXJ0KCBmdW5jdGlvbiggZWwgKSB7CgoJLy8gU2hvdWxkIHJldHVybiAxLCBidXQgcmV0dXJucyA0IChmb2xsb3dpbmcpCglyZXR1cm4gZWwuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICJmaWVsZHNldCIgKSApICYgMTsKfSApOwoKalF1ZXJ5LmZpbmQgPSBmaW5kOwoKLy8gRGVwcmVjYXRlZApqUXVlcnkuZXhwclsgIjoiIF0gPSBqUXVlcnkuZXhwci5wc2V1ZG9zOwpqUXVlcnkudW5pcXVlID0galF1ZXJ5LnVuaXF1ZVNvcnQ7CgovLyBUaGVzZSBoYXZlIGFsd2F5cyBiZWVuIHByaXZhdGUsIGJ1dCB0aGV5IHVzZWQgdG8gYmUgZG9jdW1lbnRlZCBhcyBwYXJ0IG9mCi8vIFNpenpsZSBzbyBsZXQncyBtYWludGFpbiB0aGVtIGZvciBub3cgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHB1cnBvc2VzLgpmaW5kLmNvbXBpbGUgPSBjb21waWxlOwpmaW5kLnNlbGVjdCA9IHNlbGVjdDsKZmluZC5zZXREb2N1bWVudCA9IHNldERvY3VtZW50OwpmaW5kLnRva2VuaXplID0gdG9rZW5pemU7CgpmaW5kLmVzY2FwZSA9IGpRdWVyeS5lc2NhcGVTZWxlY3RvcjsKZmluZC5nZXRUZXh0ID0galF1ZXJ5LnRleHQ7CmZpbmQuaXNYTUwgPSBqUXVlcnkuaXNYTUxEb2M7CmZpbmQuc2VsZWN0b3JzID0galF1ZXJ5LmV4cHI7CmZpbmQuc3VwcG9ydCA9IGpRdWVyeS5zdXBwb3J0OwpmaW5kLnVuaXF1ZVNvcnQgPSBqUXVlcnkudW5pcXVlU29ydDsKCgkvKiBlc2xpbnQtZW5hYmxlICovCgp9ICkoKTsKCgp2YXIgZGlyID0gZnVuY3Rpb24oIGVsZW0sIGRpciwgdW50aWwgKSB7Cgl2YXIgbWF0Y2hlZCA9IFtdLAoJCXRydW5jYXRlID0gdW50aWwgIT09IHVuZGVmaW5lZDsKCgl3aGlsZSAoICggZWxlbSA9IGVsZW1bIGRpciBdICkgJiYgZWxlbS5ub2RlVHlwZSAhPT0gOSApIHsKCQlpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7CgkJCWlmICggdHJ1bmNhdGUgJiYgalF1ZXJ5KCBlbGVtICkuaXMoIHVudGlsICkgKSB7CgkJCQlicmVhazsKCQkJfQoJCQltYXRjaGVkLnB1c2goIGVsZW0gKTsKCQl9Cgl9CglyZXR1cm4gbWF0Y2hlZDsKfTsKCgp2YXIgc2libGluZ3MgPSBmdW5jdGlvbiggbiwgZWxlbSApIHsKCXZhciBtYXRjaGVkID0gW107CgoJZm9yICggOyBuOyBuID0gbi5uZXh0U2libGluZyApIHsKCQlpZiAoIG4ubm9kZVR5cGUgPT09IDEgJiYgbiAhPT0gZWxlbSApIHsKCQkJbWF0Y2hlZC5wdXNoKCBuICk7CgkJfQoJfQoKCXJldHVybiBtYXRjaGVkOwp9OwoKCnZhciBybmVlZHNDb250ZXh0ID0galF1ZXJ5LmV4cHIubWF0Y2gubmVlZHNDb250ZXh0OwoKdmFyIHJzaW5nbGVUYWcgPSAoIC9ePChbYS16XVteXC9cMD46XHgyMFx0XHJcblxmXSopW1x4MjBcdFxyXG5cZl0qXC8/Pig/OjxcL1wxPnwpJC9pICk7CgoKCi8vIEltcGxlbWVudCB0aGUgaWRlbnRpY2FsIGZ1bmN0aW9uYWxpdHkgZm9yIGZpbHRlciBhbmQgbm90CmZ1bmN0aW9uIHdpbm5vdyggZWxlbWVudHMsIHF1YWxpZmllciwgbm90ICkgewoJaWYgKCBpc0Z1bmN0aW9uKCBxdWFsaWZpZXIgKSApIHsKCQlyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSwgaSApIHsKCQkJcmV0dXJuICEhcXVhbGlmaWVyLmNhbGwoIGVsZW0sIGksIGVsZW0gKSAhPT0gbm90OwoJCX0gKTsKCX0KCgkvLyBTaW5nbGUgZWxlbWVudAoJaWYgKCBxdWFsaWZpZXIubm9kZVR5cGUgKSB7CgkJcmV0dXJuIGpRdWVyeS5ncmVwKCBlbGVtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7CgkJCXJldHVybiAoIGVsZW0gPT09IHF1YWxpZmllciApICE9PSBub3Q7CgkJfSApOwoJfQoKCS8vIEFycmF5bGlrZSBvZiBlbGVtZW50cyAoalF1ZXJ5LCBhcmd1bWVudHMsIEFycmF5KQoJaWYgKCB0eXBlb2YgcXVhbGlmaWVyICE9PSAic3RyaW5nIiApIHsKCQlyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHsKCQkJcmV0dXJuICggaW5kZXhPZi5jYWxsKCBxdWFsaWZpZXIsIGVsZW0gKSA+IC0xICkgIT09IG5vdDsKCQl9ICk7Cgl9CgoJLy8gRmlsdGVyZWQgZGlyZWN0bHkgZm9yIGJvdGggc2ltcGxlIGFuZCBjb21wbGV4IHNlbGVjdG9ycwoJcmV0dXJuIGpRdWVyeS5maWx0ZXIoIHF1YWxpZmllciwgZWxlbWVudHMsIG5vdCApOwp9CgpqUXVlcnkuZmlsdGVyID0gZnVuY3Rpb24oIGV4cHIsIGVsZW1zLCBub3QgKSB7Cgl2YXIgZWxlbSA9IGVsZW1zWyAwIF07CgoJaWYgKCBub3QgKSB7CgkJZXhwciA9ICI6bm90KCIgKyBleHByICsgIikiOwoJfQoKCWlmICggZWxlbXMubGVuZ3RoID09PSAxICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7CgkJcmV0dXJuIGpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvciggZWxlbSwgZXhwciApID8gWyBlbGVtIF0gOiBbXTsKCX0KCglyZXR1cm4galF1ZXJ5LmZpbmQubWF0Y2hlcyggZXhwciwgalF1ZXJ5LmdyZXAoIGVsZW1zLCBmdW5jdGlvbiggZWxlbSApIHsKCQlyZXR1cm4gZWxlbS5ub2RlVHlwZSA9PT0gMTsKCX0gKSApOwp9OwoKalF1ZXJ5LmZuLmV4dGVuZCggewoJZmluZDogZnVuY3Rpb24oIHNlbGVjdG9yICkgewoJCXZhciBpLCByZXQsCgkJCWxlbiA9IHRoaXMubGVuZ3RoLAoJCQlzZWxmID0gdGhpczsKCgkJaWYgKCB0eXBlb2Ygc2VsZWN0b3IgIT09ICJzdHJpbmciICkgewoJCQlyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGpRdWVyeSggc2VsZWN0b3IgKS5maWx0ZXIoIGZ1bmN0aW9uKCkgewoJCQkJZm9yICggaSA9IDA7IGkgPCBsZW47IGkrKyApIHsKCQkJCQlpZiAoIGpRdWVyeS5jb250YWlucyggc2VsZlsgaSBdLCB0aGlzICkgKSB7CgkJCQkJCXJldHVybiB0cnVlOwoJCQkJCX0KCQkJCX0KCQkJfSApICk7CgkJfQoKCQlyZXQgPSB0aGlzLnB1c2hTdGFjayggW10gKTsKCgkJZm9yICggaSA9IDA7IGkgPCBsZW47IGkrKyApIHsKCQkJalF1ZXJ5LmZpbmQoIHNlbGVjdG9yLCBzZWxmWyBpIF0sIHJldCApOwoJCX0KCgkJcmV0dXJuIGxlbiA+IDEgPyBqUXVlcnkudW5pcXVlU29ydCggcmV0ICkgOiByZXQ7Cgl9LAoJZmlsdGVyOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7CgkJcmV0dXJuIHRoaXMucHVzaFN0YWNrKCB3aW5ub3coIHRoaXMsIHNlbGVjdG9yIHx8IFtdLCBmYWxzZSApICk7Cgl9LAoJbm90OiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7CgkJcmV0dXJuIHRoaXMucHVzaFN0YWNrKCB3aW5ub3coIHRoaXMsIHNlbGVjdG9yIHx8IFtdLCB0cnVlICkgKTsKCX0sCglpczogZnVuY3Rpb24oIHNlbGVjdG9yICkgewoJCXJldHVybiAhIXdpbm5vdygKCQkJdGhpcywKCgkJCS8vIElmIHRoaXMgaXMgYSBwb3NpdGlvbmFsL3JlbGF0aXZlIHNlbGVjdG9yLCBjaGVjayBtZW1iZXJzaGlwIGluIHRoZSByZXR1cm5lZCBzZXQKCQkJLy8gc28gJCgicDpmaXJzdCIpLmlzKCJwOmxhc3QiKSB3b24ndCByZXR1cm4gdHJ1ZSBmb3IgYSBkb2Mgd2l0aCB0d28gInAiLgoJCQl0eXBlb2Ygc2VsZWN0b3IgPT09ICJzdHJpbmciICYmIHJuZWVkc0NvbnRleHQudGVzdCggc2VsZWN0b3IgKSA/CgkJCQlqUXVlcnkoIHNlbGVjdG9yICkgOgoJCQkJc2VsZWN0b3IgfHwgW10sCgkJCWZhbHNlCgkJKS5sZW5ndGg7Cgl9Cn0gKTsKCgovLyBJbml0aWFsaXplIGEgalF1ZXJ5IG9iamVjdAoKCi8vIEEgY2VudHJhbCByZWZlcmVuY2UgdG8gdGhlIHJvb3QgalF1ZXJ5KGRvY3VtZW50KQp2YXIgcm9vdGpRdWVyeSwKCgkvLyBBIHNpbXBsZSB3YXkgdG8gY2hlY2sgZm9yIEhUTUwgc3RyaW5ncwoJLy8gUHJpb3JpdGl6ZSAjaWQgb3ZlciA8dGFnPiB0byBhdm9pZCBYU1MgdmlhIGxvY2F0aW9uLmhhc2ggKHRyYWMtOTUyMSkKCS8vIFN0cmljdCBIVE1MIHJlY29nbml0aW9uICh0cmFjLTExMjkwOiBtdXN0IHN0YXJ0IHdpdGggPCkKCS8vIFNob3J0Y3V0IHNpbXBsZSAjaWQgY2FzZSBmb3Igc3BlZWQKCXJxdWlja0V4cHIgPSAvXig/OlxzKig8W1x3XFddKz4pW14+XSp8IyhbXHctXSspKSQvLAoKCWluaXQgPSBqUXVlcnkuZm4uaW5pdCA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCwgcm9vdCApIHsKCQl2YXIgbWF0Y2gsIGVsZW07CgoJCS8vIEhBTkRMRTogJCgiIiksICQobnVsbCksICQodW5kZWZpbmVkKSwgJChmYWxzZSkKCQlpZiAoICFzZWxlY3RvciApIHsKCQkJcmV0dXJuIHRoaXM7CgkJfQoKCQkvLyBNZXRob2QgaW5pdCgpIGFjY2VwdHMgYW4gYWx0ZXJuYXRlIHJvb3RqUXVlcnkKCQkvLyBzbyBtaWdyYXRlIGNhbiBzdXBwb3J0IGpRdWVyeS5zdWIgKGdoLTIxMDEpCgkJcm9vdCA9IHJvb3QgfHwgcm9vdGpRdWVyeTsKCgkJLy8gSGFuZGxlIEhUTUwgc3RyaW5ncwoJCWlmICggdHlwZW9mIHNlbGVjdG9yID09PSAic3RyaW5nIiApIHsKCQkJaWYgKCBzZWxlY3RvclsgMCBdID09PSAiPCIgJiYKCQkJCXNlbGVjdG9yWyBzZWxlY3Rvci5sZW5ndGggLSAxIF0gPT09ICI+IiAmJgoJCQkJc2VsZWN0b3IubGVuZ3RoID49IDMgKSB7CgoJCQkJLy8gQXNzdW1lIHRoYXQgc3RyaW5ncyB0aGF0IHN0YXJ0IGFuZCBlbmQgd2l0aCA8PiBhcmUgSFRNTCBhbmQgc2tpcCB0aGUgcmVnZXggY2hlY2sKCQkJCW1hdGNoID0gWyBudWxsLCBzZWxlY3RvciwgbnVsbCBdOwoKCQkJfSBlbHNlIHsKCQkJCW1hdGNoID0gcnF1aWNrRXhwci5leGVjKCBzZWxlY3RvciApOwoJCQl9CgoJCQkvLyBNYXRjaCBodG1sIG9yIG1ha2Ugc3VyZSBubyBjb250ZXh0IGlzIHNwZWNpZmllZCBmb3IgI2lkCgkJCWlmICggbWF0Y2ggJiYgKCBtYXRjaFsgMSBdIHx8ICFjb250ZXh0ICkgKSB7CgoJCQkJLy8gSEFORExFOiAkKGh0bWwpIC0+ICQoYXJyYXkpCgkJCQlpZiAoIG1hdGNoWyAxIF0gKSB7CgkJCQkJY29udGV4dCA9IGNvbnRleHQgaW5zdGFuY2VvZiBqUXVlcnkgPyBjb250ZXh0WyAwIF0gOiBjb250ZXh0OwoKCQkJCQkvLyBPcHRpb24gdG8gcnVuIHNjcmlwdHMgaXMgdHJ1ZSBmb3IgYmFjay1jb21wYXQKCQkJCQkvLyBJbnRlbnRpb25hbGx5IGxldCB0aGUgZXJyb3IgYmUgdGhyb3duIGlmIHBhcnNlSFRNTCBpcyBub3QgcHJlc2VudAoJCQkJCWpRdWVyeS5tZXJnZSggdGhpcywgalF1ZXJ5LnBhcnNlSFRNTCgKCQkJCQkJbWF0Y2hbIDEgXSwKCQkJCQkJY29udGV4dCAmJiBjb250ZXh0Lm5vZGVUeXBlID8gY29udGV4dC5vd25lckRvY3VtZW50IHx8IGNvbnRleHQgOiBkb2N1bWVudCwKCQkJCQkJdHJ1ZQoJCQkJCSkgKTsKCgkJCQkJLy8gSEFORExFOiAkKGh0bWwsIHByb3BzKQoJCQkJCWlmICggcnNpbmdsZVRhZy50ZXN0KCBtYXRjaFsgMSBdICkgJiYgalF1ZXJ5LmlzUGxhaW5PYmplY3QoIGNvbnRleHQgKSApIHsKCQkJCQkJZm9yICggbWF0Y2ggaW4gY29udGV4dCApIHsKCgkJCQkJCQkvLyBQcm9wZXJ0aWVzIG9mIGNvbnRleHQgYXJlIGNhbGxlZCBhcyBtZXRob2RzIGlmIHBvc3NpYmxlCgkJCQkJCQlpZiAoIGlzRnVuY3Rpb24oIHRoaXNbIG1hdGNoIF0gKSApIHsKCQkJCQkJCQl0aGlzWyBtYXRjaCBdKCBjb250ZXh0WyBtYXRjaCBdICk7CgoJCQkJCQkJLy8gLi4uYW5kIG90aGVyd2lzZSBzZXQgYXMgYXR0cmlidXRlcwoJCQkJCQkJfSBlbHNlIHsKCQkJCQkJCQl0aGlzLmF0dHIoIG1hdGNoLCBjb250ZXh0WyBtYXRjaCBdICk7CgkJCQkJCQl9CgkJCQkJCX0KCQkJCQl9CgoJCQkJCXJldHVybiB0aGlzOwoKCQkJCS8vIEhBTkRMRTogJCgjaWQpCgkJCQl9IGVsc2UgewoJCQkJCWVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggbWF0Y2hbIDIgXSApOwoKCQkJCQlpZiAoIGVsZW0gKSB7CgoJCQkJCQkvLyBJbmplY3QgdGhlIGVsZW1lbnQgZGlyZWN0bHkgaW50byB0aGUgalF1ZXJ5IG9iamVjdAoJCQkJCQl0aGlzWyAwIF0gPSBlbGVtOwoJCQkJCQl0aGlzLmxlbmd0aCA9IDE7CgkJCQkJfQoJCQkJCXJldHVybiB0aGlzOwoJCQkJfQoKCQkJLy8gSEFORExFOiAkKGV4cHIsICQoLi4uKSkKCQkJfSBlbHNlIGlmICggIWNvbnRleHQgfHwgY29udGV4dC5qcXVlcnkgKSB7CgkJCQlyZXR1cm4gKCBjb250ZXh0IHx8IHJvb3QgKS5maW5kKCBzZWxlY3RvciApOwoKCQkJLy8gSEFORExFOiAkKGV4cHIsIGNvbnRleHQpCgkJCS8vICh3aGljaCBpcyBqdXN0IGVxdWl2YWxlbnQgdG86ICQoY29udGV4dCkuZmluZChleHByKQoJCQl9IGVsc2UgewoJCQkJcmV0dXJuIHRoaXMuY29uc3RydWN0b3IoIGNvbnRleHQgKS5maW5kKCBzZWxlY3RvciApOwoJCQl9CgoJCS8vIEhBTkRMRTogJChET01FbGVtZW50KQoJCX0gZWxzZSBpZiAoIHNlbGVjdG9yLm5vZGVUeXBlICkgewoJCQl0aGlzWyAwIF0gPSBzZWxlY3RvcjsKCQkJdGhpcy5sZW5ndGggPSAxOwoJCQlyZXR1cm4gdGhpczsKCgkJLy8gSEFORExFOiAkKGZ1bmN0aW9uKQoJCS8vIFNob3J0Y3V0IGZvciBkb2N1bWVudCByZWFkeQoJCX0gZWxzZSBpZiAoIGlzRnVuY3Rpb24oIHNlbGVjdG9yICkgKSB7CgkJCXJldHVybiByb290LnJlYWR5ICE9PSB1bmRlZmluZWQgPwoJCQkJcm9vdC5yZWFkeSggc2VsZWN0b3IgKSA6CgoJCQkJLy8gRXhlY3V0ZSBpbW1lZGlhdGVseSBpZiByZWFkeSBpcyBub3QgcHJlc2VudAoJCQkJc2VsZWN0b3IoIGpRdWVyeSApOwoJCX0KCgkJcmV0dXJuIGpRdWVyeS5tYWtlQXJyYXkoIHNlbGVjdG9yLCB0aGlzICk7Cgl9OwoKLy8gR2l2ZSB0aGUgaW5pdCBmdW5jdGlvbiB0aGUgalF1ZXJ5IHByb3RvdHlwZSBmb3IgbGF0ZXIgaW5zdGFudGlhdGlvbgppbml0LnByb3RvdHlwZSA9IGpRdWVyeS5mbjsKCi8vIEluaXRpYWxpemUgY2VudHJhbCByZWZlcmVuY2UKcm9vdGpRdWVyeSA9IGpRdWVyeSggZG9jdW1lbnQgKTsKCgp2YXIgcnBhcmVudHNwcmV2ID0gL14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sCgoJLy8gTWV0aG9kcyBndWFyYW50ZWVkIHRvIHByb2R1Y2UgYSB1bmlxdWUgc2V0IHdoZW4gc3RhcnRpbmcgZnJvbSBhIHVuaXF1ZSBzZXQKCWd1YXJhbnRlZWRVbmlxdWUgPSB7CgkJY2hpbGRyZW46IHRydWUsCgkJY29udGVudHM6IHRydWUsCgkJbmV4dDogdHJ1ZSwKCQlwcmV2OiB0cnVlCgl9OwoKalF1ZXJ5LmZuLmV4dGVuZCggewoJaGFzOiBmdW5jdGlvbiggdGFyZ2V0ICkgewoJCXZhciB0YXJnZXRzID0galF1ZXJ5KCB0YXJnZXQsIHRoaXMgKSwKCQkJbCA9IHRhcmdldHMubGVuZ3RoOwoKCQlyZXR1cm4gdGhpcy5maWx0ZXIoIGZ1bmN0aW9uKCkgewoJCQl2YXIgaSA9IDA7CgkJCWZvciAoIDsgaSA8IGw7IGkrKyApIHsKCQkJCWlmICggalF1ZXJ5LmNvbnRhaW5zKCB0aGlzLCB0YXJnZXRzWyBpIF0gKSApIHsKCQkJCQlyZXR1cm4gdHJ1ZTsKCQkJCX0KCQkJfQoJCX0gKTsKCX0sCgoJY2xvc2VzdDogZnVuY3Rpb24oIHNlbGVjdG9ycywgY29udGV4dCApIHsKCQl2YXIgY3VyLAoJCQlpID0gMCwKCQkJbCA9IHRoaXMubGVuZ3RoLAoJCQltYXRjaGVkID0gW10sCgkJCXRhcmdldHMgPSB0eXBlb2Ygc2VsZWN0b3JzICE9PSAic3RyaW5nIiAmJiBqUXVlcnkoIHNlbGVjdG9ycyApOwoKCQkvLyBQb3NpdGlvbmFsIHNlbGVjdG9ycyBuZXZlciBtYXRjaCwgc2luY2UgdGhlcmUncyBubyBfc2VsZWN0aW9uXyBjb250ZXh0CgkJaWYgKCAhcm5lZWRzQ29udGV4dC50ZXN0KCBzZWxlY3RvcnMgKSApIHsKCQkJZm9yICggOyBpIDwgbDsgaSsrICkgewoJCQkJZm9yICggY3VyID0gdGhpc1sgaSBdOyBjdXIgJiYgY3VyICE9PSBjb250ZXh0OyBjdXIgPSBjdXIucGFyZW50Tm9kZSApIHsKCgkJCQkJLy8gQWx3YXlzIHNraXAgZG9jdW1lbnQgZnJhZ21lbnRzCgkJCQkJaWYgKCBjdXIubm9kZVR5cGUgPCAxMSAmJiAoIHRhcmdldHMgPwoJCQkJCQl0YXJnZXRzLmluZGV4KCBjdXIgKSA+IC0xIDoKCgkJCQkJCS8vIERvbid0IHBhc3Mgbm9uLWVsZW1lbnRzIHRvIGpRdWVyeSNmaW5kCgkJCQkJCWN1ci5ub2RlVHlwZSA9PT0gMSAmJgoJCQkJCQkJalF1ZXJ5LmZpbmQubWF0Y2hlc1NlbGVjdG9yKCBjdXIsIHNlbGVjdG9ycyApICkgKSB7CgoJCQkJCQltYXRjaGVkLnB1c2goIGN1ciApOwoJCQkJCQlicmVhazsKCQkJCQl9CgkJCQl9CgkJCX0KCQl9CgoJCXJldHVybiB0aGlzLnB1c2hTdGFjayggbWF0Y2hlZC5sZW5ndGggPiAxID8galF1ZXJ5LnVuaXF1ZVNvcnQoIG1hdGNoZWQgKSA6IG1hdGNoZWQgKTsKCX0sCgoJLy8gRGV0ZXJtaW5lIHRoZSBwb3NpdGlvbiBvZiBhbiBlbGVtZW50IHdpdGhpbiB0aGUgc2V0CglpbmRleDogZnVuY3Rpb24oIGVsZW0gKSB7CgoJCS8vIE5vIGFyZ3VtZW50LCByZXR1cm4gaW5kZXggaW4gcGFyZW50CgkJaWYgKCAhZWxlbSApIHsKCQkJcmV0dXJuICggdGhpc1sgMCBdICYmIHRoaXNbIDAgXS5wYXJlbnROb2RlICkgPyB0aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aCA6IC0xOwoJCX0KCgkJLy8gSW5kZXggaW4gc2VsZWN0b3IKCQlpZiAoIHR5cGVvZiBlbGVtID09PSAic3RyaW5nIiApIHsKCQkJcmV0dXJuIGluZGV4T2YuY2FsbCggalF1ZXJ5KCBlbGVtICksIHRoaXNbIDAgXSApOwoJCX0KCgkJLy8gTG9jYXRlIHRoZSBwb3NpdGlvbiBvZiB0aGUgZGVzaXJlZCBlbGVtZW50CgkJcmV0dXJuIGluZGV4T2YuY2FsbCggdGhpcywKCgkJCS8vIElmIGl0IHJlY2VpdmVzIGEgalF1ZXJ5IG9iamVjdCwgdGhlIGZpcnN0IGVsZW1lbnQgaXMgdXNlZAoJCQllbGVtLmpxdWVyeSA/IGVsZW1bIDAgXSA6IGVsZW0KCQkpOwoJfSwKCglhZGQ6IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCApIHsKCQlyZXR1cm4gdGhpcy5wdXNoU3RhY2soCgkJCWpRdWVyeS51bmlxdWVTb3J0KAoJCQkJalF1ZXJ5Lm1lcmdlKCB0aGlzLmdldCgpLCBqUXVlcnkoIHNlbGVjdG9yLCBjb250ZXh0ICkgKQoJCQkpCgkJKTsKCX0sCgoJYWRkQmFjazogZnVuY3Rpb24oIHNlbGVjdG9yICkgewoJCXJldHVybiB0aGlzLmFkZCggc2VsZWN0b3IgPT0gbnVsbCA/CgkJCXRoaXMucHJldk9iamVjdCA6IHRoaXMucHJldk9iamVjdC5maWx0ZXIoIHNlbGVjdG9yICkKCQkpOwoJfQp9ICk7CgpmdW5jdGlvbiBzaWJsaW5nKCBjdXIsIGRpciApIHsKCXdoaWxlICggKCBjdXIgPSBjdXJbIGRpciBdICkgJiYgY3VyLm5vZGVUeXBlICE9PSAxICkge30KCXJldHVybiBjdXI7Cn0KCmpRdWVyeS5lYWNoKCB7CglwYXJlbnQ6IGZ1bmN0aW9uKCBlbGVtICkgewoJCXZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7CgkJcmV0dXJuIHBhcmVudCAmJiBwYXJlbnQubm9kZVR5cGUgIT09IDExID8gcGFyZW50IDogbnVsbDsKCX0sCglwYXJlbnRzOiBmdW5jdGlvbiggZWxlbSApIHsKCQlyZXR1cm4gZGlyKCBlbGVtLCAicGFyZW50Tm9kZSIgKTsKCX0sCglwYXJlbnRzVW50aWw6IGZ1bmN0aW9uKCBlbGVtLCBfaSwgdW50aWwgKSB7CgkJcmV0dXJuIGRpciggZWxlbSwgInBhcmVudE5vZGUiLCB1bnRpbCApOwoJfSwKCW5leHQ6IGZ1bmN0aW9uKCBlbGVtICkgewoJCXJldHVybiBzaWJsaW5nKCBlbGVtLCAibmV4dFNpYmxpbmciICk7Cgl9LAoJcHJldjogZnVuY3Rpb24oIGVsZW0gKSB7CgkJcmV0dXJuIHNpYmxpbmcoIGVsZW0sICJwcmV2aW91c1NpYmxpbmciICk7Cgl9LAoJbmV4dEFsbDogZnVuY3Rpb24oIGVsZW0gKSB7CgkJcmV0dXJuIGRpciggZWxlbSwgIm5leHRTaWJsaW5nIiApOwoJfSwKCXByZXZBbGw6IGZ1bmN0aW9uKCBlbGVtICkgewoJCXJldHVybiBkaXIoIGVsZW0sICJwcmV2aW91c1NpYmxpbmciICk7Cgl9LAoJbmV4dFVudGlsOiBmdW5jdGlvbiggZWxlbSwgX2ksIHVudGlsICkgewoJCXJldHVybiBkaXIoIGVsZW0sICJuZXh0U2libGluZyIsIHVudGlsICk7Cgl9LAoJcHJldlVudGlsOiBmdW5jdGlvbiggZWxlbSwgX2ksIHVudGlsICkgewoJCXJldHVybiBkaXIoIGVsZW0sICJwcmV2aW91c1NpYmxpbmciLCB1bnRpbCApOwoJfSwKCXNpYmxpbmdzOiBmdW5jdGlvbiggZWxlbSApIHsKCQlyZXR1cm4gc2libGluZ3MoICggZWxlbS5wYXJlbnROb2RlIHx8IHt9ICkuZmlyc3RDaGlsZCwgZWxlbSApOwoJfSwKCWNoaWxkcmVuOiBmdW5jdGlvbiggZWxlbSApIHsKCQlyZXR1cm4gc2libGluZ3MoIGVsZW0uZmlyc3RDaGlsZCApOwoJfSwKCWNvbnRlbnRzOiBmdW5jdGlvbiggZWxlbSApIHsKCQlpZiAoIGVsZW0uY29udGVudERvY3VtZW50ICE9IG51bGwgJiYKCgkJCS8vIFN1cHBvcnQ6IElFIDExKwoJCQkvLyA8b2JqZWN0PiBlbGVtZW50cyB3aXRoIG5vIGBkYXRhYCBhdHRyaWJ1dGUgaGFzIGFuIG9iamVjdAoJCQkvLyBgY29udGVudERvY3VtZW50YCB3aXRoIGEgYG51bGxgIHByb3RvdHlwZS4KCQkJZ2V0UHJvdG8oIGVsZW0uY29udGVudERvY3VtZW50ICkgKSB7CgoJCQlyZXR1cm4gZWxlbS5jb250ZW50RG9jdW1lbnQ7CgkJfQoKCQkvLyBTdXBwb3J0OiBJRSA5IC0gMTEgb25seSwgaU9TIDcgb25seSwgQW5kcm9pZCBCcm93c2VyIDw9NC4zIG9ubHkKCQkvLyBUcmVhdCB0aGUgdGVtcGxhdGUgZWxlbWVudCBhcyBhIHJlZ3VsYXIgb25lIGluIGJyb3dzZXJzIHRoYXQKCQkvLyBkb24ndCBzdXBwb3J0IGl0LgoJCWlmICggbm9kZU5hbWUoIGVsZW0sICJ0ZW1wbGF0ZSIgKSApIHsKCQkJZWxlbSA9IGVsZW0uY29udGVudCB8fCBlbGVtOwoJCX0KCgkJcmV0dXJuIGpRdWVyeS5tZXJnZSggW10sIGVsZW0uY2hpbGROb2RlcyApOwoJfQp9LCBmdW5jdGlvbiggbmFtZSwgZm4gKSB7CglqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCB1bnRpbCwgc2VsZWN0b3IgKSB7CgkJdmFyIG1hdGNoZWQgPSBqUXVlcnkubWFwKCB0aGlzLCBmbiwgdW50aWwgKTsKCgkJaWYgKCBuYW1lLnNsaWNlKCAtNSApICE9PSAiVW50aWwiICkgewoJCQlzZWxlY3RvciA9IHVudGlsOwoJCX0KCgkJaWYgKCBzZWxlY3RvciAmJiB0eXBlb2Ygc2VsZWN0b3IgPT09ICJzdHJpbmciICkgewoJCQltYXRjaGVkID0galF1ZXJ5LmZpbHRlciggc2VsZWN0b3IsIG1hdGNoZWQgKTsKCQl9CgoJCWlmICggdGhpcy5sZW5ndGggPiAxICkgewoKCQkJLy8gUmVtb3ZlIGR1cGxpY2F0ZXMKCQkJaWYgKCAhZ3VhcmFudGVlZFVuaXF1ZVsgbmFtZSBdICkgewoJCQkJalF1ZXJ5LnVuaXF1ZVNvcnQoIG1hdGNoZWQgKTsKCQkJfQoKCQkJLy8gUmV2ZXJzZSBvcmRlciBmb3IgcGFyZW50cyogYW5kIHByZXYtZGVyaXZhdGl2ZXMKCQkJaWYgKCBycGFyZW50c3ByZXYudGVzdCggbmFtZSApICkgewoJCQkJbWF0Y2hlZC5yZXZlcnNlKCk7CgkJCX0KCQl9CgoJCXJldHVybiB0aGlzLnB1c2hTdGFjayggbWF0Y2hlZCApOwoJfTsKfSApOwp2YXIgcm5vdGh0bWx3aGl0ZSA9ICggL1teXHgyMFx0XHJcblxmXSsvZyApOwoKCgovLyBDb252ZXJ0IFN0cmluZy1mb3JtYXR0ZWQgb3B0aW9ucyBpbnRvIE9iamVjdC1mb3JtYXR0ZWQgb25lcwpmdW5jdGlvbiBjcmVhdGVPcHRpb25zKCBvcHRpb25zICkgewoJdmFyIG9iamVjdCA9IHt9OwoJalF1ZXJ5LmVhY2goIG9wdGlvbnMubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbXSwgZnVuY3Rpb24oIF8sIGZsYWcgKSB7CgkJb2JqZWN0WyBmbGFnIF0gPSB0cnVlOwoJfSApOwoJcmV0dXJuIG9iamVjdDsKfQoKLyoKICogQ3JlYXRlIGEgY2FsbGJhY2sgbGlzdCB1c2luZyB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnM6CiAqCiAqCW9wdGlvbnM6IGFuIG9wdGlvbmFsIGxpc3Qgb2Ygc3BhY2Utc2VwYXJhdGVkIG9wdGlvbnMgdGhhdCB3aWxsIGNoYW5nZSBob3cKICoJCQl0aGUgY2FsbGJhY2sgbGlzdCBiZWhhdmVzIG9yIGEgbW9yZSB0cmFkaXRpb25hbCBvcHRpb24gb2JqZWN0CiAqCiAqIEJ5IGRlZmF1bHQgYSBjYWxsYmFjayBsaXN0IHdpbGwgYWN0IGxpa2UgYW4gZXZlbnQgY2FsbGJhY2sgbGlzdCBhbmQgY2FuIGJlCiAqICJmaXJlZCIgbXVsdGlwbGUgdGltZXMuCiAqCiAqIFBvc3NpYmxlIG9wdGlvbnM6CiAqCiAqCW9uY2U6CQkJd2lsbCBlbnN1cmUgdGhlIGNhbGxiYWNrIGxpc3QgY2FuIG9ubHkgYmUgZmlyZWQgb25jZSAobGlrZSBhIERlZmVycmVkKQogKgogKgltZW1vcnk6CQkJd2lsbCBrZWVwIHRyYWNrIG9mIHByZXZpb3VzIHZhbHVlcyBhbmQgd2lsbCBjYWxsIGFueSBjYWxsYmFjayBhZGRlZAogKgkJCQkJYWZ0ZXIgdGhlIGxpc3QgaGFzIGJlZW4gZmlyZWQgcmlnaHQgYXdheSB3aXRoIHRoZSBsYXRlc3QgIm1lbW9yaXplZCIKICoJCQkJCXZhbHVlcyAobGlrZSBhIERlZmVycmVkKQogKgogKgl1bmlxdWU6CQkJd2lsbCBlbnN1cmUgYSBjYWxsYmFjayBjYW4gb25seSBiZSBhZGRlZCBvbmNlIChubyBkdXBsaWNhdGUgaW4gdGhlIGxpc3QpCiAqCiAqCXN0b3BPbkZhbHNlOglpbnRlcnJ1cHQgY2FsbGluZ3Mgd2hlbiBhIGNhbGxiYWNrIHJldHVybnMgZmFsc2UKICoKICovCmpRdWVyeS5DYWxsYmFja3MgPSBmdW5jdGlvbiggb3B0aW9ucyApIHsKCgkvLyBDb252ZXJ0IG9wdGlvbnMgZnJvbSBTdHJpbmctZm9ybWF0dGVkIHRvIE9iamVjdC1mb3JtYXR0ZWQgaWYgbmVlZGVkCgkvLyAod2UgY2hlY2sgaW4gY2FjaGUgZmlyc3QpCglvcHRpb25zID0gdHlwZW9mIG9wdGlvbnMgPT09ICJzdHJpbmciID8KCQljcmVhdGVPcHRpb25zKCBvcHRpb25zICkgOgoJCWpRdWVyeS5leHRlbmQoIHt9LCBvcHRpb25zICk7CgoJdmFyIC8vIEZsYWcgdG8ga25vdyBpZiBsaXN0IGlzIGN1cnJlbnRseSBmaXJpbmcKCQlmaXJpbmcsCgoJCS8vIExhc3QgZmlyZSB2YWx1ZSBmb3Igbm9uLWZvcmdldHRhYmxlIGxpc3RzCgkJbWVtb3J5LAoKCQkvLyBGbGFnIHRvIGtub3cgaWYgbGlzdCB3YXMgYWxyZWFkeSBmaXJlZAoJCWZpcmVkLAoKCQkvLyBGbGFnIHRvIHByZXZlbnQgZmlyaW5nCgkJbG9ja2VkLAoKCQkvLyBBY3R1YWwgY2FsbGJhY2sgbGlzdAoJCWxpc3QgPSBbXSwKCgkJLy8gUXVldWUgb2YgZXhlY3V0aW9uIGRhdGEgZm9yIHJlcGVhdGFibGUgbGlzdHMKCQlxdWV1ZSA9IFtdLAoKCQkvLyBJbmRleCBvZiBjdXJyZW50bHkgZmlyaW5nIGNhbGxiYWNrIChtb2RpZmllZCBieSBhZGQvcmVtb3ZlIGFzIG5lZWRlZCkKCQlmaXJpbmdJbmRleCA9IC0xLAoKCQkvLyBGaXJlIGNhbGxiYWNrcwoJCWZpcmUgPSBmdW5jdGlvbigpIHsKCgkJCS8vIEVuZm9yY2Ugc2luZ2xlLWZpcmluZwoJCQlsb2NrZWQgPSBsb2NrZWQgfHwgb3B0aW9ucy5vbmNlOwoKCQkJLy8gRXhlY3V0ZSBjYWxsYmFja3MgZm9yIGFsbCBwZW5kaW5nIGV4ZWN1dGlvbnMsCgkJCS8vIHJlc3BlY3RpbmcgZmlyaW5nSW5kZXggb3ZlcnJpZGVzIGFuZCBydW50aW1lIGNoYW5nZXMKCQkJZmlyZWQgPSBmaXJpbmcgPSB0cnVlOwoJCQlmb3IgKCA7IHF1ZXVlLmxlbmd0aDsgZmlyaW5nSW5kZXggPSAtMSApIHsKCQkJCW1lbW9yeSA9IHF1ZXVlLnNoaWZ0KCk7CgkJCQl3aGlsZSAoICsrZmlyaW5nSW5kZXggPCBsaXN0Lmxlbmd0aCApIHsKCgkJCQkJLy8gUnVuIGNhbGxiYWNrIGFuZCBjaGVjayBmb3IgZWFybHkgdGVybWluYXRpb24KCQkJCQlpZiAoIGxpc3RbIGZpcmluZ0luZGV4IF0uYXBwbHkoIG1lbW9yeVsgMCBdLCBtZW1vcnlbIDEgXSApID09PSBmYWxzZSAmJgoJCQkJCQlvcHRpb25zLnN0b3BPbkZhbHNlICkgewoKCQkJCQkJLy8gSnVtcCB0byBlbmQgYW5kIGZvcmdldCB0aGUgZGF0YSBzbyAuYWRkIGRvZXNuJ3QgcmUtZmlyZQoJCQkJCQlmaXJpbmdJbmRleCA9IGxpc3QubGVuZ3RoOwoJCQkJCQltZW1vcnkgPSBmYWxzZTsKCQkJCQl9CgkJCQl9CgkJCX0KCgkJCS8vIEZvcmdldCB0aGUgZGF0YSBpZiB3ZSdyZSBkb25lIHdpdGggaXQKCQkJaWYgKCAhb3B0aW9ucy5tZW1vcnkgKSB7CgkJCQltZW1vcnkgPSBmYWxzZTsKCQkJfQoKCQkJZmlyaW5nID0gZmFsc2U7CgoJCQkvLyBDbGVhbiB1cCBpZiB3ZSdyZSBkb25lIGZpcmluZyBmb3IgZ29vZAoJCQlpZiAoIGxvY2tlZCApIHsKCgkJCQkvLyBLZWVwIGFuIGVtcHR5IGxpc3QgaWYgd2UgaGF2ZSBkYXRhIGZvciBmdXR1cmUgYWRkIGNhbGxzCgkJCQlpZiAoIG1lbW9yeSApIHsKCQkJCQlsaXN0ID0gW107CgoJCQkJLy8gT3RoZXJ3aXNlLCB0aGlzIG9iamVjdCBpcyBzcGVudAoJCQkJfSBlbHNlIHsKCQkJCQlsaXN0ID0gIiI7CgkJCQl9CgkJCX0KCQl9LAoKCQkvLyBBY3R1YWwgQ2FsbGJhY2tzIG9iamVjdAoJCXNlbGYgPSB7CgoJCQkvLyBBZGQgYSBjYWxsYmFjayBvciBhIGNvbGxlY3Rpb24gb2YgY2FsbGJhY2tzIHRvIHRoZSBsaXN0CgkJCWFkZDogZnVuY3Rpb24oKSB7CgkJCQlpZiAoIGxpc3QgKSB7CgoJCQkJCS8vIElmIHdlIGhhdmUgbWVtb3J5IGZyb20gYSBwYXN0IHJ1biwgd2Ugc2hvdWxkIGZpcmUgYWZ0ZXIgYWRkaW5nCgkJCQkJaWYgKCBtZW1vcnkgJiYgIWZpcmluZyApIHsKCQkJCQkJZmlyaW5nSW5kZXggPSBsaXN0Lmxlbmd0aCAtIDE7CgkJCQkJCXF1ZXVlLnB1c2goIG1lbW9yeSApOwoJCQkJCX0KCgkJCQkJKCBmdW5jdGlvbiBhZGQoIGFyZ3MgKSB7CgkJCQkJCWpRdWVyeS5lYWNoKCBhcmdzLCBmdW5jdGlvbiggXywgYXJnICkgewoJCQkJCQkJaWYgKCBpc0Z1bmN0aW9uKCBhcmcgKSApIHsKCQkJCQkJCQlpZiAoICFvcHRpb25zLnVuaXF1ZSB8fCAhc2VsZi5oYXMoIGFyZyApICkgewoJCQkJCQkJCQlsaXN0LnB1c2goIGFyZyApOwoJCQkJCQkJCX0KCQkJCQkJCX0gZWxzZSBpZiAoIGFyZyAmJiBhcmcubGVuZ3RoICYmIHRvVHlwZSggYXJnICkgIT09ICJzdHJpbmciICkgewoKCQkJCQkJCQkvLyBJbnNwZWN0IHJlY3Vyc2l2ZWx5CgkJCQkJCQkJYWRkKCBhcmcgKTsKCQkJCQkJCX0KCQkJCQkJfSApOwoJCQkJCX0gKSggYXJndW1lbnRzICk7CgoJCQkJCWlmICggbWVtb3J5ICYmICFmaXJpbmcgKSB7CgkJCQkJCWZpcmUoKTsKCQkJCQl9CgkJCQl9CgkJCQlyZXR1cm4gdGhpczsKCQkJfSwKCgkJCS8vIFJlbW92ZSBhIGNhbGxiYWNrIGZyb20gdGhlIGxpc3QKCQkJcmVtb3ZlOiBmdW5jdGlvbigpIHsKCQkJCWpRdWVyeS5lYWNoKCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBfLCBhcmcgKSB7CgkJCQkJdmFyIGluZGV4OwoJCQkJCXdoaWxlICggKCBpbmRleCA9IGpRdWVyeS5pbkFycmF5KCBhcmcsIGxpc3QsIGluZGV4ICkgKSA+IC0xICkgewoJCQkJCQlsaXN0LnNwbGljZSggaW5kZXgsIDEgKTsKCgkJCQkJCS8vIEhhbmRsZSBmaXJpbmcgaW5kZXhlcwoJCQkJCQlpZiAoIGluZGV4IDw9IGZpcmluZ0luZGV4ICkgewoJCQkJCQkJZmlyaW5nSW5kZXgtLTsKCQkJCQkJfQoJCQkJCX0KCQkJCX0gKTsKCQkJCXJldHVybiB0aGlzOwoJCQl9LAoKCQkJLy8gQ2hlY2sgaWYgYSBnaXZlbiBjYWxsYmFjayBpcyBpbiB0aGUgbGlzdC4KCQkJLy8gSWYgbm8gYXJndW1lbnQgaXMgZ2l2ZW4sIHJldHVybiB3aGV0aGVyIG9yIG5vdCBsaXN0IGhhcyBjYWxsYmFja3MgYXR0YWNoZWQuCgkJCWhhczogZnVuY3Rpb24oIGZuICkgewoJCQkJcmV0dXJuIGZuID8KCQkJCQlqUXVlcnkuaW5BcnJheSggZm4sIGxpc3QgKSA+IC0xIDoKCQkJCQlsaXN0Lmxlbmd0aCA+IDA7CgkJCX0sCgoJCQkvLyBSZW1vdmUgYWxsIGNhbGxiYWNrcyBmcm9tIHRoZSBsaXN0CgkJCWVtcHR5OiBmdW5jdGlvbigpIHsKCQkJCWlmICggbGlzdCApIHsKCQkJCQlsaXN0ID0gW107CgkJCQl9CgkJCQlyZXR1cm4gdGhpczsKCQkJfSwKCgkJCS8vIERpc2FibGUgLmZpcmUgYW5kIC5hZGQKCQkJLy8gQWJvcnQgYW55IGN1cnJlbnQvcGVuZGluZyBleGVjdXRpb25zCgkJCS8vIENsZWFyIGFsbCBjYWxsYmFja3MgYW5kIHZhbHVlcwoJCQlkaXNhYmxlOiBmdW5jdGlvbigpIHsKCQkJCWxvY2tlZCA9IHF1ZXVlID0gW107CgkJCQlsaXN0ID0gbWVtb3J5ID0gIiI7CgkJCQlyZXR1cm4gdGhpczsKCQkJfSwKCQkJZGlzYWJsZWQ6IGZ1bmN0aW9uKCkgewoJCQkJcmV0dXJuICFsaXN0OwoJCQl9LAoKCQkJLy8gRGlzYWJsZSAuZmlyZQoJCQkvLyBBbHNvIGRpc2FibGUgLmFkZCB1bmxlc3Mgd2UgaGF2ZSBtZW1vcnkgKHNpbmNlIGl0IHdvdWxkIGhhdmUgbm8gZWZmZWN0KQoJCQkvLyBBYm9ydCBhbnkgcGVuZGluZyBleGVjdXRpb25zCgkJCWxvY2s6IGZ1bmN0aW9uKCkgewoJCQkJbG9ja2VkID0gcXVldWUgPSBbXTsKCQkJCWlmICggIW1lbW9yeSAmJiAhZmlyaW5nICkgewoJCQkJCWxpc3QgPSBtZW1vcnkgPSAiIjsKCQkJCX0KCQkJCXJldHVybiB0aGlzOwoJCQl9LAoJCQlsb2NrZWQ6IGZ1bmN0aW9uKCkgewoJCQkJcmV0dXJuICEhbG9ja2VkOwoJCQl9LAoKCQkJLy8gQ2FsbCBhbGwgY2FsbGJhY2tzIHdpdGggdGhlIGdpdmVuIGNvbnRleHQgYW5kIGFyZ3VtZW50cwoJCQlmaXJlV2l0aDogZnVuY3Rpb24oIGNvbnRleHQsIGFyZ3MgKSB7CgkJCQlpZiAoICFsb2NrZWQgKSB7CgkJCQkJYXJncyA9IGFyZ3MgfHwgW107CgkJCQkJYXJncyA9IFsgY29udGV4dCwgYXJncy5zbGljZSA/IGFyZ3Muc2xpY2UoKSA6IGFyZ3MgXTsKCQkJCQlxdWV1ZS5wdXNoKCBhcmdzICk7CgkJCQkJaWYgKCAhZmlyaW5nICkgewoJCQkJCQlmaXJlKCk7CgkJCQkJfQoJCQkJfQoJCQkJcmV0dXJuIHRoaXM7CgkJCX0sCgoJCQkvLyBDYWxsIGFsbCB0aGUgY2FsbGJhY2tzIHdpdGggdGhlIGdpdmVuIGFyZ3VtZW50cwoJCQlmaXJlOiBmdW5jdGlvbigpIHsKCQkJCXNlbGYuZmlyZVdpdGgoIHRoaXMsIGFyZ3VtZW50cyApOwoJCQkJcmV0dXJuIHRoaXM7CgkJCX0sCgoJCQkvLyBUbyBrbm93IGlmIHRoZSBjYWxsYmFja3MgaGF2ZSBhbHJlYWR5IGJlZW4gY2FsbGVkIGF0IGxlYXN0IG9uY2UKCQkJZmlyZWQ6IGZ1bmN0aW9uKCkgewoJCQkJcmV0dXJuICEhZmlyZWQ7CgkJCX0KCQl9OwoKCXJldHVybiBzZWxmOwp9OwoKCmZ1bmN0aW9uIElkZW50aXR5KCB2ICkgewoJcmV0dXJuIHY7Cn0KZnVuY3Rpb24gVGhyb3dlciggZXggKSB7Cgl0aHJvdyBleDsKfQoKZnVuY3Rpb24gYWRvcHRWYWx1ZSggdmFsdWUsIHJlc29sdmUsIHJlamVjdCwgbm9WYWx1ZSApIHsKCXZhciBtZXRob2Q7CgoJdHJ5IHsKCgkJLy8gQ2hlY2sgZm9yIHByb21pc2UgYXNwZWN0IGZpcnN0IHRvIHByaXZpbGVnZSBzeW5jaHJvbm91cyBiZWhhdmlvcgoJCWlmICggdmFsdWUgJiYgaXNGdW5jdGlvbiggKCBtZXRob2QgPSB2YWx1ZS5wcm9taXNlICkgKSApIHsKCQkJbWV0aG9kLmNhbGwoIHZhbHVlICkuZG9uZSggcmVzb2x2ZSApLmZhaWwoIHJlamVjdCApOwoKCQkvLyBPdGhlciB0aGVuYWJsZXMKCQl9IGVsc2UgaWYgKCB2YWx1ZSAmJiBpc0Z1bmN0aW9uKCAoIG1ldGhvZCA9IHZhbHVlLnRoZW4gKSApICkgewoJCQltZXRob2QuY2FsbCggdmFsdWUsIHJlc29sdmUsIHJlamVjdCApOwoKCQkvLyBPdGhlciBub24tdGhlbmFibGVzCgkJfSBlbHNlIHsKCgkJCS8vIENvbnRyb2wgYHJlc29sdmVgIGFyZ3VtZW50cyBieSBsZXR0aW5nIEFycmF5I3NsaWNlIGNhc3QgYm9vbGVhbiBgbm9WYWx1ZWAgdG8gaW50ZWdlcjoKCQkJLy8gKiBmYWxzZTogWyB2YWx1ZSBdLnNsaWNlKCAwICkgPT4gcmVzb2x2ZSggdmFsdWUgKQoJCQkvLyAqIHRydWU6IFsgdmFsdWUgXS5zbGljZSggMSApID0+IHJlc29sdmUoKQoJCQlyZXNvbHZlLmFwcGx5KCB1bmRlZmluZWQsIFsgdmFsdWUgXS5zbGljZSggbm9WYWx1ZSApICk7CgkJfQoKCS8vIEZvciBQcm9taXNlcy9BKywgY29udmVydCBleGNlcHRpb25zIGludG8gcmVqZWN0aW9ucwoJLy8gU2luY2UgalF1ZXJ5LndoZW4gZG9lc24ndCB1bndyYXAgdGhlbmFibGVzLCB3ZSBjYW4gc2tpcCB0aGUgZXh0cmEgY2hlY2tzIGFwcGVhcmluZyBpbgoJLy8gRGVmZXJyZWQjdGhlbiB0byBjb25kaXRpb25hbGx5IHN1cHByZXNzIHJlamVjdGlvbi4KCX0gY2F0Y2ggKCB2YWx1ZSApIHsKCgkJLy8gU3VwcG9ydDogQW5kcm9pZCA0LjAgb25seQoJCS8vIFN0cmljdCBtb2RlIGZ1bmN0aW9ucyBpbnZva2VkIHdpdGhvdXQgLmNhbGwvLmFwcGx5IGdldCBnbG9iYWwtb2JqZWN0IGNvbnRleHQKCQlyZWplY3QuYXBwbHkoIHVuZGVmaW5lZCwgWyB2YWx1ZSBdICk7Cgl9Cn0KCmpRdWVyeS5leHRlbmQoIHsKCglEZWZlcnJlZDogZnVuY3Rpb24oIGZ1bmMgKSB7CgkJdmFyIHR1cGxlcyA9IFsKCgkJCQkvLyBhY3Rpb24sIGFkZCBsaXN0ZW5lciwgY2FsbGJhY2tzLAoJCQkJLy8gLi4uIC50aGVuIGhhbmRsZXJzLCBhcmd1bWVudCBpbmRleCwgW2ZpbmFsIHN0YXRlXQoJCQkJWyAibm90aWZ5IiwgInByb2dyZXNzIiwgalF1ZXJ5LkNhbGxiYWNrcyggIm1lbW9yeSIgKSwKCQkJCQlqUXVlcnkuQ2FsbGJhY2tzKCAibWVtb3J5IiApLCAyIF0sCgkJCQlbICJyZXNvbHZlIiwgImRvbmUiLCBqUXVlcnkuQ2FsbGJhY2tzKCAib25jZSBtZW1vcnkiICksCgkJCQkJalF1ZXJ5LkNhbGxiYWNrcyggIm9uY2UgbWVtb3J5IiApLCAwLCAicmVzb2x2ZWQiIF0sCgkJCQlbICJyZWplY3QiLCAiZmFpbCIsIGpRdWVyeS5DYWxsYmFja3MoICJvbmNlIG1lbW9yeSIgKSwKCQkJCQlqUXVlcnkuQ2FsbGJhY2tzKCAib25jZSBtZW1vcnkiICksIDEsICJyZWplY3RlZCIgXQoJCQldLAoJCQlzdGF0ZSA9ICJwZW5kaW5nIiwKCQkJcHJvbWlzZSA9IHsKCQkJCXN0YXRlOiBmdW5jdGlvbigpIHsKCQkJCQlyZXR1cm4gc3RhdGU7CgkJCQl9LAoJCQkJYWx3YXlzOiBmdW5jdGlvbigpIHsKCQkJCQlkZWZlcnJlZC5kb25lKCBhcmd1bWVudHMgKS5mYWlsKCBhcmd1bWVudHMgKTsKCQkJCQlyZXR1cm4gdGhpczsKCQkJCX0sCgkJCQkiY2F0Y2giOiBmdW5jdGlvbiggZm4gKSB7CgkJCQkJcmV0dXJuIHByb21pc2UudGhlbiggbnVsbCwgZm4gKTsKCQkJCX0sCgoJCQkJLy8gS2VlcCBwaXBlIGZvciBiYWNrLWNvbXBhdAoJCQkJcGlwZTogZnVuY3Rpb24oIC8qIGZuRG9uZSwgZm5GYWlsLCBmblByb2dyZXNzICovICkgewoJCQkJCXZhciBmbnMgPSBhcmd1bWVudHM7CgoJCQkJCXJldHVybiBqUXVlcnkuRGVmZXJyZWQoIGZ1bmN0aW9uKCBuZXdEZWZlciApIHsKCQkJCQkJalF1ZXJ5LmVhY2goIHR1cGxlcywgZnVuY3Rpb24oIF9pLCB0dXBsZSApIHsKCgkJCQkJCQkvLyBNYXAgdHVwbGVzIChwcm9ncmVzcywgZG9uZSwgZmFpbCkgdG8gYXJndW1lbnRzIChkb25lLCBmYWlsLCBwcm9ncmVzcykKCQkJCQkJCXZhciBmbiA9IGlzRnVuY3Rpb24oIGZuc1sgdHVwbGVbIDQgXSBdICkgJiYgZm5zWyB0dXBsZVsgNCBdIF07CgoJCQkJCQkJLy8gZGVmZXJyZWQucHJvZ3Jlc3MoZnVuY3Rpb24oKSB7IGJpbmQgdG8gbmV3RGVmZXIgb3IgbmV3RGVmZXIubm90aWZ5IH0pCgkJCQkJCQkvLyBkZWZlcnJlZC5kb25lKGZ1bmN0aW9uKCkgeyBiaW5kIHRvIG5ld0RlZmVyIG9yIG5ld0RlZmVyLnJlc29sdmUgfSkKCQkJCQkJCS8vIGRlZmVycmVkLmZhaWwoZnVuY3Rpb24oKSB7IGJpbmQgdG8gbmV3RGVmZXIgb3IgbmV3RGVmZXIucmVqZWN0IH0pCgkJCQkJCQlkZWZlcnJlZFsgdHVwbGVbIDEgXSBdKCBmdW5jdGlvbigpIHsKCQkJCQkJCQl2YXIgcmV0dXJuZWQgPSBmbiAmJiBmbi5hcHBseSggdGhpcywgYXJndW1lbnRzICk7CgkJCQkJCQkJaWYgKCByZXR1cm5lZCAmJiBpc0Z1bmN0aW9uKCByZXR1cm5lZC5wcm9taXNlICkgKSB7CgkJCQkJCQkJCXJldHVybmVkLnByb21pc2UoKQoJCQkJCQkJCQkJLnByb2dyZXNzKCBuZXdEZWZlci5ub3RpZnkgKQoJCQkJCQkJCQkJLmRvbmUoIG5ld0RlZmVyLnJlc29sdmUgKQoJCQkJCQkJCQkJLmZhaWwoIG5ld0RlZmVyLnJlamVjdCApOwoJCQkJCQkJCX0gZWxzZSB7CgkJCQkJCQkJCW5ld0RlZmVyWyB0dXBsZVsgMCBdICsgIldpdGgiIF0oCgkJCQkJCQkJCQl0aGlzLAoJCQkJCQkJCQkJZm4gPyBbIHJldHVybmVkIF0gOiBhcmd1bWVudHMKCQkJCQkJCQkJKTsKCQkJCQkJCQl9CgkJCQkJCQl9ICk7CgkJCQkJCX0gKTsKCQkJCQkJZm5zID0gbnVsbDsKCQkJCQl9ICkucHJvbWlzZSgpOwoJCQkJfSwKCQkJCXRoZW46IGZ1bmN0aW9uKCBvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgb25Qcm9ncmVzcyApIHsKCQkJCQl2YXIgbWF4RGVwdGggPSAwOwoJCQkJCWZ1bmN0aW9uIHJlc29sdmUoIGRlcHRoLCBkZWZlcnJlZCwgaGFuZGxlciwgc3BlY2lhbCApIHsKCQkJCQkJcmV0dXJuIGZ1bmN0aW9uKCkgewoJCQkJCQkJdmFyIHRoYXQgPSB0aGlzLAoJCQkJCQkJCWFyZ3MgPSBhcmd1bWVudHMsCgkJCQkJCQkJbWlnaHRUaHJvdyA9IGZ1bmN0aW9uKCkgewoJCQkJCQkJCQl2YXIgcmV0dXJuZWQsIHRoZW47CgoJCQkJCQkJCQkvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4zLjMuMwoJCQkJCQkJCQkvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC01OQoJCQkJCQkJCQkvLyBJZ25vcmUgZG91YmxlLXJlc29sdXRpb24gYXR0ZW1wdHMKCQkJCQkJCQkJaWYgKCBkZXB0aCA8IG1heERlcHRoICkgewoJCQkJCQkJCQkJcmV0dXJuOwoJCQkJCQkJCQl9CgoJCQkJCQkJCQlyZXR1cm5lZCA9IGhhbmRsZXIuYXBwbHkoIHRoYXQsIGFyZ3MgKTsKCgkJCQkJCQkJCS8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjEKCQkJCQkJCQkJLy8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNDgKCQkJCQkJCQkJaWYgKCByZXR1cm5lZCA9PT0gZGVmZXJyZWQucHJvbWlzZSgpICkgewoJCQkJCQkJCQkJdGhyb3cgbmV3IFR5cGVFcnJvciggIlRoZW5hYmxlIHNlbGYtcmVzb2x1dGlvbiIgKTsKCQkJCQkJCQkJfQoKCQkJCQkJCQkJLy8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbnMgMi4zLjMuMSwgMy41CgkJCQkJCQkJCS8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTU0CgkJCQkJCQkJCS8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTc1CgkJCQkJCQkJCS8vIFJldHJpZXZlIGB0aGVuYCBvbmx5IG9uY2UKCQkJCQkJCQkJdGhlbiA9IHJldHVybmVkICYmCgoJCQkJCQkJCQkJLy8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuNAoJCQkJCQkJCQkJLy8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNjQKCQkJCQkJCQkJCS8vIE9ubHkgY2hlY2sgb2JqZWN0cyBhbmQgZnVuY3Rpb25zIGZvciB0aGVuYWJpbGl0eQoJCQkJCQkJCQkJKCB0eXBlb2YgcmV0dXJuZWQgPT09ICJvYmplY3QiIHx8CgkJCQkJCQkJCQkJdHlwZW9mIHJldHVybmVkID09PSAiZnVuY3Rpb24iICkgJiYKCQkJCQkJCQkJCXJldHVybmVkLnRoZW47CgoJCQkJCQkJCQkvLyBIYW5kbGUgYSByZXR1cm5lZCB0aGVuYWJsZQoJCQkJCQkJCQlpZiAoIGlzRnVuY3Rpb24oIHRoZW4gKSApIHsKCgkJCQkJCQkJCQkvLyBTcGVjaWFsIHByb2Nlc3NvcnMgKG5vdGlmeSkganVzdCB3YWl0IGZvciByZXNvbHV0aW9uCgkJCQkJCQkJCQlpZiAoIHNwZWNpYWwgKSB7CgkJCQkJCQkJCQkJdGhlbi5jYWxsKAoJCQkJCQkJCQkJCQlyZXR1cm5lZCwKCQkJCQkJCQkJCQkJcmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBJZGVudGl0eSwgc3BlY2lhbCApLAoJCQkJCQkJCQkJCQlyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIFRocm93ZXIsIHNwZWNpYWwgKQoJCQkJCQkJCQkJCSk7CgoJCQkJCQkJCQkJLy8gTm9ybWFsIHByb2Nlc3NvcnMgKHJlc29sdmUpIGFsc28gaG9vayBpbnRvIHByb2dyZXNzCgkJCQkJCQkJCQl9IGVsc2UgewoKCQkJCQkJCQkJCQkvLyAuLi5hbmQgZGlzcmVnYXJkIG9sZGVyIHJlc29sdXRpb24gdmFsdWVzCgkJCQkJCQkJCQkJbWF4RGVwdGgrKzsKCgkJCQkJCQkJCQkJdGhlbi5jYWxsKAoJCQkJCQkJCQkJCQlyZXR1cm5lZCwKCQkJCQkJCQkJCQkJcmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBJZGVudGl0eSwgc3BlY2lhbCApLAoJCQkJCQkJCQkJCQlyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIFRocm93ZXIsIHNwZWNpYWwgKSwKCQkJCQkJCQkJCQkJcmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBJZGVudGl0eSwKCQkJCQkJCQkJCQkJCWRlZmVycmVkLm5vdGlmeVdpdGggKQoJCQkJCQkJCQkJCSk7CgkJCQkJCQkJCQl9CgoJCQkJCQkJCQkvLyBIYW5kbGUgYWxsIG90aGVyIHJldHVybmVkIHZhbHVlcwoJCQkJCQkJCQl9IGVsc2UgewoKCQkJCQkJCQkJCS8vIE9ubHkgc3Vic3RpdHV0ZSBoYW5kbGVycyBwYXNzIG9uIGNvbnRleHQKCQkJCQkJCQkJCS8vIGFuZCBtdWx0aXBsZSB2YWx1ZXMgKG5vbi1zcGVjIGJlaGF2aW9yKQoJCQkJCQkJCQkJaWYgKCBoYW5kbGVyICE9PSBJZGVudGl0eSApIHsKCQkJCQkJCQkJCQl0aGF0ID0gdW5kZWZpbmVkOwoJCQkJCQkJCQkJCWFyZ3MgPSBbIHJldHVybmVkIF07CgkJCQkJCQkJCQl9CgoJCQkJCQkJCQkJLy8gUHJvY2VzcyB0aGUgdmFsdWUocykKCQkJCQkJCQkJCS8vIERlZmF1bHQgcHJvY2VzcyBpcyByZXNvbHZlCgkJCQkJCQkJCQkoIHNwZWNpYWwgfHwgZGVmZXJyZWQucmVzb2x2ZVdpdGggKSggdGhhdCwgYXJncyApOwoJCQkJCQkJCQl9CgkJCQkJCQkJfSwKCgkJCQkJCQkJLy8gT25seSBub3JtYWwgcHJvY2Vzc29ycyAocmVzb2x2ZSkgY2F0Y2ggYW5kIHJlamVjdCBleGNlcHRpb25zCgkJCQkJCQkJcHJvY2VzcyA9IHNwZWNpYWwgPwoJCQkJCQkJCQltaWdodFRocm93IDoKCQkJCQkJCQkJZnVuY3Rpb24oKSB7CgkJCQkJCQkJCQl0cnkgewoJCQkJCQkJCQkJCW1pZ2h0VGhyb3coKTsKCQkJCQkJCQkJCX0gY2F0Y2ggKCBlICkgewoKCQkJCQkJCQkJCQlpZiAoIGpRdWVyeS5EZWZlcnJlZC5leGNlcHRpb25Ib29rICkgewoJCQkJCQkJCQkJCQlqUXVlcnkuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayggZSwKCQkJCQkJCQkJCQkJCXByb2Nlc3MuZXJyb3IgKTsKCQkJCQkJCQkJCQl9CgoJCQkJCQkJCQkJCS8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjMuMy40LjEKCQkJCQkJCQkJCQkvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC02MQoJCQkJCQkJCQkJCS8vIElnbm9yZSBwb3N0LXJlc29sdXRpb24gZXhjZXB0aW9ucwoJCQkJCQkJCQkJCWlmICggZGVwdGggKyAxID49IG1heERlcHRoICkgewoKCQkJCQkJCQkJCQkJLy8gT25seSBzdWJzdGl0dXRlIGhhbmRsZXJzIHBhc3Mgb24gY29udGV4dAoJCQkJCQkJCQkJCQkvLyBhbmQgbXVsdGlwbGUgdmFsdWVzIChub24tc3BlYyBiZWhhdmlvcikKCQkJCQkJCQkJCQkJaWYgKCBoYW5kbGVyICE9PSBUaHJvd2VyICkgewoJCQkJCQkJCQkJCQkJdGhhdCA9IHVuZGVmaW5lZDsKCQkJCQkJCQkJCQkJCWFyZ3MgPSBbIGUgXTsKCQkJCQkJCQkJCQkJfQoKCQkJCQkJCQkJCQkJZGVmZXJyZWQucmVqZWN0V2l0aCggdGhhdCwgYXJncyApOwoJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCX0KCQkJCQkJCQkJfTsKCgkJCQkJCQkvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4zLjMuMQoJCQkJCQkJLy8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNTcKCQkJCQkJCS8vIFJlLXJlc29sdmUgcHJvbWlzZXMgaW1tZWRpYXRlbHkgdG8gZG9kZ2UgZmFsc2UgcmVqZWN0aW9uIGZyb20KCQkJCQkJCS8vIHN1YnNlcXVlbnQgZXJyb3JzCgkJCQkJCQlpZiAoIGRlcHRoICkgewoJCQkJCQkJCXByb2Nlc3MoKTsKCQkJCQkJCX0gZWxzZSB7CgoJCQkJCQkJCS8vIENhbGwgYW4gb3B0aW9uYWwgaG9vayB0byByZWNvcmQgdGhlIGVycm9yLCBpbiBjYXNlIG9mIGV4Y2VwdGlvbgoJCQkJCQkJCS8vIHNpbmNlIGl0J3Mgb3RoZXJ3aXNlIGxvc3Qgd2hlbiBleGVjdXRpb24gZ29lcyBhc3luYwoJCQkJCQkJCWlmICggalF1ZXJ5LkRlZmVycmVkLmdldEVycm9ySG9vayApIHsKCQkJCQkJCQkJcHJvY2Vzcy5lcnJvciA9IGpRdWVyeS5EZWZlcnJlZC5nZXRFcnJvckhvb2soKTsKCgkJCQkJCQkJLy8gVGhlIGRlcHJlY2F0ZWQgYWxpYXMgb2YgdGhlIGFib3ZlLiBXaGlsZSB0aGUgbmFtZSBzdWdnZXN0cwoJCQkJCQkJCS8vIHJldHVybmluZyB0aGUgc3RhY2ssIG5vdCBhbiBlcnJvciBpbnN0YW5jZSwgalF1ZXJ5IGp1c3QgcGFzc2VzCgkJCQkJCQkJLy8gaXQgZGlyZWN0bHkgdG8gYGNvbnNvbGUud2FybmAgc28gYm90aCB3aWxsIHdvcms7IGFuIGluc3RhbmNlCgkJCQkJCQkJLy8ganVzdCBiZXR0ZXIgY29vcGVyYXRlcyB3aXRoIHNvdXJjZSBtYXBzLgoJCQkJCQkJCX0gZWxzZSBpZiAoIGpRdWVyeS5EZWZlcnJlZC5nZXRTdGFja0hvb2sgKSB7CgkJCQkJCQkJCXByb2Nlc3MuZXJyb3IgPSBqUXVlcnkuRGVmZXJyZWQuZ2V0U3RhY2tIb29rKCk7CgkJCQkJCQkJfQoJCQkJCQkJCXdpbmRvdy5zZXRUaW1lb3V0KCBwcm9jZXNzICk7CgkJCQkJCQl9CgkJCQkJCX07CgkJCQkJfQoKCQkJCQlyZXR1cm4galF1ZXJ5LkRlZmVycmVkKCBmdW5jdGlvbiggbmV3RGVmZXIgKSB7CgoJCQkJCQkvLyBwcm9ncmVzc19oYW5kbGVycy5hZGQoIC4uLiApCgkJCQkJCXR1cGxlc1sgMCBdWyAzIF0uYWRkKAoJCQkJCQkJcmVzb2x2ZSgKCQkJCQkJCQkwLAoJCQkJCQkJCW5ld0RlZmVyLAoJCQkJCQkJCWlzRnVuY3Rpb24oIG9uUHJvZ3Jlc3MgKSA/CgkJCQkJCQkJCW9uUHJvZ3Jlc3MgOgoJCQkJCQkJCQlJZGVudGl0eSwKCQkJCQkJCQluZXdEZWZlci5ub3RpZnlXaXRoCgkJCQkJCQkpCgkJCQkJCSk7CgoJCQkJCQkvLyBmdWxmaWxsZWRfaGFuZGxlcnMuYWRkKCAuLi4gKQoJCQkJCQl0dXBsZXNbIDEgXVsgMyBdLmFkZCgKCQkJCQkJCXJlc29sdmUoCgkJCQkJCQkJMCwKCQkJCQkJCQluZXdEZWZlciwKCQkJCQkJCQlpc0Z1bmN0aW9uKCBvbkZ1bGZpbGxlZCApID8KCQkJCQkJCQkJb25GdWxmaWxsZWQgOgoJCQkJCQkJCQlJZGVudGl0eQoJCQkJCQkJKQoJCQkJCQkpOwoKCQkJCQkJLy8gcmVqZWN0ZWRfaGFuZGxlcnMuYWRkKCAuLi4gKQoJCQkJCQl0dXBsZXNbIDIgXVsgMyBdLmFkZCgKCQkJCQkJCXJlc29sdmUoCgkJCQkJCQkJMCwKCQkJCQkJCQluZXdEZWZlciwKCQkJCQkJCQlpc0Z1bmN0aW9uKCBvblJlamVjdGVkICkgPwoJCQkJCQkJCQlvblJlamVjdGVkIDoKCQkJCQkJCQkJVGhyb3dlcgoJCQkJCQkJKQoJCQkJCQkpOwoJCQkJCX0gKS5wcm9taXNlKCk7CgkJCQl9LAoKCQkJCS8vIEdldCBhIHByb21pc2UgZm9yIHRoaXMgZGVmZXJyZWQKCQkJCS8vIElmIG9iaiBpcyBwcm92aWRlZCwgdGhlIHByb21pc2UgYXNwZWN0IGlzIGFkZGVkIHRvIHRoZSBvYmplY3QKCQkJCXByb21pc2U6IGZ1bmN0aW9uKCBvYmogKSB7CgkJCQkJcmV0dXJuIG9iaiAhPSBudWxsID8galF1ZXJ5LmV4dGVuZCggb2JqLCBwcm9taXNlICkgOiBwcm9taXNlOwoJCQkJfQoJCQl9LAoJCQlkZWZlcnJlZCA9IHt9OwoKCQkvLyBBZGQgbGlzdC1zcGVjaWZpYyBtZXRob2RzCgkJalF1ZXJ5LmVhY2goIHR1cGxlcywgZnVuY3Rpb24oIGksIHR1cGxlICkgewoJCQl2YXIgbGlzdCA9IHR1cGxlWyAyIF0sCgkJCQlzdGF0ZVN0cmluZyA9IHR1cGxlWyA1IF07CgoJCQkvLyBwcm9taXNlLnByb2dyZXNzID0gbGlzdC5hZGQKCQkJLy8gcHJvbWlzZS5kb25lID0gbGlzdC5hZGQKCQkJLy8gcHJvbWlzZS5mYWlsID0gbGlzdC5hZGQKCQkJcHJvbWlzZVsgdHVwbGVbIDEgXSBdID0gbGlzdC5hZGQ7CgoJCQkvLyBIYW5kbGUgc3RhdGUKCQkJaWYgKCBzdGF0ZVN0cmluZyApIHsKCQkJCWxpc3QuYWRkKAoJCQkJCWZ1bmN0aW9uKCkgewoKCQkJCQkJLy8gc3RhdGUgPSAicmVzb2x2ZWQiIChpLmUuLCBmdWxmaWxsZWQpCgkJCQkJCS8vIHN0YXRlID0gInJlamVjdGVkIgoJCQkJCQlzdGF0ZSA9IHN0YXRlU3RyaW5nOwoJCQkJCX0sCgoJCQkJCS8vIHJlamVjdGVkX2NhbGxiYWNrcy5kaXNhYmxlCgkJCQkJLy8gZnVsZmlsbGVkX2NhbGxiYWNrcy5kaXNhYmxlCgkJCQkJdHVwbGVzWyAzIC0gaSBdWyAyIF0uZGlzYWJsZSwKCgkJCQkJLy8gcmVqZWN0ZWRfaGFuZGxlcnMuZGlzYWJsZQoJCQkJCS8vIGZ1bGZpbGxlZF9oYW5kbGVycy5kaXNhYmxlCgkJCQkJdHVwbGVzWyAzIC0gaSBdWyAzIF0uZGlzYWJsZSwKCgkJCQkJLy8gcHJvZ3Jlc3NfY2FsbGJhY2tzLmxvY2sKCQkJCQl0dXBsZXNbIDAgXVsgMiBdLmxvY2ssCgoJCQkJCS8vIHByb2dyZXNzX2hhbmRsZXJzLmxvY2sKCQkJCQl0dXBsZXNbIDAgXVsgMyBdLmxvY2sKCQkJCSk7CgkJCX0KCgkJCS8vIHByb2dyZXNzX2hhbmRsZXJzLmZpcmUKCQkJLy8gZnVsZmlsbGVkX2hhbmRsZXJzLmZpcmUKCQkJLy8gcmVqZWN0ZWRfaGFuZGxlcnMuZmlyZQoJCQlsaXN0LmFkZCggdHVwbGVbIDMgXS5maXJlICk7CgoJCQkvLyBkZWZlcnJlZC5ub3RpZnkgPSBmdW5jdGlvbigpIHsgZGVmZXJyZWQubm90aWZ5V2l0aCguLi4pIH0KCQkJLy8gZGVmZXJyZWQucmVzb2x2ZSA9IGZ1bmN0aW9uKCkgeyBkZWZlcnJlZC5yZXNvbHZlV2l0aCguLi4pIH0KCQkJLy8gZGVmZXJyZWQucmVqZWN0ID0gZnVuY3Rpb24oKSB7IGRlZmVycmVkLnJlamVjdFdpdGgoLi4uKSB9CgkJCWRlZmVycmVkWyB0dXBsZVsgMCBdIF0gPSBmdW5jdGlvbigpIHsKCQkJCWRlZmVycmVkWyB0dXBsZVsgMCBdICsgIldpdGgiIF0oIHRoaXMgPT09IGRlZmVycmVkID8gdW5kZWZpbmVkIDogdGhpcywgYXJndW1lbnRzICk7CgkJCQlyZXR1cm4gdGhpczsKCQkJfTsKCgkJCS8vIGRlZmVycmVkLm5vdGlmeVdpdGggPSBsaXN0LmZpcmVXaXRoCgkJCS8vIGRlZmVycmVkLnJlc29sdmVXaXRoID0gbGlzdC5maXJlV2l0aAoJCQkvLyBkZWZlcnJlZC5yZWplY3RXaXRoID0gbGlzdC5maXJlV2l0aAoJCQlkZWZlcnJlZFsgdHVwbGVbIDAgXSArICJXaXRoIiBdID0gbGlzdC5maXJlV2l0aDsKCQl9ICk7CgoJCS8vIE1ha2UgdGhlIGRlZmVycmVkIGEgcHJvbWlzZQoJCXByb21pc2UucHJvbWlzZSggZGVmZXJyZWQgKTsKCgkJLy8gQ2FsbCBnaXZlbiBmdW5jIGlmIGFueQoJCWlmICggZnVuYyApIHsKCQkJZnVuYy5jYWxsKCBkZWZlcnJlZCwgZGVmZXJyZWQgKTsKCQl9CgoJCS8vIEFsbCBkb25lIQoJCXJldHVybiBkZWZlcnJlZDsKCX0sCgoJLy8gRGVmZXJyZWQgaGVscGVyCgl3aGVuOiBmdW5jdGlvbiggc2luZ2xlVmFsdWUgKSB7CgkJdmFyCgoJCQkvLyBjb3VudCBvZiB1bmNvbXBsZXRlZCBzdWJvcmRpbmF0ZXMKCQkJcmVtYWluaW5nID0gYXJndW1lbnRzLmxlbmd0aCwKCgkJCS8vIGNvdW50IG9mIHVucHJvY2Vzc2VkIGFyZ3VtZW50cwoJCQlpID0gcmVtYWluaW5nLAoKCQkJLy8gc3Vib3JkaW5hdGUgZnVsZmlsbG1lbnQgZGF0YQoJCQlyZXNvbHZlQ29udGV4dHMgPSBBcnJheSggaSApLAoJCQlyZXNvbHZlVmFsdWVzID0gc2xpY2UuY2FsbCggYXJndW1lbnRzICksCgoJCQkvLyB0aGUgcHJpbWFyeSBEZWZlcnJlZAoJCQlwcmltYXJ5ID0galF1ZXJ5LkRlZmVycmVkKCksCgoJCQkvLyBzdWJvcmRpbmF0ZSBjYWxsYmFjayBmYWN0b3J5CgkJCXVwZGF0ZUZ1bmMgPSBmdW5jdGlvbiggaSApIHsKCQkJCXJldHVybiBmdW5jdGlvbiggdmFsdWUgKSB7CgkJCQkJcmVzb2x2ZUNvbnRleHRzWyBpIF0gPSB0aGlzOwoJCQkJCXJlc29sdmVWYWx1ZXNbIGkgXSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gc2xpY2UuY2FsbCggYXJndW1lbnRzICkgOiB2YWx1ZTsKCQkJCQlpZiAoICEoIC0tcmVtYWluaW5nICkgKSB7CgkJCQkJCXByaW1hcnkucmVzb2x2ZVdpdGgoIHJlc29sdmVDb250ZXh0cywgcmVzb2x2ZVZhbHVlcyApOwoJCQkJCX0KCQkJCX07CgkJCX07CgoJCS8vIFNpbmdsZS0gYW5kIGVtcHR5IGFyZ3VtZW50cyBhcmUgYWRvcHRlZCBsaWtlIFByb21pc2UucmVzb2x2ZQoJCWlmICggcmVtYWluaW5nIDw9IDEgKSB7CgkJCWFkb3B0VmFsdWUoIHNpbmdsZVZhbHVlLCBwcmltYXJ5LmRvbmUoIHVwZGF0ZUZ1bmMoIGkgKSApLnJlc29sdmUsIHByaW1hcnkucmVqZWN0LAoJCQkJIXJlbWFpbmluZyApOwoKCQkJLy8gVXNlIC50aGVuKCkgdG8gdW53cmFwIHNlY29uZGFyeSB0aGVuYWJsZXMgKGNmLiBnaC0zMDAwKQoJCQlpZiAoIHByaW1hcnkuc3RhdGUoKSA9PT0gInBlbmRpbmciIHx8CgkJCQlpc0Z1bmN0aW9uKCByZXNvbHZlVmFsdWVzWyBpIF0gJiYgcmVzb2x2ZVZhbHVlc1sgaSBdLnRoZW4gKSApIHsKCgkJCQlyZXR1cm4gcHJpbWFyeS50aGVuKCk7CgkJCX0KCQl9CgoJCS8vIE11bHRpcGxlIGFyZ3VtZW50cyBhcmUgYWdncmVnYXRlZCBsaWtlIFByb21pc2UuYWxsIGFycmF5IGVsZW1lbnRzCgkJd2hpbGUgKCBpLS0gKSB7CgkJCWFkb3B0VmFsdWUoIHJlc29sdmVWYWx1ZXNbIGkgXSwgdXBkYXRlRnVuYyggaSApLCBwcmltYXJ5LnJlamVjdCApOwoJCX0KCgkJcmV0dXJuIHByaW1hcnkucHJvbWlzZSgpOwoJfQp9ICk7CgoKLy8gVGhlc2UgdXN1YWxseSBpbmRpY2F0ZSBhIHByb2dyYW1tZXIgbWlzdGFrZSBkdXJpbmcgZGV2ZWxvcG1lbnQsCi8vIHdhcm4gYWJvdXQgdGhlbSBBU0FQIHJhdGhlciB0aGFuIHN3YWxsb3dpbmcgdGhlbSBieSBkZWZhdWx0Lgp2YXIgcmVycm9yTmFtZXMgPSAvXihFdmFsfEludGVybmFsfFJhbmdlfFJlZmVyZW5jZXxTeW50YXh8VHlwZXxVUkkpRXJyb3IkLzsKCi8vIElmIGBqUXVlcnkuRGVmZXJyZWQuZ2V0RXJyb3JIb29rYCBpcyBkZWZpbmVkLCBgYXN5bmNFcnJvcmAgaXMgYW4gZXJyb3IKLy8gY2FwdHVyZWQgYmVmb3JlIHRoZSBhc3luYyBiYXJyaWVyIHRvIGdldCB0aGUgb3JpZ2luYWwgZXJyb3IgY2F1c2UKLy8gd2hpY2ggbWF5IG90aGVyd2lzZSBiZSBoaWRkZW4uCmpRdWVyeS5EZWZlcnJlZC5leGNlcHRpb25Ib29rID0gZnVuY3Rpb24oIGVycm9yLCBhc3luY0Vycm9yICkgewoKCS8vIFN1cHBvcnQ6IElFIDggLSA5IG9ubHkKCS8vIENvbnNvbGUgZXhpc3RzIHdoZW4gZGV2IHRvb2xzIGFyZSBvcGVuLCB3aGljaCBjYW4gaGFwcGVuIGF0IGFueSB0aW1lCglpZiAoIHdpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLndhcm4gJiYgZXJyb3IgJiYgcmVycm9yTmFtZXMudGVzdCggZXJyb3IubmFtZSApICkgewoJCXdpbmRvdy5jb25zb2xlLndhcm4oICJqUXVlcnkuRGVmZXJyZWQgZXhjZXB0aW9uOiAiICsgZXJyb3IubWVzc2FnZSwKCQkJZXJyb3Iuc3RhY2ssIGFzeW5jRXJyb3IgKTsKCX0KfTsKCgoKCmpRdWVyeS5yZWFkeUV4Y2VwdGlvbiA9IGZ1bmN0aW9uKCBlcnJvciApIHsKCXdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHsKCQl0aHJvdyBlcnJvcjsKCX0gKTsKfTsKCgoKCi8vIFRoZSBkZWZlcnJlZCB1c2VkIG9uIERPTSByZWFkeQp2YXIgcmVhZHlMaXN0ID0galF1ZXJ5LkRlZmVycmVkKCk7CgpqUXVlcnkuZm4ucmVhZHkgPSBmdW5jdGlvbiggZm4gKSB7CgoJcmVhZHlMaXN0CgkJLnRoZW4oIGZuICkKCgkJLy8gV3JhcCBqUXVlcnkucmVhZHlFeGNlcHRpb24gaW4gYSBmdW5jdGlvbiBzbyB0aGF0IHRoZSBsb29rdXAKCQkvLyBoYXBwZW5zIGF0IHRoZSB0aW1lIG9mIGVycm9yIGhhbmRsaW5nIGluc3RlYWQgb2YgY2FsbGJhY2sKCQkvLyByZWdpc3RyYXRpb24uCgkJLmNhdGNoKCBmdW5jdGlvbiggZXJyb3IgKSB7CgkJCWpRdWVyeS5yZWFkeUV4Y2VwdGlvbiggZXJyb3IgKTsKCQl9ICk7CgoJcmV0dXJuIHRoaXM7Cn07CgpqUXVlcnkuZXh0ZW5kKCB7CgoJLy8gSXMgdGhlIERPTSByZWFkeSB0byBiZSB1c2VkPyBTZXQgdG8gdHJ1ZSBvbmNlIGl0IG9jY3Vycy4KCWlzUmVhZHk6IGZhbHNlLAoKCS8vIEEgY291bnRlciB0byB0cmFjayBob3cgbWFueSBpdGVtcyB0byB3YWl0IGZvciBiZWZvcmUKCS8vIHRoZSByZWFkeSBldmVudCBmaXJlcy4gU2VlIHRyYWMtNjc4MQoJcmVhZHlXYWl0OiAxLAoKCS8vIEhhbmRsZSB3aGVuIHRoZSBET00gaXMgcmVhZHkKCXJlYWR5OiBmdW5jdGlvbiggd2FpdCApIHsKCgkJLy8gQWJvcnQgaWYgdGhlcmUgYXJlIHBlbmRpbmcgaG9sZHMgb3Igd2UncmUgYWxyZWFkeSByZWFkeQoJCWlmICggd2FpdCA9PT0gdHJ1ZSA/IC0talF1ZXJ5LnJlYWR5V2FpdCA6IGpRdWVyeS5pc1JlYWR5ICkgewoJCQlyZXR1cm47CgkJfQoKCQkvLyBSZW1lbWJlciB0aGF0IHRoZSBET00gaXMgcmVhZHkKCQlqUXVlcnkuaXNSZWFkeSA9IHRydWU7CgoJCS8vIElmIGEgbm9ybWFsIERPTSBSZWFkeSBldmVudCBmaXJlZCwgZGVjcmVtZW50LCBhbmQgd2FpdCBpZiBuZWVkIGJlCgkJaWYgKCB3YWl0ICE9PSB0cnVlICYmIC0talF1ZXJ5LnJlYWR5V2FpdCA+IDAgKSB7CgkJCXJldHVybjsKCQl9CgoJCS8vIElmIHRoZXJlIGFyZSBmdW5jdGlvbnMgYm91bmQsIHRvIGV4ZWN1dGUKCQlyZWFkeUxpc3QucmVzb2x2ZVdpdGgoIGRvY3VtZW50LCBbIGpRdWVyeSBdICk7Cgl9Cn0gKTsKCmpRdWVyeS5yZWFkeS50aGVuID0gcmVhZHlMaXN0LnRoZW47CgovLyBUaGUgcmVhZHkgZXZlbnQgaGFuZGxlciBhbmQgc2VsZiBjbGVhbnVwIG1ldGhvZApmdW5jdGlvbiBjb21wbGV0ZWQoKSB7Cglkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAiRE9NQ29udGVudExvYWRlZCIsIGNvbXBsZXRlZCApOwoJd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoICJsb2FkIiwgY29tcGxldGVkICk7CglqUXVlcnkucmVhZHkoKTsKfQoKLy8gQ2F0Y2ggY2FzZXMgd2hlcmUgJChkb2N1bWVudCkucmVhZHkoKSBpcyBjYWxsZWQKLy8gYWZ0ZXIgdGhlIGJyb3dzZXIgZXZlbnQgaGFzIGFscmVhZHkgb2NjdXJyZWQuCi8vIFN1cHBvcnQ6IElFIDw9OSAtIDEwIG9ubHkKLy8gT2xkZXIgSUUgc29tZXRpbWVzIHNpZ25hbHMgImludGVyYWN0aXZlIiB0b28gc29vbgppZiAoIGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICJjb21wbGV0ZSIgfHwKCSggZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gImxvYWRpbmciICYmICFkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwgKSApIHsKCgkvLyBIYW5kbGUgaXQgYXN5bmNocm9ub3VzbHkgdG8gYWxsb3cgc2NyaXB0cyB0aGUgb3Bwb3J0dW5pdHkgdG8gZGVsYXkgcmVhZHkKCXdpbmRvdy5zZXRUaW1lb3V0KCBqUXVlcnkucmVhZHkgKTsKCn0gZWxzZSB7CgoJLy8gVXNlIHRoZSBoYW5keSBldmVudCBjYWxsYmFjawoJZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggIkRPTUNvbnRlbnRMb2FkZWQiLCBjb21wbGV0ZWQgKTsKCgkvLyBBIGZhbGxiYWNrIHRvIHdpbmRvdy5vbmxvYWQsIHRoYXQgd2lsbCBhbHdheXMgd29yawoJd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoICJsb2FkIiwgY29tcGxldGVkICk7Cn0KCgoKCi8vIE11bHRpZnVuY3Rpb25hbCBtZXRob2QgdG8gZ2V0IGFuZCBzZXQgdmFsdWVzIG9mIGEgY29sbGVjdGlvbgovLyBUaGUgdmFsdWUvcyBjYW4gb3B0aW9uYWxseSBiZSBleGVjdXRlZCBpZiBpdCdzIGEgZnVuY3Rpb24KdmFyIGFjY2VzcyA9IGZ1bmN0aW9uKCBlbGVtcywgZm4sIGtleSwgdmFsdWUsIGNoYWluYWJsZSwgZW1wdHlHZXQsIHJhdyApIHsKCXZhciBpID0gMCwKCQlsZW4gPSBlbGVtcy5sZW5ndGgsCgkJYnVsayA9IGtleSA9PSBudWxsOwoKCS8vIFNldHMgbWFueSB2YWx1ZXMKCWlmICggdG9UeXBlKCBrZXkgKSA9PT0gIm9iamVjdCIgKSB7CgkJY2hhaW5hYmxlID0gdHJ1ZTsKCQlmb3IgKCBpIGluIGtleSApIHsKCQkJYWNjZXNzKCBlbGVtcywgZm4sIGksIGtleVsgaSBdLCB0cnVlLCBlbXB0eUdldCwgcmF3ICk7CgkJfQoKCS8vIFNldHMgb25lIHZhbHVlCgl9IGVsc2UgaWYgKCB2YWx1ZSAhPT0gdW5kZWZpbmVkICkgewoJCWNoYWluYWJsZSA9IHRydWU7CgoJCWlmICggIWlzRnVuY3Rpb24oIHZhbHVlICkgKSB7CgkJCXJhdyA9IHRydWU7CgkJfQoKCQlpZiAoIGJ1bGsgKSB7CgoJCQkvLyBCdWxrIG9wZXJhdGlvbnMgcnVuIGFnYWluc3QgdGhlIGVudGlyZSBzZXQKCQkJaWYgKCByYXcgKSB7CgkJCQlmbi5jYWxsKCBlbGVtcywgdmFsdWUgKTsKCQkJCWZuID0gbnVsbDsKCgkJCS8vIC4uLmV4Y2VwdCB3aGVuIGV4ZWN1dGluZyBmdW5jdGlvbiB2YWx1ZXMKCQkJfSBlbHNlIHsKCQkJCWJ1bGsgPSBmbjsKCQkJCWZuID0gZnVuY3Rpb24oIGVsZW0sIF9rZXksIHZhbHVlICkgewoJCQkJCXJldHVybiBidWxrLmNhbGwoIGpRdWVyeSggZWxlbSApLCB2YWx1ZSApOwoJCQkJfTsKCQkJfQoJCX0KCgkJaWYgKCBmbiApIHsKCQkJZm9yICggOyBpIDwgbGVuOyBpKysgKSB7CgkJCQlmbigKCQkJCQllbGVtc1sgaSBdLCBrZXksIHJhdyA/CgkJCQkJCXZhbHVlIDoKCQkJCQkJdmFsdWUuY2FsbCggZWxlbXNbIGkgXSwgaSwgZm4oIGVsZW1zWyBpIF0sIGtleSApICkKCQkJCSk7CgkJCX0KCQl9Cgl9CgoJaWYgKCBjaGFpbmFibGUgKSB7CgkJcmV0dXJuIGVsZW1zOwoJfQoKCS8vIEdldHMKCWlmICggYnVsayApIHsKCQlyZXR1cm4gZm4uY2FsbCggZWxlbXMgKTsKCX0KCglyZXR1cm4gbGVuID8gZm4oIGVsZW1zWyAwIF0sIGtleSApIDogZW1wdHlHZXQ7Cn07CgoKLy8gTWF0Y2hlcyBkYXNoZWQgc3RyaW5nIGZvciBjYW1lbGl6aW5nCnZhciBybXNQcmVmaXggPSAvXi1tcy0vLAoJcmRhc2hBbHBoYSA9IC8tKFthLXpdKS9nOwoKLy8gVXNlZCBieSBjYW1lbENhc2UgYXMgY2FsbGJhY2sgdG8gcmVwbGFjZSgpCmZ1bmN0aW9uIGZjYW1lbENhc2UoIF9hbGwsIGxldHRlciApIHsKCXJldHVybiBsZXR0ZXIudG9VcHBlckNhc2UoKTsKfQoKLy8gQ29udmVydCBkYXNoZWQgdG8gY2FtZWxDYXNlOyB1c2VkIGJ5IHRoZSBjc3MgYW5kIGRhdGEgbW9kdWxlcwovLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSwgRWRnZSAxMiAtIDE1Ci8vIE1pY3Jvc29mdCBmb3Jnb3QgdG8gaHVtcCB0aGVpciB2ZW5kb3IgcHJlZml4ICh0cmFjLTk1NzIpCmZ1bmN0aW9uIGNhbWVsQ2FzZSggc3RyaW5nICkgewoJcmV0dXJuIHN0cmluZy5yZXBsYWNlKCBybXNQcmVmaXgsICJtcy0iICkucmVwbGFjZSggcmRhc2hBbHBoYSwgZmNhbWVsQ2FzZSApOwp9CnZhciBhY2NlcHREYXRhID0gZnVuY3Rpb24oIG93bmVyICkgewoKCS8vIEFjY2VwdHMgb25seToKCS8vICAtIE5vZGUKCS8vICAgIC0gTm9kZS5FTEVNRU5UX05PREUKCS8vICAgIC0gTm9kZS5ET0NVTUVOVF9OT0RFCgkvLyAgLSBPYmplY3QKCS8vICAgIC0gQW55CglyZXR1cm4gb3duZXIubm9kZVR5cGUgPT09IDEgfHwgb3duZXIubm9kZVR5cGUgPT09IDkgfHwgISggK293bmVyLm5vZGVUeXBlICk7Cn07CgoKCgpmdW5jdGlvbiBEYXRhKCkgewoJdGhpcy5leHBhbmRvID0galF1ZXJ5LmV4cGFuZG8gKyBEYXRhLnVpZCsrOwp9CgpEYXRhLnVpZCA9IDE7CgpEYXRhLnByb3RvdHlwZSA9IHsKCgljYWNoZTogZnVuY3Rpb24oIG93bmVyICkgewoKCQkvLyBDaGVjayBpZiB0aGUgb3duZXIgb2JqZWN0IGFscmVhZHkgaGFzIGEgY2FjaGUKCQl2YXIgdmFsdWUgPSBvd25lclsgdGhpcy5leHBhbmRvIF07CgoJCS8vIElmIG5vdCwgY3JlYXRlIG9uZQoJCWlmICggIXZhbHVlICkgewoJCQl2YWx1ZSA9IHt9OwoKCQkJLy8gV2UgY2FuIGFjY2VwdCBkYXRhIGZvciBub24tZWxlbWVudCBub2RlcyBpbiBtb2Rlcm4gYnJvd3NlcnMsCgkJCS8vIGJ1dCB3ZSBzaG91bGQgbm90LCBzZWUgdHJhYy04MzM1LgoJCQkvLyBBbHdheXMgcmV0dXJuIGFuIGVtcHR5IG9iamVjdC4KCQkJaWYgKCBhY2NlcHREYXRhKCBvd25lciApICkgewoKCQkJCS8vIElmIGl0IGlzIGEgbm9kZSB1bmxpa2VseSB0byBiZSBzdHJpbmdpZnktZWQgb3IgbG9vcGVkIG92ZXIKCQkJCS8vIHVzZSBwbGFpbiBhc3NpZ25tZW50CgkJCQlpZiAoIG93bmVyLm5vZGVUeXBlICkgewoJCQkJCW93bmVyWyB0aGlzLmV4cGFuZG8gXSA9IHZhbHVlOwoKCQkJCS8vIE90aGVyd2lzZSBzZWN1cmUgaXQgaW4gYSBub24tZW51bWVyYWJsZSBwcm9wZXJ0eQoJCQkJLy8gY29uZmlndXJhYmxlIG11c3QgYmUgdHJ1ZSB0byBhbGxvdyB0aGUgcHJvcGVydHkgdG8gYmUKCQkJCS8vIGRlbGV0ZWQgd2hlbiBkYXRhIGlzIHJlbW92ZWQKCQkJCX0gZWxzZSB7CgkJCQkJT2JqZWN0LmRlZmluZVByb3BlcnR5KCBvd25lciwgdGhpcy5leHBhbmRvLCB7CgkJCQkJCXZhbHVlOiB2YWx1ZSwKCQkJCQkJY29uZmlndXJhYmxlOiB0cnVlCgkJCQkJfSApOwoJCQkJfQoJCQl9CgkJfQoKCQlyZXR1cm4gdmFsdWU7Cgl9LAoJc2V0OiBmdW5jdGlvbiggb3duZXIsIGRhdGEsIHZhbHVlICkgewoJCXZhciBwcm9wLAoJCQljYWNoZSA9IHRoaXMuY2FjaGUoIG93bmVyICk7CgoJCS8vIEhhbmRsZTogWyBvd25lciwga2V5LCB2YWx1ZSBdIGFyZ3MKCQkvLyBBbHdheXMgdXNlIGNhbWVsQ2FzZSBrZXkgKGdoLTIyNTcpCgkJaWYgKCB0eXBlb2YgZGF0YSA9PT0gInN0cmluZyIgKSB7CgkJCWNhY2hlWyBjYW1lbENhc2UoIGRhdGEgKSBdID0gdmFsdWU7CgoJCS8vIEhhbmRsZTogWyBvd25lciwgeyBwcm9wZXJ0aWVzIH0gXSBhcmdzCgkJfSBlbHNlIHsKCgkJCS8vIENvcHkgdGhlIHByb3BlcnRpZXMgb25lLWJ5LW9uZSB0byB0aGUgY2FjaGUgb2JqZWN0CgkJCWZvciAoIHByb3AgaW4gZGF0YSApIHsKCQkJCWNhY2hlWyBjYW1lbENhc2UoIHByb3AgKSBdID0gZGF0YVsgcHJvcCBdOwoJCQl9CgkJfQoJCXJldHVybiBjYWNoZTsKCX0sCglnZXQ6IGZ1bmN0aW9uKCBvd25lciwga2V5ICkgewoJCXJldHVybiBrZXkgPT09IHVuZGVmaW5lZCA/CgkJCXRoaXMuY2FjaGUoIG93bmVyICkgOgoKCQkJLy8gQWx3YXlzIHVzZSBjYW1lbENhc2Uga2V5IChnaC0yMjU3KQoJCQlvd25lclsgdGhpcy5leHBhbmRvIF0gJiYgb3duZXJbIHRoaXMuZXhwYW5kbyBdWyBjYW1lbENhc2UoIGtleSApIF07Cgl9LAoJYWNjZXNzOiBmdW5jdGlvbiggb3duZXIsIGtleSwgdmFsdWUgKSB7CgoJCS8vIEluIGNhc2VzIHdoZXJlIGVpdGhlcjoKCQkvLwoJCS8vICAgMS4gTm8ga2V5IHdhcyBzcGVjaWZpZWQKCQkvLyAgIDIuIEEgc3RyaW5nIGtleSB3YXMgc3BlY2lmaWVkLCBidXQgbm8gdmFsdWUgcHJvdmlkZWQKCQkvLwoJCS8vIFRha2UgdGhlICJyZWFkIiBwYXRoIGFuZCBhbGxvdyB0aGUgZ2V0IG1ldGhvZCB0byBkZXRlcm1pbmUKCQkvLyB3aGljaCB2YWx1ZSB0byByZXR1cm4sIHJlc3BlY3RpdmVseSBlaXRoZXI6CgkJLy8KCQkvLyAgIDEuIFRoZSBlbnRpcmUgY2FjaGUgb2JqZWN0CgkJLy8gICAyLiBUaGUgZGF0YSBzdG9yZWQgYXQgdGhlIGtleQoJCS8vCgkJaWYgKCBrZXkgPT09IHVuZGVmaW5lZCB8fAoJCQkJKCAoIGtleSAmJiB0eXBlb2Yga2V5ID09PSAic3RyaW5nIiApICYmIHZhbHVlID09PSB1bmRlZmluZWQgKSApIHsKCgkJCXJldHVybiB0aGlzLmdldCggb3duZXIsIGtleSApOwoJCX0KCgkJLy8gV2hlbiB0aGUga2V5IGlzIG5vdCBhIHN0cmluZywgb3IgYm90aCBhIGtleSBhbmQgdmFsdWUKCQkvLyBhcmUgc3BlY2lmaWVkLCBzZXQgb3IgZXh0ZW5kIChleGlzdGluZyBvYmplY3RzKSB3aXRoIGVpdGhlcjoKCQkvLwoJCS8vICAgMS4gQW4gb2JqZWN0IG9mIHByb3BlcnRpZXMKCQkvLyAgIDIuIEEga2V5IGFuZCB2YWx1ZQoJCS8vCgkJdGhpcy5zZXQoIG93bmVyLCBrZXksIHZhbHVlICk7CgoJCS8vIFNpbmNlIHRoZSAic2V0IiBwYXRoIGNhbiBoYXZlIHR3byBwb3NzaWJsZSBlbnRyeSBwb2ludHMKCQkvLyByZXR1cm4gdGhlIGV4cGVjdGVkIGRhdGEgYmFzZWQgb24gd2hpY2ggcGF0aCB3YXMgdGFrZW5bKl0KCQlyZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDoga2V5OwoJfSwKCXJlbW92ZTogZnVuY3Rpb24oIG93bmVyLCBrZXkgKSB7CgkJdmFyIGksCgkJCWNhY2hlID0gb3duZXJbIHRoaXMuZXhwYW5kbyBdOwoKCQlpZiAoIGNhY2hlID09PSB1bmRlZmluZWQgKSB7CgkJCXJldHVybjsKCQl9CgoJCWlmICgga2V5ICE9PSB1bmRlZmluZWQgKSB7CgoJCQkvLyBTdXBwb3J0IGFycmF5IG9yIHNwYWNlIHNlcGFyYXRlZCBzdHJpbmcgb2Yga2V5cwoJCQlpZiAoIEFycmF5LmlzQXJyYXkoIGtleSApICkgewoKCQkJCS8vIElmIGtleSBpcyBhbiBhcnJheSBvZiBrZXlzLi4uCgkJCQkvLyBXZSBhbHdheXMgc2V0IGNhbWVsQ2FzZSBrZXlzLCBzbyByZW1vdmUgdGhhdC4KCQkJCWtleSA9IGtleS5tYXAoIGNhbWVsQ2FzZSApOwoJCQl9IGVsc2UgewoJCQkJa2V5ID0gY2FtZWxDYXNlKCBrZXkgKTsKCgkJCQkvLyBJZiBhIGtleSB3aXRoIHRoZSBzcGFjZXMgZXhpc3RzLCB1c2UgaXQuCgkJCQkvLyBPdGhlcndpc2UsIGNyZWF0ZSBhbiBhcnJheSBieSBtYXRjaGluZyBub24td2hpdGVzcGFjZQoJCQkJa2V5ID0ga2V5IGluIGNhY2hlID8KCQkJCQlbIGtleSBdIDoKCQkJCQkoIGtleS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFtdICk7CgkJCX0KCgkJCWkgPSBrZXkubGVuZ3RoOwoKCQkJd2hpbGUgKCBpLS0gKSB7CgkJCQlkZWxldGUgY2FjaGVbIGtleVsgaSBdIF07CgkJCX0KCQl9CgoJCS8vIFJlbW92ZSB0aGUgZXhwYW5kbyBpZiB0aGVyZSdzIG5vIG1vcmUgZGF0YQoJCWlmICgga2V5ID09PSB1bmRlZmluZWQgfHwgalF1ZXJ5LmlzRW1wdHlPYmplY3QoIGNhY2hlICkgKSB7CgoJCQkvLyBTdXBwb3J0OiBDaHJvbWUgPD0zNSAtIDQ1CgkJCS8vIFdlYmtpdCAmIEJsaW5rIHBlcmZvcm1hbmNlIHN1ZmZlcnMgd2hlbiBkZWxldGluZyBwcm9wZXJ0aWVzCgkJCS8vIGZyb20gRE9NIG5vZGVzLCBzbyBzZXQgdG8gdW5kZWZpbmVkIGluc3RlYWQKCQkJLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9Mzc4NjA3IChidWcgcmVzdHJpY3RlZCkKCQkJaWYgKCBvd25lci5ub2RlVHlwZSApIHsKCQkJCW93bmVyWyB0aGlzLmV4cGFuZG8gXSA9IHVuZGVmaW5lZDsKCQkJfSBlbHNlIHsKCQkJCWRlbGV0ZSBvd25lclsgdGhpcy5leHBhbmRvIF07CgkJCX0KCQl9Cgl9LAoJaGFzRGF0YTogZnVuY3Rpb24oIG93bmVyICkgewoJCXZhciBjYWNoZSA9IG93bmVyWyB0aGlzLmV4cGFuZG8gXTsKCQlyZXR1cm4gY2FjaGUgIT09IHVuZGVmaW5lZCAmJiAhalF1ZXJ5LmlzRW1wdHlPYmplY3QoIGNhY2hlICk7Cgl9Cn07CnZhciBkYXRhUHJpdiA9IG5ldyBEYXRhKCk7Cgp2YXIgZGF0YVVzZXIgPSBuZXcgRGF0YSgpOwoKCgovLwlJbXBsZW1lbnRhdGlvbiBTdW1tYXJ5Ci8vCi8vCTEuIEVuZm9yY2UgQVBJIHN1cmZhY2UgYW5kIHNlbWFudGljIGNvbXBhdGliaWxpdHkgd2l0aCAxLjkueCBicmFuY2gKLy8JMi4gSW1wcm92ZSB0aGUgbW9kdWxlJ3MgbWFpbnRhaW5hYmlsaXR5IGJ5IHJlZHVjaW5nIHRoZSBzdG9yYWdlCi8vCQlwYXRocyB0byBhIHNpbmdsZSBtZWNoYW5pc20uCi8vCTMuIFVzZSB0aGUgc2FtZSBzaW5nbGUgbWVjaGFuaXNtIHRvIHN1cHBvcnQgInByaXZhdGUiIGFuZCAidXNlciIgZGF0YS4KLy8JNC4gX05ldmVyXyBleHBvc2UgInByaXZhdGUiIGRhdGEgdG8gdXNlciBjb2RlIChUT0RPOiBEcm9wIF9kYXRhLCBfcmVtb3ZlRGF0YSkKLy8JNS4gQXZvaWQgZXhwb3NpbmcgaW1wbGVtZW50YXRpb24gZGV0YWlscyBvbiB1c2VyIG9iamVjdHMgKGVnLiBleHBhbmRvIHByb3BlcnRpZXMpCi8vCTYuIFByb3ZpZGUgYSBjbGVhciBwYXRoIGZvciBpbXBsZW1lbnRhdGlvbiB1cGdyYWRlIHRvIFdlYWtNYXAgaW4gMjAxNAoKdmFyIHJicmFjZSA9IC9eKD86XHtbXHdcV10qXH18XFtbXHdcV10qXF0pJC8sCglybXVsdGlEYXNoID0gL1tBLVpdL2c7CgpmdW5jdGlvbiBnZXREYXRhKCBkYXRhICkgewoJaWYgKCBkYXRhID09PSAidHJ1ZSIgKSB7CgkJcmV0dXJuIHRydWU7Cgl9CgoJaWYgKCBkYXRhID09PSAiZmFsc2UiICkgewoJCXJldHVybiBmYWxzZTsKCX0KCglpZiAoIGRhdGEgPT09ICJudWxsIiApIHsKCQlyZXR1cm4gbnVsbDsKCX0KCgkvLyBPbmx5IGNvbnZlcnQgdG8gYSBudW1iZXIgaWYgaXQgZG9lc24ndCBjaGFuZ2UgdGhlIHN0cmluZwoJaWYgKCBkYXRhID09PSArZGF0YSArICIiICkgewoJCXJldHVybiArZGF0YTsKCX0KCglpZiAoIHJicmFjZS50ZXN0KCBkYXRhICkgKSB7CgkJcmV0dXJuIEpTT04ucGFyc2UoIGRhdGEgKTsKCX0KCglyZXR1cm4gZGF0YTsKfQoKZnVuY3Rpb24gZGF0YUF0dHIoIGVsZW0sIGtleSwgZGF0YSApIHsKCXZhciBuYW1lOwoKCS8vIElmIG5vdGhpbmcgd2FzIGZvdW5kIGludGVybmFsbHksIHRyeSB0byBmZXRjaCBhbnkKCS8vIGRhdGEgZnJvbSB0aGUgSFRNTDUgZGF0YS0qIGF0dHJpYnV0ZQoJaWYgKCBkYXRhID09PSB1bmRlZmluZWQgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHsKCQluYW1lID0gImRhdGEtIiArIGtleS5yZXBsYWNlKCBybXVsdGlEYXNoLCAiLSQmIiApLnRvTG93ZXJDYXNlKCk7CgkJZGF0YSA9IGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lICk7CgoJCWlmICggdHlwZW9mIGRhdGEgPT09ICJzdHJpbmciICkgewoJCQl0cnkgewoJCQkJZGF0YSA9IGdldERhdGEoIGRhdGEgKTsKCQkJfSBjYXRjaCAoIGUgKSB7fQoKCQkJLy8gTWFrZSBzdXJlIHdlIHNldCB0aGUgZGF0YSBzbyBpdCBpc24ndCBjaGFuZ2VkIGxhdGVyCgkJCWRhdGFVc2VyLnNldCggZWxlbSwga2V5LCBkYXRhICk7CgkJfSBlbHNlIHsKCQkJZGF0YSA9IHVuZGVmaW5lZDsKCQl9Cgl9CglyZXR1cm4gZGF0YTsKfQoKalF1ZXJ5LmV4dGVuZCggewoJaGFzRGF0YTogZnVuY3Rpb24oIGVsZW0gKSB7CgkJcmV0dXJuIGRhdGFVc2VyLmhhc0RhdGEoIGVsZW0gKSB8fCBkYXRhUHJpdi5oYXNEYXRhKCBlbGVtICk7Cgl9LAoKCWRhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBkYXRhICkgewoJCXJldHVybiBkYXRhVXNlci5hY2Nlc3MoIGVsZW0sIG5hbWUsIGRhdGEgKTsKCX0sCgoJcmVtb3ZlRGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7CgkJZGF0YVVzZXIucmVtb3ZlKCBlbGVtLCBuYW1lICk7Cgl9LAoKCS8vIFRPRE86IE5vdyB0aGF0IGFsbCBjYWxscyB0byBfZGF0YSBhbmQgX3JlbW92ZURhdGEgaGF2ZSBiZWVuIHJlcGxhY2VkCgkvLyB3aXRoIGRpcmVjdCBjYWxscyB0byBkYXRhUHJpdiBtZXRob2RzLCB0aGVzZSBjYW4gYmUgZGVwcmVjYXRlZC4KCV9kYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZGF0YSApIHsKCQlyZXR1cm4gZGF0YVByaXYuYWNjZXNzKCBlbGVtLCBuYW1lLCBkYXRhICk7Cgl9LAoKCV9yZW1vdmVEYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSApIHsKCQlkYXRhUHJpdi5yZW1vdmUoIGVsZW0sIG5hbWUgKTsKCX0KfSApOwoKalF1ZXJ5LmZuLmV4dGVuZCggewoJZGF0YTogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7CgkJdmFyIGksIG5hbWUsIGRhdGEsCgkJCWVsZW0gPSB0aGlzWyAwIF0sCgkJCWF0dHJzID0gZWxlbSAmJiBlbGVtLmF0dHJpYnV0ZXM7CgoJCS8vIEdldHMgYWxsIHZhbHVlcwoJCWlmICgga2V5ID09PSB1bmRlZmluZWQgKSB7CgkJCWlmICggdGhpcy5sZW5ndGggKSB7CgkJCQlkYXRhID0gZGF0YVVzZXIuZ2V0KCBlbGVtICk7CgoJCQkJaWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICYmICFkYXRhUHJpdi5nZXQoIGVsZW0sICJoYXNEYXRhQXR0cnMiICkgKSB7CgkJCQkJaSA9IGF0dHJzLmxlbmd0aDsKCQkJCQl3aGlsZSAoIGktLSApIHsKCgkJCQkJCS8vIFN1cHBvcnQ6IElFIDExIG9ubHkKCQkJCQkJLy8gVGhlIGF0dHJzIGVsZW1lbnRzIGNhbiBiZSBudWxsICh0cmFjLTE0ODk0KQoJCQkJCQlpZiAoIGF0dHJzWyBpIF0gKSB7CgkJCQkJCQluYW1lID0gYXR0cnNbIGkgXS5uYW1lOwoJCQkJCQkJaWYgKCBuYW1lLmluZGV4T2YoICJkYXRhLSIgKSA9PT0gMCApIHsKCQkJCQkJCQluYW1lID0gY2FtZWxDYXNlKCBuYW1lLnNsaWNlKCA1ICkgKTsKCQkJCQkJCQlkYXRhQXR0ciggZWxlbSwgbmFtZSwgZGF0YVsgbmFtZSBdICk7CgkJCQkJCQl9CgkJCQkJCX0KCQkJCQl9CgkJCQkJZGF0YVByaXYuc2V0KCBlbGVtLCAiaGFzRGF0YUF0dHJzIiwgdHJ1ZSApOwoJCQkJfQoJCQl9CgoJCQlyZXR1cm4gZGF0YTsKCQl9CgoJCS8vIFNldHMgbXVsdGlwbGUgdmFsdWVzCgkJaWYgKCB0eXBlb2Yga2V5ID09PSAib2JqZWN0IiApIHsKCQkJcmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7CgkJCQlkYXRhVXNlci5zZXQoIHRoaXMsIGtleSApOwoJCQl9ICk7CgkJfQoKCQlyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggdmFsdWUgKSB7CgkJCXZhciBkYXRhOwoKCQkJLy8gVGhlIGNhbGxpbmcgalF1ZXJ5IG9iamVjdCAoZWxlbWVudCBtYXRjaGVzKSBpcyBub3QgZW1wdHkKCQkJLy8gKGFuZCB0aGVyZWZvcmUgaGFzIGFuIGVsZW1lbnQgYXBwZWFycyBhdCB0aGlzWyAwIF0pIGFuZCB0aGUKCQkJLy8gYHZhbHVlYCBwYXJhbWV0ZXIgd2FzIG5vdCB1bmRlZmluZWQuIEFuIGVtcHR5IGpRdWVyeSBvYmplY3QKCQkJLy8gd2lsbCByZXN1bHQgaW4gYHVuZGVmaW5lZGAgZm9yIGVsZW0gPSB0aGlzWyAwIF0gd2hpY2ggd2lsbAoJCQkvLyB0aHJvdyBhbiBleGNlcHRpb24gaWYgYW4gYXR0ZW1wdCB0byByZWFkIGEgZGF0YSBjYWNoZSBpcyBtYWRlLgoJCQlpZiAoIGVsZW0gJiYgdmFsdWUgPT09IHVuZGVmaW5lZCApIHsKCgkJCQkvLyBBdHRlbXB0IHRvIGdldCBkYXRhIGZyb20gdGhlIGNhY2hlCgkJCQkvLyBUaGUga2V5IHdpbGwgYWx3YXlzIGJlIGNhbWVsQ2FzZWQgaW4gRGF0YQoJCQkJZGF0YSA9IGRhdGFVc2VyLmdldCggZWxlbSwga2V5ICk7CgkJCQlpZiAoIGRhdGEgIT09IHVuZGVmaW5lZCApIHsKCQkJCQlyZXR1cm4gZGF0YTsKCQkJCX0KCgkJCQkvLyBBdHRlbXB0IHRvICJkaXNjb3ZlciIgdGhlIGRhdGEgaW4KCQkJCS8vIEhUTUw1IGN1c3RvbSBkYXRhLSogYXR0cnMKCQkJCWRhdGEgPSBkYXRhQXR0ciggZWxlbSwga2V5ICk7CgkJCQlpZiAoIGRhdGEgIT09IHVuZGVmaW5lZCApIHsKCQkJCQlyZXR1cm4gZGF0YTsKCQkJCX0KCgkJCQkvLyBXZSB0cmllZCByZWFsbHkgaGFyZCwgYnV0IHRoZSBkYXRhIGRvZXNuJ3QgZXhpc3QuCgkJCQlyZXR1cm47CgkJCX0KCgkJCS8vIFNldCB0aGUgZGF0YS4uLgoJCQl0aGlzLmVhY2goIGZ1bmN0aW9uKCkgewoKCQkJCS8vIFdlIGFsd2F5cyBzdG9yZSB0aGUgY2FtZWxDYXNlZCBrZXkKCQkJCWRhdGFVc2VyLnNldCggdGhpcywga2V5LCB2YWx1ZSApOwoJCQl9ICk7CgkJfSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxLCBudWxsLCB0cnVlICk7Cgl9LAoKCXJlbW92ZURhdGE6IGZ1bmN0aW9uKCBrZXkgKSB7CgkJcmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7CgkJCWRhdGFVc2VyLnJlbW92ZSggdGhpcywga2V5ICk7CgkJfSApOwoJfQp9ICk7CgoKalF1ZXJ5LmV4dGVuZCggewoJcXVldWU6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlLCBkYXRhICkgewoJCXZhciBxdWV1ZTsKCgkJaWYgKCBlbGVtICkgewoJCQl0eXBlID0gKCB0eXBlIHx8ICJmeCIgKSArICJxdWV1ZSI7CgkJCXF1ZXVlID0gZGF0YVByaXYuZ2V0KCBlbGVtLCB0eXBlICk7CgoJCQkvLyBTcGVlZCB1cCBkZXF1ZXVlIGJ5IGdldHRpbmcgb3V0IHF1aWNrbHkgaWYgdGhpcyBpcyBqdXN0IGEgbG9va3VwCgkJCWlmICggZGF0YSApIHsKCQkJCWlmICggIXF1ZXVlIHx8IEFycmF5LmlzQXJyYXkoIGRhdGEgKSApIHsKCQkJCQlxdWV1ZSA9IGRhdGFQcml2LmFjY2VzcyggZWxlbSwgdHlwZSwgalF1ZXJ5Lm1ha2VBcnJheSggZGF0YSApICk7CgkJCQl9IGVsc2UgewoJCQkJCXF1ZXVlLnB1c2goIGRhdGEgKTsKCQkJCX0KCQkJfQoJCQlyZXR1cm4gcXVldWUgfHwgW107CgkJfQoJfSwKCglkZXF1ZXVlOiBmdW5jdGlvbiggZWxlbSwgdHlwZSApIHsKCQl0eXBlID0gdHlwZSB8fCAiZngiOwoKCQl2YXIgcXVldWUgPSBqUXVlcnkucXVldWUoIGVsZW0sIHR5cGUgKSwKCQkJc3RhcnRMZW5ndGggPSBxdWV1ZS5sZW5ndGgsCgkJCWZuID0gcXVldWUuc2hpZnQoKSwKCQkJaG9va3MgPSBqUXVlcnkuX3F1ZXVlSG9va3MoIGVsZW0sIHR5cGUgKSwKCQkJbmV4dCA9IGZ1bmN0aW9uKCkgewoJCQkJalF1ZXJ5LmRlcXVldWUoIGVsZW0sIHR5cGUgKTsKCQkJfTsKCgkJLy8gSWYgdGhlIGZ4IHF1ZXVlIGlzIGRlcXVldWVkLCBhbHdheXMgcmVtb3ZlIHRoZSBwcm9ncmVzcyBzZW50aW5lbAoJCWlmICggZm4gPT09ICJpbnByb2dyZXNzIiApIHsKCQkJZm4gPSBxdWV1ZS5zaGlmdCgpOwoJCQlzdGFydExlbmd0aC0tOwoJCX0KCgkJaWYgKCBmbiApIHsKCgkJCS8vIEFkZCBhIHByb2dyZXNzIHNlbnRpbmVsIHRvIHByZXZlbnQgdGhlIGZ4IHF1ZXVlIGZyb20gYmVpbmcKCQkJLy8gYXV0b21hdGljYWxseSBkZXF1ZXVlZAoJCQlpZiAoIHR5cGUgPT09ICJmeCIgKSB7CgkJCQlxdWV1ZS51bnNoaWZ0KCAiaW5wcm9ncmVzcyIgKTsKCQkJfQoKCQkJLy8gQ2xlYXIgdXAgdGhlIGxhc3QgcXVldWUgc3RvcCBmdW5jdGlvbgoJCQlkZWxldGUgaG9va3Muc3RvcDsKCQkJZm4uY2FsbCggZWxlbSwgbmV4dCwgaG9va3MgKTsKCQl9CgoJCWlmICggIXN0YXJ0TGVuZ3RoICYmIGhvb2tzICkgewoJCQlob29rcy5lbXB0eS5maXJlKCk7CgkJfQoJfSwKCgkvLyBOb3QgcHVibGljIC0gZ2VuZXJhdGUgYSBxdWV1ZUhvb2tzIG9iamVjdCwgb3IgcmV0dXJuIHRoZSBjdXJyZW50IG9uZQoJX3F1ZXVlSG9va3M6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlICkgewoJCXZhciBrZXkgPSB0eXBlICsgInF1ZXVlSG9va3MiOwoJCXJldHVybiBkYXRhUHJpdi5nZXQoIGVsZW0sIGtleSApIHx8IGRhdGFQcml2LmFjY2VzcyggZWxlbSwga2V5LCB7CgkJCWVtcHR5OiBqUXVlcnkuQ2FsbGJhY2tzKCAib25jZSBtZW1vcnkiICkuYWRkKCBmdW5jdGlvbigpIHsKCQkJCWRhdGFQcml2LnJlbW92ZSggZWxlbSwgWyB0eXBlICsgInF1ZXVlIiwga2V5IF0gKTsKCQkJfSApCgkJfSApOwoJfQp9ICk7CgpqUXVlcnkuZm4uZXh0ZW5kKCB7CglxdWV1ZTogZnVuY3Rpb24oIHR5cGUsIGRhdGEgKSB7CgkJdmFyIHNldHRlciA9IDI7CgoJCWlmICggdHlwZW9mIHR5cGUgIT09ICJzdHJpbmciICkgewoJCQlkYXRhID0gdHlwZTsKCQkJdHlwZSA9ICJmeCI7CgkJCXNldHRlci0tOwoJCX0KCgkJaWYgKCBhcmd1bWVudHMubGVuZ3RoIDwgc2V0dGVyICkgewoJCQlyZXR1cm4galF1ZXJ5LnF1ZXVlKCB0aGlzWyAwIF0sIHR5cGUgKTsKCQl9CgoJCXJldHVybiBkYXRhID09PSB1bmRlZmluZWQgPwoJCQl0aGlzIDoKCQkJdGhpcy5lYWNoKCBmdW5jdGlvbigpIHsKCQkJCXZhciBxdWV1ZSA9IGpRdWVyeS5xdWV1ZSggdGhpcywgdHlwZSwgZGF0YSApOwoKCQkJCS8vIEVuc3VyZSBhIGhvb2tzIGZvciB0aGlzIHF1ZXVlCgkJCQlqUXVlcnkuX3F1ZXVlSG9va3MoIHRoaXMsIHR5cGUgKTsKCgkJCQlpZiAoIHR5cGUgPT09ICJmeCIgJiYgcXVldWVbIDAgXSAhPT0gImlucHJvZ3Jlc3MiICkgewoJCQkJCWpRdWVyeS5kZXF1ZXVlKCB0aGlzLCB0eXBlICk7CgkJCQl9CgkJCX0gKTsKCX0sCglkZXF1ZXVlOiBmdW5jdGlvbiggdHlwZSApIHsKCQlyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHsKCQkJalF1ZXJ5LmRlcXVldWUoIHRoaXMsIHR5cGUgKTsKCQl9ICk7Cgl9LAoJY2xlYXJRdWV1ZTogZnVuY3Rpb24oIHR5cGUgKSB7CgkJcmV0dXJuIHRoaXMucXVldWUoIHR5cGUgfHwgImZ4IiwgW10gKTsKCX0sCgoJLy8gR2V0IGEgcHJvbWlzZSByZXNvbHZlZCB3aGVuIHF1ZXVlcyBvZiBhIGNlcnRhaW4gdHlwZQoJLy8gYXJlIGVtcHRpZWQgKGZ4IGlzIHRoZSB0eXBlIGJ5IGRlZmF1bHQpCglwcm9taXNlOiBmdW5jdGlvbiggdHlwZSwgb2JqICkgewoJCXZhciB0bXAsCgkJCWNvdW50ID0gMSwKCQkJZGVmZXIgPSBqUXVlcnkuRGVmZXJyZWQoKSwKCQkJZWxlbWVudHMgPSB0aGlzLAoJCQlpID0gdGhpcy5sZW5ndGgsCgkJCXJlc29sdmUgPSBmdW5jdGlvbigpIHsKCQkJCWlmICggISggLS1jb3VudCApICkgewoJCQkJCWRlZmVyLnJlc29sdmVXaXRoKCBlbGVtZW50cywgWyBlbGVtZW50cyBdICk7CgkJCQl9CgkJCX07CgoJCWlmICggdHlwZW9mIHR5cGUgIT09ICJzdHJpbmciICkgewoJCQlvYmogPSB0eXBlOwoJCQl0eXBlID0gdW5kZWZpbmVkOwoJCX0KCQl0eXBlID0gdHlwZSB8fCAiZngiOwoKCQl3aGlsZSAoIGktLSApIHsKCQkJdG1wID0gZGF0YVByaXYuZ2V0KCBlbGVtZW50c1sgaSBdLCB0eXBlICsgInF1ZXVlSG9va3MiICk7CgkJCWlmICggdG1wICYmIHRtcC5lbXB0eSApIHsKCQkJCWNvdW50Kys7CgkJCQl0bXAuZW1wdHkuYWRkKCByZXNvbHZlICk7CgkJCX0KCQl9CgkJcmVzb2x2ZSgpOwoJCXJldHVybiBkZWZlci5wcm9taXNlKCBvYmogKTsKCX0KfSApOwp2YXIgcG51bSA9ICggL1srLV0/KD86XGQqXC58KVxkKyg/OltlRV1bKy1dP1xkK3wpLyApLnNvdXJjZTsKCnZhciByY3NzTnVtID0gbmV3IFJlZ0V4cCggIl4oPzooWystXSk9fCkoIiArIHBudW0gKyAiKShbYS16JV0qKSQiLCAiaSIgKTsKCgp2YXIgY3NzRXhwYW5kID0gWyAiVG9wIiwgIlJpZ2h0IiwgIkJvdHRvbSIsICJMZWZ0IiBdOwoKdmFyIGRvY3VtZW50RWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDsKCgoKCXZhciBpc0F0dGFjaGVkID0gZnVuY3Rpb24oIGVsZW0gKSB7CgkJCXJldHVybiBqUXVlcnkuY29udGFpbnMoIGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSApOwoJCX0sCgkJY29tcG9zZWQgPSB7IGNvbXBvc2VkOiB0cnVlIH07CgoJLy8gU3VwcG9ydDogSUUgOSAtIDExKywgRWRnZSAxMiAtIDE4KywgaU9TIDEwLjAgLSAxMC4yIG9ubHkKCS8vIENoZWNrIGF0dGFjaG1lbnQgYWNyb3NzIHNoYWRvdyBET00gYm91bmRhcmllcyB3aGVuIHBvc3NpYmxlIChnaC0zNTA0KQoJLy8gU3VwcG9ydDogaU9TIDEwLjAtMTAuMiBvbmx5CgkvLyBFYXJseSBpT1MgMTAgdmVyc2lvbnMgc3VwcG9ydCBgYXR0YWNoU2hhZG93YCBidXQgbm90IGBnZXRSb290Tm9kZWAsCgkvLyBsZWFkaW5nIHRvIGVycm9ycy4gV2UgbmVlZCB0byBjaGVjayBmb3IgYGdldFJvb3ROb2RlYC4KCWlmICggZG9jdW1lbnRFbGVtZW50LmdldFJvb3ROb2RlICkgewoJCWlzQXR0YWNoZWQgPSBmdW5jdGlvbiggZWxlbSApIHsKCQkJcmV0dXJuIGpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICkgfHwKCQkJCWVsZW0uZ2V0Um9vdE5vZGUoIGNvbXBvc2VkICkgPT09IGVsZW0ub3duZXJEb2N1bWVudDsKCQl9OwoJfQp2YXIgaXNIaWRkZW5XaXRoaW5UcmVlID0gZnVuY3Rpb24oIGVsZW0sIGVsICkgewoKCQkvLyBpc0hpZGRlbldpdGhpblRyZWUgbWlnaHQgYmUgY2FsbGVkIGZyb20galF1ZXJ5I2ZpbHRlciBmdW5jdGlvbjsKCQkvLyBpbiB0aGF0IGNhc2UsIGVsZW1lbnQgd2lsbCBiZSBzZWNvbmQgYXJndW1lbnQKCQllbGVtID0gZWwgfHwgZWxlbTsKCgkJLy8gSW5saW5lIHN0eWxlIHRydW1wcyBhbGwKCQlyZXR1cm4gZWxlbS5zdHlsZS5kaXNwbGF5ID09PSAibm9uZSIgfHwKCQkJZWxlbS5zdHlsZS5kaXNwbGF5ID09PSAiIiAmJgoKCQkJLy8gT3RoZXJ3aXNlLCBjaGVjayBjb21wdXRlZCBzdHlsZQoJCQkvLyBTdXBwb3J0OiBGaXJlZm94IDw9NDMgLSA0NQoJCQkvLyBEaXNjb25uZWN0ZWQgZWxlbWVudHMgY2FuIGhhdmUgY29tcHV0ZWQgZGlzcGxheTogbm9uZSwgc28gZmlyc3QgY29uZmlybSB0aGF0IGVsZW0gaXMKCQkJLy8gaW4gdGhlIGRvY3VtZW50LgoJCQlpc0F0dGFjaGVkKCBlbGVtICkgJiYKCgkJCWpRdWVyeS5jc3MoIGVsZW0sICJkaXNwbGF5IiApID09PSAibm9uZSI7Cgl9OwoKCgpmdW5jdGlvbiBhZGp1c3RDU1MoIGVsZW0sIHByb3AsIHZhbHVlUGFydHMsIHR3ZWVuICkgewoJdmFyIGFkanVzdGVkLCBzY2FsZSwKCQltYXhJdGVyYXRpb25zID0gMjAsCgkJY3VycmVudFZhbHVlID0gdHdlZW4gPwoJCQlmdW5jdGlvbigpIHsKCQkJCXJldHVybiB0d2Vlbi5jdXIoKTsKCQkJfSA6CgkJCWZ1bmN0aW9uKCkgewoJCQkJcmV0dXJuIGpRdWVyeS5jc3MoIGVsZW0sIHByb3AsICIiICk7CgkJCX0sCgkJaW5pdGlhbCA9IGN1cnJlbnRWYWx1ZSgpLAoJCXVuaXQgPSB2YWx1ZVBhcnRzICYmIHZhbHVlUGFydHNbIDMgXSB8fCAoIGpRdWVyeS5jc3NOdW1iZXJbIHByb3AgXSA/ICIiIDogInB4IiApLAoKCQkvLyBTdGFydGluZyB2YWx1ZSBjb21wdXRhdGlvbiBpcyByZXF1aXJlZCBmb3IgcG90ZW50aWFsIHVuaXQgbWlzbWF0Y2hlcwoJCWluaXRpYWxJblVuaXQgPSBlbGVtLm5vZGVUeXBlICYmCgkJCSggalF1ZXJ5LmNzc051bWJlclsgcHJvcCBdIHx8IHVuaXQgIT09ICJweCIgJiYgK2luaXRpYWwgKSAmJgoJCQlyY3NzTnVtLmV4ZWMoIGpRdWVyeS5jc3MoIGVsZW0sIHByb3AgKSApOwoKCWlmICggaW5pdGlhbEluVW5pdCAmJiBpbml0aWFsSW5Vbml0WyAzIF0gIT09IHVuaXQgKSB7CgoJCS8vIFN1cHBvcnQ6IEZpcmVmb3ggPD01NAoJCS8vIEhhbHZlIHRoZSBpdGVyYXRpb24gdGFyZ2V0IHZhbHVlIHRvIHByZXZlbnQgaW50ZXJmZXJlbmNlIGZyb20gQ1NTIHVwcGVyIGJvdW5kcyAoZ2gtMjE0NCkKCQlpbml0aWFsID0gaW5pdGlhbCAvIDI7CgoJCS8vIFRydXN0IHVuaXRzIHJlcG9ydGVkIGJ5IGpRdWVyeS5jc3MKCQl1bml0ID0gdW5pdCB8fCBpbml0aWFsSW5Vbml0WyAzIF07CgoJCS8vIEl0ZXJhdGl2ZWx5IGFwcHJveGltYXRlIGZyb20gYSBub256ZXJvIHN0YXJ0aW5nIHBvaW50CgkJaW5pdGlhbEluVW5pdCA9ICtpbml0aWFsIHx8IDE7CgoJCXdoaWxlICggbWF4SXRlcmF0aW9ucy0tICkgewoKCQkJLy8gRXZhbHVhdGUgYW5kIHVwZGF0ZSBvdXIgYmVzdCBndWVzcyAoZG91YmxpbmcgZ3Vlc3NlcyB0aGF0IHplcm8gb3V0KS4KCQkJLy8gRmluaXNoIGlmIHRoZSBzY2FsZSBlcXVhbHMgb3IgY3Jvc3NlcyAxIChtYWtpbmcgdGhlIG9sZCpuZXcgcHJvZHVjdCBub24tcG9zaXRpdmUpLgoJCQlqUXVlcnkuc3R5bGUoIGVsZW0sIHByb3AsIGluaXRpYWxJblVuaXQgKyB1bml0ICk7CgkJCWlmICggKCAxIC0gc2NhbGUgKSAqICggMSAtICggc2NhbGUgPSBjdXJyZW50VmFsdWUoKSAvIGluaXRpYWwgfHwgMC41ICkgKSA8PSAwICkgewoJCQkJbWF4SXRlcmF0aW9ucyA9IDA7CgkJCX0KCQkJaW5pdGlhbEluVW5pdCA9IGluaXRpYWxJblVuaXQgLyBzY2FsZTsKCgkJfQoKCQlpbml0aWFsSW5Vbml0ID0gaW5pdGlhbEluVW5pdCAqIDI7CgkJalF1ZXJ5LnN0eWxlKCBlbGVtLCBwcm9wLCBpbml0aWFsSW5Vbml0ICsgdW5pdCApOwoKCQkvLyBNYWtlIHN1cmUgd2UgdXBkYXRlIHRoZSB0d2VlbiBwcm9wZXJ0aWVzIGxhdGVyIG9uCgkJdmFsdWVQYXJ0cyA9IHZhbHVlUGFydHMgfHwgW107Cgl9CgoJaWYgKCB2YWx1ZVBhcnRzICkgewoJCWluaXRpYWxJblVuaXQgPSAraW5pdGlhbEluVW5pdCB8fCAraW5pdGlhbCB8fCAwOwoKCQkvLyBBcHBseSByZWxhdGl2ZSBvZmZzZXQgKCs9Ly09KSBpZiBzcGVjaWZpZWQKCQlhZGp1c3RlZCA9IHZhbHVlUGFydHNbIDEgXSA/CgkJCWluaXRpYWxJblVuaXQgKyAoIHZhbHVlUGFydHNbIDEgXSArIDEgKSAqIHZhbHVlUGFydHNbIDIgXSA6CgkJCSt2YWx1ZVBhcnRzWyAyIF07CgkJaWYgKCB0d2VlbiApIHsKCQkJdHdlZW4udW5pdCA9IHVuaXQ7CgkJCXR3ZWVuLnN0YXJ0ID0gaW5pdGlhbEluVW5pdDsKCQkJdHdlZW4uZW5kID0gYWRqdXN0ZWQ7CgkJfQoJfQoJcmV0dXJuIGFkanVzdGVkOwp9CgoKdmFyIGRlZmF1bHREaXNwbGF5TWFwID0ge307CgpmdW5jdGlvbiBnZXREZWZhdWx0RGlzcGxheSggZWxlbSApIHsKCXZhciB0ZW1wLAoJCWRvYyA9IGVsZW0ub3duZXJEb2N1bWVudCwKCQlub2RlTmFtZSA9IGVsZW0ubm9kZU5hbWUsCgkJZGlzcGxheSA9IGRlZmF1bHREaXNwbGF5TWFwWyBub2RlTmFtZSBdOwoKCWlmICggZGlzcGxheSApIHsKCQlyZXR1cm4gZGlzcGxheTsKCX0KCgl0ZW1wID0gZG9jLmJvZHkuYXBwZW5kQ2hpbGQoIGRvYy5jcmVhdGVFbGVtZW50KCBub2RlTmFtZSApICk7CglkaXNwbGF5ID0galF1ZXJ5LmNzcyggdGVtcCwgImRpc3BsYXkiICk7CgoJdGVtcC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCB0ZW1wICk7CgoJaWYgKCBkaXNwbGF5ID09PSAibm9uZSIgKSB7CgkJZGlzcGxheSA9ICJibG9jayI7Cgl9CglkZWZhdWx0RGlzcGxheU1hcFsgbm9kZU5hbWUgXSA9IGRpc3BsYXk7CgoJcmV0dXJuIGRpc3BsYXk7Cn0KCmZ1bmN0aW9uIHNob3dIaWRlKCBlbGVtZW50cywgc2hvdyApIHsKCXZhciBkaXNwbGF5LCBlbGVtLAoJCXZhbHVlcyA9IFtdLAoJCWluZGV4ID0gMCwKCQlsZW5ndGggPSBlbGVtZW50cy5sZW5ndGg7CgoJLy8gRGV0ZXJtaW5lIG5ldyBkaXNwbGF5IHZhbHVlIGZvciBlbGVtZW50cyB0aGF0IG5lZWQgdG8gY2hhbmdlCglmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkgewoJCWVsZW0gPSBlbGVtZW50c1sgaW5kZXggXTsKCQlpZiAoICFlbGVtLnN0eWxlICkgewoJCQljb250aW51ZTsKCQl9CgoJCWRpc3BsYXkgPSBlbGVtLnN0eWxlLmRpc3BsYXk7CgkJaWYgKCBzaG93ICkgewoKCQkJLy8gU2luY2Ugd2UgZm9yY2UgdmlzaWJpbGl0eSB1cG9uIGNhc2NhZGUtaGlkZGVuIGVsZW1lbnRzLCBhbiBpbW1lZGlhdGUgKGFuZCBzbG93KQoJCQkvLyBjaGVjayBpcyByZXF1aXJlZCBpbiB0aGlzIGZpcnN0IGxvb3AgdW5sZXNzIHdlIGhhdmUgYSBub25lbXB0eSBkaXNwbGF5IHZhbHVlIChlaXRoZXIKCQkJLy8gaW5saW5lIG9yIGFib3V0LXRvLWJlLXJlc3RvcmVkKQoJCQlpZiAoIGRpc3BsYXkgPT09ICJub25lIiApIHsKCQkJCXZhbHVlc1sgaW5kZXggXSA9IGRhdGFQcml2LmdldCggZWxlbSwgImRpc3BsYXkiICkgfHwgbnVsbDsKCQkJCWlmICggIXZhbHVlc1sgaW5kZXggXSApIHsKCQkJCQllbGVtLnN0eWxlLmRpc3BsYXkgPSAiIjsKCQkJCX0KCQkJfQoJCQlpZiAoIGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gIiIgJiYgaXNIaWRkZW5XaXRoaW5UcmVlKCBlbGVtICkgKSB7CgkJCQl2YWx1ZXNbIGluZGV4IF0gPSBnZXREZWZhdWx0RGlzcGxheSggZWxlbSApOwoJCQl9CgkJfSBlbHNlIHsKCQkJaWYgKCBkaXNwbGF5ICE9PSAibm9uZSIgKSB7CgkJCQl2YWx1ZXNbIGluZGV4IF0gPSAibm9uZSI7CgoJCQkJLy8gUmVtZW1iZXIgd2hhdCB3ZSdyZSBvdmVyd3JpdGluZwoJCQkJZGF0YVByaXYuc2V0KCBlbGVtLCAiZGlzcGxheSIsIGRpc3BsYXkgKTsKCQkJfQoJCX0KCX0KCgkvLyBTZXQgdGhlIGRpc3BsYXkgb2YgdGhlIGVsZW1lbnRzIGluIGEgc2Vjb25kIGxvb3AgdG8gYXZvaWQgY29uc3RhbnQgcmVmbG93Cglmb3IgKCBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkgewoJCWlmICggdmFsdWVzWyBpbmRleCBdICE9IG51bGwgKSB7CgkJCWVsZW1lbnRzWyBpbmRleCBdLnN0eWxlLmRpc3BsYXkgPSB2YWx1ZXNbIGluZGV4IF07CgkJfQoJfQoKCXJldHVybiBlbGVtZW50czsKfQoKalF1ZXJ5LmZuLmV4dGVuZCggewoJc2hvdzogZnVuY3Rpb24oKSB7CgkJcmV0dXJuIHNob3dIaWRlKCB0aGlzLCB0cnVlICk7Cgl9LAoJaGlkZTogZnVuY3Rpb24oKSB7CgkJcmV0dXJuIHNob3dIaWRlKCB0aGlzICk7Cgl9LAoJdG9nZ2xlOiBmdW5jdGlvbiggc3RhdGUgKSB7CgkJaWYgKCB0eXBlb2Ygc3RhdGUgPT09ICJib29sZWFuIiApIHsKCQkJcmV0dXJuIHN0YXRlID8gdGhpcy5zaG93KCkgOiB0aGlzLmhpZGUoKTsKCQl9CgoJCXJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkgewoJCQlpZiAoIGlzSGlkZGVuV2l0aGluVHJlZSggdGhpcyApICkgewoJCQkJalF1ZXJ5KCB0aGlzICkuc2hvdygpOwoJCQl9IGVsc2UgewoJCQkJalF1ZXJ5KCB0aGlzICkuaGlkZSgpOwoJCQl9CgkJfSApOwoJfQp9ICk7CnZhciByY2hlY2thYmxlVHlwZSA9ICggL14oPzpjaGVja2JveHxyYWRpbykkL2kgKTsKCnZhciBydGFnTmFtZSA9ICggLzwoW2Etel1bXlwvXDA+XHgyMFx0XHJcblxmXSopL2kgKTsKCnZhciByc2NyaXB0VHlwZSA9ICggL14kfF5tb2R1bGUkfFwvKD86amF2YXxlY21hKXNjcmlwdC9pICk7CgoKCiggZnVuY3Rpb24oKSB7Cgl2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksCgkJZGl2ID0gZnJhZ21lbnQuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICJkaXYiICkgKSwKCQlpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICJpbnB1dCIgKTsKCgkvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMCAtIDQuMyBvbmx5CgkvLyBDaGVjayBzdGF0ZSBsb3N0IGlmIHRoZSBuYW1lIGlzIHNldCAodHJhYy0xMTIxNykKCS8vIFN1cHBvcnQ6IFdpbmRvd3MgV2ViIEFwcHMgKFdXQSkKCS8vIGBuYW1lYCBhbmQgYHR5cGVgIG11c3QgdXNlIC5zZXRBdHRyaWJ1dGUgZm9yIFdXQSAodHJhYy0xNDkwMSkKCWlucHV0LnNldEF0dHJpYnV0ZSggInR5cGUiLCAicmFkaW8iICk7CglpbnB1dC5zZXRBdHRyaWJ1dGUoICJjaGVja2VkIiwgImNoZWNrZWQiICk7CglpbnB1dC5zZXRBdHRyaWJ1dGUoICJuYW1lIiwgInQiICk7CgoJZGl2LmFwcGVuZENoaWxkKCBpbnB1dCApOwoKCS8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjEgb25seQoJLy8gT2xkZXIgV2ViS2l0IGRvZXNuJ3QgY2xvbmUgY2hlY2tlZCBzdGF0ZSBjb3JyZWN0bHkgaW4gZnJhZ21lbnRzCglzdXBwb3J0LmNoZWNrQ2xvbmUgPSBkaXYuY2xvbmVOb2RlKCB0cnVlICkuY2xvbmVOb2RlKCB0cnVlICkubGFzdENoaWxkLmNoZWNrZWQ7CgoJLy8gU3VwcG9ydDogSUUgPD0xMSBvbmx5CgkvLyBNYWtlIHN1cmUgdGV4dGFyZWEgKGFuZCBjaGVja2JveCkgZGVmYXVsdFZhbHVlIGlzIHByb3Blcmx5IGNsb25lZAoJZGl2LmlubmVySFRNTCA9ICI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+IjsKCXN1cHBvcnQubm9DbG9uZUNoZWNrZWQgPSAhIWRpdi5jbG9uZU5vZGUoIHRydWUgKS5sYXN0Q2hpbGQuZGVmYXVsdFZhbHVlOwoKCS8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5CgkvLyBJRSA8PTkgcmVwbGFjZXMgPG9wdGlvbj4gdGFncyB3aXRoIHRoZWlyIGNvbnRlbnRzIHdoZW4gaW5zZXJ0ZWQgb3V0c2lkZSBvZgoJLy8gdGhlIHNlbGVjdCBlbGVtZW50LgoJZGl2LmlubmVySFRNTCA9ICI8b3B0aW9uPjwvb3B0aW9uPiI7CglzdXBwb3J0Lm9wdGlvbiA9ICEhZGl2Lmxhc3RDaGlsZDsKfSApKCk7CgoKLy8gV2UgaGF2ZSB0byBjbG9zZSB0aGVzZSB0YWdzIHRvIHN1cHBvcnQgWEhUTUwgKHRyYWMtMTMyMDApCnZhciB3cmFwTWFwID0gewoKCS8vIFhIVE1MIHBhcnNlcnMgZG8gbm90IG1hZ2ljYWxseSBpbnNlcnQgZWxlbWVudHMgaW4gdGhlCgkvLyBzYW1lIHdheSB0aGF0IHRhZyBzb3VwIHBhcnNlcnMgZG8uIFNvIHdlIGNhbm5vdCBzaG9ydGVuCgkvLyB0aGlzIGJ5IG9taXR0aW5nIDx0Ym9keT4gb3Igb3RoZXIgcmVxdWlyZWQgZWxlbWVudHMuCgl0aGVhZDogWyAxLCAiPHRhYmxlPiIsICI8L3RhYmxlPiIgXSwKCWNvbDogWyAyLCAiPHRhYmxlPjxjb2xncm91cD4iLCAiPC9jb2xncm91cD48L3RhYmxlPiIgXSwKCXRyOiBbIDIsICI8dGFibGU+PHRib2R5PiIsICI8L3Rib2R5PjwvdGFibGU+IiBdLAoJdGQ6IFsgMywgIjx0YWJsZT48dGJvZHk+PHRyPiIsICI8L3RyPjwvdGJvZHk+PC90YWJsZT4iIF0sCgoJX2RlZmF1bHQ6IFsgMCwgIiIsICIiIF0KfTsKCndyYXBNYXAudGJvZHkgPSB3cmFwTWFwLnRmb290ID0gd3JhcE1hcC5jb2xncm91cCA9IHdyYXBNYXAuY2FwdGlvbiA9IHdyYXBNYXAudGhlYWQ7CndyYXBNYXAudGggPSB3cmFwTWFwLnRkOwoKLy8gU3VwcG9ydDogSUUgPD05IG9ubHkKaWYgKCAhc3VwcG9ydC5vcHRpb24gKSB7Cgl3cmFwTWFwLm9wdGdyb3VwID0gd3JhcE1hcC5vcHRpb24gPSBbIDEsICI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+IiwgIjwvc2VsZWN0PiIgXTsKfQoKCmZ1bmN0aW9uIGdldEFsbCggY29udGV4dCwgdGFnICkgewoKCS8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHkKCS8vIFVzZSB0eXBlb2YgdG8gYXZvaWQgemVyby1hcmd1bWVudCBtZXRob2QgaW52b2NhdGlvbiBvbiBob3N0IG9iamVjdHMgKHRyYWMtMTUxNTEpCgl2YXIgcmV0OwoKCWlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09ICJ1bmRlZmluZWQiICkgewoJCXJldCA9IGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHRhZyB8fCAiKiIgKTsKCgl9IGVsc2UgaWYgKCB0eXBlb2YgY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsICE9PSAidW5kZWZpbmVkIiApIHsKCQlyZXQgPSBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoIHRhZyB8fCAiKiIgKTsKCgl9IGVsc2UgewoJCXJldCA9IFtdOwoJfQoKCWlmICggdGFnID09PSB1bmRlZmluZWQgfHwgdGFnICYmIG5vZGVOYW1lKCBjb250ZXh0LCB0YWcgKSApIHsKCQlyZXR1cm4galF1ZXJ5Lm1lcmdlKCBbIGNvbnRleHQgXSwgcmV0ICk7Cgl9CgoJcmV0dXJuIHJldDsKfQoKCi8vIE1hcmsgc2NyaXB0cyBhcyBoYXZpbmcgYWxyZWFkeSBiZWVuIGV2YWx1YXRlZApmdW5jdGlvbiBzZXRHbG9iYWxFdmFsKCBlbGVtcywgcmVmRWxlbWVudHMgKSB7Cgl2YXIgaSA9IDAsCgkJbCA9IGVsZW1zLmxlbmd0aDsKCglmb3IgKCA7IGkgPCBsOyBpKysgKSB7CgkJZGF0YVByaXYuc2V0KAoJCQllbGVtc1sgaSBdLAoJCQkiZ2xvYmFsRXZhbCIsCgkJCSFyZWZFbGVtZW50cyB8fCBkYXRhUHJpdi5nZXQoIHJlZkVsZW1lbnRzWyBpIF0sICJnbG9iYWxFdmFsIiApCgkJKTsKCX0KfQoKCnZhciByaHRtbCA9IC88fCYjP1x3KzsvOwoKZnVuY3Rpb24gYnVpbGRGcmFnbWVudCggZWxlbXMsIGNvbnRleHQsIHNjcmlwdHMsIHNlbGVjdGlvbiwgaWdub3JlZCApIHsKCXZhciBlbGVtLCB0bXAsIHRhZywgd3JhcCwgYXR0YWNoZWQsIGosCgkJZnJhZ21lbnQgPSBjb250ZXh0LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSwKCQlub2RlcyA9IFtdLAoJCWkgPSAwLAoJCWwgPSBlbGVtcy5sZW5ndGg7CgoJZm9yICggOyBpIDwgbDsgaSsrICkgewoJCWVsZW0gPSBlbGVtc1sgaSBdOwoKCQlpZiAoIGVsZW0gfHwgZWxlbSA9PT0gMCApIHsKCgkJCS8vIEFkZCBub2RlcyBkaXJlY3RseQoJCQlpZiAoIHRvVHlwZSggZWxlbSApID09PSAib2JqZWN0IiApIHsKCgkJCQkvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHkKCQkJCS8vIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXQKCQkJCWpRdWVyeS5tZXJnZSggbm9kZXMsIGVsZW0ubm9kZVR5cGUgPyBbIGVsZW0gXSA6IGVsZW0gKTsKCgkJCS8vIENvbnZlcnQgbm9uLWh0bWwgaW50byBhIHRleHQgbm9kZQoJCQl9IGVsc2UgaWYgKCAhcmh0bWwudGVzdCggZWxlbSApICkgewoJCQkJbm9kZXMucHVzaCggY29udGV4dC5jcmVhdGVUZXh0Tm9kZSggZWxlbSApICk7CgoJCQkvLyBDb252ZXJ0IGh0bWwgaW50byBET00gbm9kZXMKCQkJfSBlbHNlIHsKCQkJCXRtcCA9IHRtcCB8fCBmcmFnbWVudC5hcHBlbmRDaGlsZCggY29udGV4dC5jcmVhdGVFbGVtZW50KCAiZGl2IiApICk7CgoJCQkJLy8gRGVzZXJpYWxpemUgYSBzdGFuZGFyZCByZXByZXNlbnRhdGlvbgoJCQkJdGFnID0gKCBydGFnTmFtZS5leGVjKCBlbGVtICkgfHwgWyAiIiwgIiIgXSApWyAxIF0udG9Mb3dlckNhc2UoKTsKCQkJCXdyYXAgPSB3cmFwTWFwWyB0YWcgXSB8fCB3cmFwTWFwLl9kZWZhdWx0OwoJCQkJdG1wLmlubmVySFRNTCA9IHdyYXBbIDEgXSArIGpRdWVyeS5odG1sUHJlZmlsdGVyKCBlbGVtICkgKyB3cmFwWyAyIF07CgoJCQkJLy8gRGVzY2VuZCB0aHJvdWdoIHdyYXBwZXJzIHRvIHRoZSByaWdodCBjb250ZW50CgkJCQlqID0gd3JhcFsgMCBdOwoJCQkJd2hpbGUgKCBqLS0gKSB7CgkJCQkJdG1wID0gdG1wLmxhc3RDaGlsZDsKCQkJCX0KCgkJCQkvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHkKCQkJCS8vIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXQKCQkJCWpRdWVyeS5tZXJnZSggbm9kZXMsIHRtcC5jaGlsZE5vZGVzICk7CgoJCQkJLy8gUmVtZW1iZXIgdGhlIHRvcC1sZXZlbCBjb250YWluZXIKCQkJCXRtcCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7CgoJCQkJLy8gRW5zdXJlIHRoZSBjcmVhdGVkIG5vZGVzIGFyZSBvcnBoYW5lZCAodHJhYy0xMjM5MikKCQkJCXRtcC50ZXh0Q29udGVudCA9ICIiOwoJCQl9CgkJfQoJfQoKCS8vIFJlbW92ZSB3cmFwcGVyIGZyb20gZnJhZ21lbnQKCWZyYWdtZW50LnRleHRDb250ZW50ID0gIiI7CgoJaSA9IDA7Cgl3aGlsZSAoICggZWxlbSA9IG5vZGVzWyBpKysgXSApICkgewoKCQkvLyBTa2lwIGVsZW1lbnRzIGFscmVhZHkgaW4gdGhlIGNvbnRleHQgY29sbGVjdGlvbiAodHJhYy00MDg3KQoJCWlmICggc2VsZWN0aW9uICYmIGpRdWVyeS5pbkFycmF5KCBlbGVtLCBzZWxlY3Rpb24gKSA+IC0xICkgewoJCQlpZiAoIGlnbm9yZWQgKSB7CgkJCQlpZ25vcmVkLnB1c2goIGVsZW0gKTsKCQkJfQoJCQljb250aW51ZTsKCQl9CgoJCWF0dGFjaGVkID0gaXNBdHRhY2hlZCggZWxlbSApOwoKCQkvLyBBcHBlbmQgdG8gZnJhZ21lbnQKCQl0bXAgPSBnZXRBbGwoIGZyYWdtZW50LmFwcGVuZENoaWxkKCBlbGVtICksICJzY3JpcHQiICk7CgoJCS8vIFByZXNlcnZlIHNjcmlwdCBldmFsdWF0aW9uIGhpc3RvcnkKCQlpZiAoIGF0dGFjaGVkICkgewoJCQlzZXRHbG9iYWxFdmFsKCB0bXAgKTsKCQl9CgoJCS8vIENhcHR1cmUgZXhlY3V0YWJsZXMKCQlpZiAoIHNjcmlwdHMgKSB7CgkJCWogPSAwOwoJCQl3aGlsZSAoICggZWxlbSA9IHRtcFsgaisrIF0gKSApIHsKCQkJCWlmICggcnNjcmlwdFR5cGUudGVzdCggZWxlbS50eXBlIHx8ICIiICkgKSB7CgkJCQkJc2NyaXB0cy5wdXNoKCBlbGVtICk7CgkJCQl9CgkJCX0KCQl9Cgl9CgoJcmV0dXJuIGZyYWdtZW50Owp9CgoKdmFyIHJ0eXBlbmFtZXNwYWNlID0gL14oW14uXSopKD86XC4oLispfCkvOwoKZnVuY3Rpb24gcmV0dXJuVHJ1ZSgpIHsKCXJldHVybiB0cnVlOwp9CgpmdW5jdGlvbiByZXR1cm5GYWxzZSgpIHsKCXJldHVybiBmYWxzZTsKfQoKZnVuY3Rpb24gb24oIGVsZW0sIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4sIG9uZSApIHsKCXZhciBvcmlnRm4sIHR5cGU7CgoJLy8gVHlwZXMgY2FuIGJlIGEgbWFwIG9mIHR5cGVzL2hhbmRsZXJzCglpZiAoIHR5cGVvZiB0eXBlcyA9PT0gIm9iamVjdCIgKSB7CgoJCS8vICggdHlwZXMtT2JqZWN0LCBzZWxlY3RvciwgZGF0YSApCgkJaWYgKCB0eXBlb2Ygc2VsZWN0b3IgIT09ICJzdHJpbmciICkgewoKCQkJLy8gKCB0eXBlcy1PYmplY3QsIGRhdGEgKQoJCQlkYXRhID0gZGF0YSB8fCBzZWxlY3RvcjsKCQkJc2VsZWN0b3IgPSB1bmRlZmluZWQ7CgkJfQoJCWZvciAoIHR5cGUgaW4gdHlwZXMgKSB7CgkJCW9uKCBlbGVtLCB0eXBlLCBzZWxlY3RvciwgZGF0YSwgdHlwZXNbIHR5cGUgXSwgb25lICk7CgkJfQoJCXJldHVybiBlbGVtOwoJfQoKCWlmICggZGF0YSA9PSBudWxsICYmIGZuID09IG51bGwgKSB7CgoJCS8vICggdHlwZXMsIGZuICkKCQlmbiA9IHNlbGVjdG9yOwoJCWRhdGEgPSBzZWxlY3RvciA9IHVuZGVmaW5lZDsKCX0gZWxzZSBpZiAoIGZuID09IG51bGwgKSB7CgkJaWYgKCB0eXBlb2Ygc2VsZWN0b3IgPT09ICJzdHJpbmciICkgewoKCQkJLy8gKCB0eXBlcywgc2VsZWN0b3IsIGZuICkKCQkJZm4gPSBkYXRhOwoJCQlkYXRhID0gdW5kZWZpbmVkOwoJCX0gZWxzZSB7CgoJCQkvLyAoIHR5cGVzLCBkYXRhLCBmbiApCgkJCWZuID0gZGF0YTsKCQkJZGF0YSA9IHNlbGVjdG9yOwoJCQlzZWxlY3RvciA9IHVuZGVmaW5lZDsKCQl9Cgl9CglpZiAoIGZuID09PSBmYWxzZSApIHsKCQlmbiA9IHJldHVybkZhbHNlOwoJfSBlbHNlIGlmICggIWZuICkgewoJCXJldHVybiBlbGVtOwoJfQoKCWlmICggb25lID09PSAxICkgewoJCW9yaWdGbiA9IGZuOwoJCWZuID0gZnVuY3Rpb24oIGV2ZW50ICkgewoKCQkJLy8gQ2FuIHVzZSBhbiBlbXB0eSBzZXQsIHNpbmNlIGV2ZW50IGNvbnRhaW5zIHRoZSBpbmZvCgkJCWpRdWVyeSgpLm9mZiggZXZlbnQgKTsKCQkJcmV0dXJuIG9yaWdGbi5hcHBseSggdGhpcywgYXJndW1lbnRzICk7CgkJfTsKCgkJLy8gVXNlIHNhbWUgZ3VpZCBzbyBjYWxsZXIgY2FuIHJlbW92ZSB1c2luZyBvcmlnRm4KCQlmbi5ndWlkID0gb3JpZ0ZuLmd1aWQgfHwgKCBvcmlnRm4uZ3VpZCA9IGpRdWVyeS5ndWlkKysgKTsKCX0KCXJldHVybiBlbGVtLmVhY2goIGZ1bmN0aW9uKCkgewoJCWpRdWVyeS5ldmVudC5hZGQoIHRoaXMsIHR5cGVzLCBmbiwgZGF0YSwgc2VsZWN0b3IgKTsKCX0gKTsKfQoKLyoKICogSGVscGVyIGZ1bmN0aW9ucyBmb3IgbWFuYWdpbmcgZXZlbnRzIC0tIG5vdCBwYXJ0IG9mIHRoZSBwdWJsaWMgaW50ZXJmYWNlLgogKiBQcm9wcyB0byBEZWFuIEVkd2FyZHMnIGFkZEV2ZW50IGxpYnJhcnkgZm9yIG1hbnkgb2YgdGhlIGlkZWFzLgogKi8KalF1ZXJ5LmV2ZW50ID0gewoKCWdsb2JhbDoge30sCgoJYWRkOiBmdW5jdGlvbiggZWxlbSwgdHlwZXMsIGhhbmRsZXIsIGRhdGEsIHNlbGVjdG9yICkgewoKCQl2YXIgaGFuZGxlT2JqSW4sIGV2ZW50SGFuZGxlLCB0bXAsCgkJCWV2ZW50cywgdCwgaGFuZGxlT2JqLAoJCQlzcGVjaWFsLCBoYW5kbGVycywgdHlwZSwgbmFtZXNwYWNlcywgb3JpZ1R5cGUsCgkJCWVsZW1EYXRhID0gZGF0YVByaXYuZ2V0KCBlbGVtICk7CgoJCS8vIE9ubHkgYXR0YWNoIGV2ZW50cyB0byBvYmplY3RzIHRoYXQgYWNjZXB0IGRhdGEKCQlpZiAoICFhY2NlcHREYXRhKCBlbGVtICkgKSB7CgkJCXJldHVybjsKCQl9CgoJCS8vIENhbGxlciBjYW4gcGFzcyBpbiBhbiBvYmplY3Qgb2YgY3VzdG9tIGRhdGEgaW4gbGlldSBvZiB0aGUgaGFuZGxlcgoJCWlmICggaGFuZGxlci5oYW5kbGVyICkgewoJCQloYW5kbGVPYmpJbiA9IGhhbmRsZXI7CgkJCWhhbmRsZXIgPSBoYW5kbGVPYmpJbi5oYW5kbGVyOwoJCQlzZWxlY3RvciA9IGhhbmRsZU9iakluLnNlbGVjdG9yOwoJCX0KCgkJLy8gRW5zdXJlIHRoYXQgaW52YWxpZCBzZWxlY3RvcnMgdGhyb3cgZXhjZXB0aW9ucyBhdCBhdHRhY2ggdGltZQoJCS8vIEV2YWx1YXRlIGFnYWluc3QgZG9jdW1lbnRFbGVtZW50IGluIGNhc2UgZWxlbSBpcyBhIG5vbi1lbGVtZW50IG5vZGUgKGUuZy4sIGRvY3VtZW50KQoJCWlmICggc2VsZWN0b3IgKSB7CgkJCWpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvciggZG9jdW1lbnRFbGVtZW50LCBzZWxlY3RvciApOwoJCX0KCgkJLy8gTWFrZSBzdXJlIHRoYXQgdGhlIGhhbmRsZXIgaGFzIGEgdW5pcXVlIElELCB1c2VkIHRvIGZpbmQvcmVtb3ZlIGl0IGxhdGVyCgkJaWYgKCAhaGFuZGxlci5ndWlkICkgewoJCQloYW5kbGVyLmd1aWQgPSBqUXVlcnkuZ3VpZCsrOwoJCX0KCgkJLy8gSW5pdCB0aGUgZWxlbWVudCdzIGV2ZW50IHN0cnVjdHVyZSBhbmQgbWFpbiBoYW5kbGVyLCBpZiB0aGlzIGlzIHRoZSBmaXJzdAoJCWlmICggISggZXZlbnRzID0gZWxlbURhdGEuZXZlbnRzICkgKSB7CgkJCWV2ZW50cyA9IGVsZW1EYXRhLmV2ZW50cyA9IE9iamVjdC5jcmVhdGUoIG51bGwgKTsKCQl9CgkJaWYgKCAhKCBldmVudEhhbmRsZSA9IGVsZW1EYXRhLmhhbmRsZSApICkgewoJCQlldmVudEhhbmRsZSA9IGVsZW1EYXRhLmhhbmRsZSA9IGZ1bmN0aW9uKCBlICkgewoKCQkJCS8vIERpc2NhcmQgdGhlIHNlY29uZCBldmVudCBvZiBhIGpRdWVyeS5ldmVudC50cmlnZ2VyKCkgYW5kCgkJCQkvLyB3aGVuIGFuIGV2ZW50IGlzIGNhbGxlZCBhZnRlciBhIHBhZ2UgaGFzIHVubG9hZGVkCgkJCQlyZXR1cm4gdHlwZW9mIGpRdWVyeSAhPT0gInVuZGVmaW5lZCIgJiYgalF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCAhPT0gZS50eXBlID8KCQkJCQlqUXVlcnkuZXZlbnQuZGlzcGF0Y2guYXBwbHkoIGVsZW0sIGFyZ3VtZW50cyApIDogdW5kZWZpbmVkOwoJCQl9OwoJCX0KCgkJLy8gSGFuZGxlIG11bHRpcGxlIGV2ZW50cyBzZXBhcmF0ZWQgYnkgYSBzcGFjZQoJCXR5cGVzID0gKCB0eXBlcyB8fCAiIiApLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgWyAiIiBdOwoJCXQgPSB0eXBlcy5sZW5ndGg7CgkJd2hpbGUgKCB0LS0gKSB7CgkJCXRtcCA9IHJ0eXBlbmFtZXNwYWNlLmV4ZWMoIHR5cGVzWyB0IF0gKSB8fCBbXTsKCQkJdHlwZSA9IG9yaWdUeXBlID0gdG1wWyAxIF07CgkJCW5hbWVzcGFjZXMgPSAoIHRtcFsgMiBdIHx8ICIiICkuc3BsaXQoICIuIiApLnNvcnQoKTsKCgkJCS8vIFRoZXJlICptdXN0KiBiZSBhIHR5cGUsIG5vIGF0dGFjaGluZyBuYW1lc3BhY2Utb25seSBoYW5kbGVycwoJCQlpZiAoICF0eXBlICkgewoJCQkJY29udGludWU7CgkJCX0KCgkJCS8vIElmIGV2ZW50IGNoYW5nZXMgaXRzIHR5cGUsIHVzZSB0aGUgc3BlY2lhbCBldmVudCBoYW5kbGVycyBmb3IgdGhlIGNoYW5nZWQgdHlwZQoJCQlzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTsKCgkJCS8vIElmIHNlbGVjdG9yIGRlZmluZWQsIGRldGVybWluZSBzcGVjaWFsIGV2ZW50IGFwaSB0eXBlLCBvdGhlcndpc2UgZ2l2ZW4gdHlwZQoJCQl0eXBlID0gKCBzZWxlY3RvciA/IHNwZWNpYWwuZGVsZWdhdGVUeXBlIDogc3BlY2lhbC5iaW5kVHlwZSApIHx8IHR5cGU7CgoJCQkvLyBVcGRhdGUgc3BlY2lhbCBiYXNlZCBvbiBuZXdseSByZXNldCB0eXBlCgkJCXNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9OwoKCQkJLy8gaGFuZGxlT2JqIGlzIHBhc3NlZCB0byBhbGwgZXZlbnQgaGFuZGxlcnMKCQkJaGFuZGxlT2JqID0galF1ZXJ5LmV4dGVuZCggewoJCQkJdHlwZTogdHlwZSwKCQkJCW9yaWdUeXBlOiBvcmlnVHlwZSwKCQkJCWRhdGE6IGRhdGEsCgkJCQloYW5kbGVyOiBoYW5kbGVyLAoJCQkJZ3VpZDogaGFuZGxlci5ndWlkLAoJCQkJc2VsZWN0b3I6IHNlbGVjdG9yLAoJCQkJbmVlZHNDb250ZXh0OiBzZWxlY3RvciAmJiBqUXVlcnkuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdCggc2VsZWN0b3IgKSwKCQkJCW5hbWVzcGFjZTogbmFtZXNwYWNlcy5qb2luKCAiLiIgKQoJCQl9LCBoYW5kbGVPYmpJbiApOwoKCQkJLy8gSW5pdCB0aGUgZXZlbnQgaGFuZGxlciBxdWV1ZSBpZiB3ZSdyZSB0aGUgZmlyc3QKCQkJaWYgKCAhKCBoYW5kbGVycyA9IGV2ZW50c1sgdHlwZSBdICkgKSB7CgkJCQloYW5kbGVycyA9IGV2ZW50c1sgdHlwZSBdID0gW107CgkJCQloYW5kbGVycy5kZWxlZ2F0ZUNvdW50ID0gMDsKCgkJCQkvLyBPbmx5IHVzZSBhZGRFdmVudExpc3RlbmVyIGlmIHRoZSBzcGVjaWFsIGV2ZW50cyBoYW5kbGVyIHJldHVybnMgZmFsc2UKCQkJCWlmICggIXNwZWNpYWwuc2V0dXAgfHwKCQkJCQlzcGVjaWFsLnNldHVwLmNhbGwoIGVsZW0sIGRhdGEsIG5hbWVzcGFjZXMsIGV2ZW50SGFuZGxlICkgPT09IGZhbHNlICkgewoKCQkJCQlpZiAoIGVsZW0uYWRkRXZlbnRMaXN0ZW5lciApIHsKCQkJCQkJZWxlbS5hZGRFdmVudExpc3RlbmVyKCB0eXBlLCBldmVudEhhbmRsZSApOwoJCQkJCX0KCQkJCX0KCQkJfQoKCQkJaWYgKCBzcGVjaWFsLmFkZCApIHsKCQkJCXNwZWNpYWwuYWRkLmNhbGwoIGVsZW0sIGhhbmRsZU9iaiApOwoKCQkJCWlmICggIWhhbmRsZU9iai5oYW5kbGVyLmd1aWQgKSB7CgkJCQkJaGFuZGxlT2JqLmhhbmRsZXIuZ3VpZCA9IGhhbmRsZXIuZ3VpZDsKCQkJCX0KCQkJfQoKCQkJLy8gQWRkIHRvIHRoZSBlbGVtZW50J3MgaGFuZGxlciBsaXN0LCBkZWxlZ2F0ZXMgaW4gZnJvbnQKCQkJaWYgKCBzZWxlY3RvciApIHsKCQkJCWhhbmRsZXJzLnNwbGljZSggaGFuZGxlcnMuZGVsZWdhdGVDb3VudCsrLCAwLCBoYW5kbGVPYmogKTsKCQkJfSBlbHNlIHsKCQkJCWhhbmRsZXJzLnB1c2goIGhhbmRsZU9iaiApOwoJCQl9CgoJCQkvLyBLZWVwIHRyYWNrIG9mIHdoaWNoIGV2ZW50cyBoYXZlIGV2ZXIgYmVlbiB1c2VkLCBmb3IgZXZlbnQgb3B0aW1pemF0aW9uCgkJCWpRdWVyeS5ldmVudC5nbG9iYWxbIHR5cGUgXSA9IHRydWU7CgkJfQoKCX0sCgoJLy8gRGV0YWNoIGFuIGV2ZW50IG9yIHNldCBvZiBldmVudHMgZnJvbSBhbiBlbGVtZW50CglyZW1vdmU6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlcywgaGFuZGxlciwgc2VsZWN0b3IsIG1hcHBlZFR5cGVzICkgewoKCQl2YXIgaiwgb3JpZ0NvdW50LCB0bXAsCgkJCWV2ZW50cywgdCwgaGFuZGxlT2JqLAoJCQlzcGVjaWFsLCBoYW5kbGVycywgdHlwZSwgbmFtZXNwYWNlcywgb3JpZ1R5cGUsCgkJCWVsZW1EYXRhID0gZGF0YVByaXYuaGFzRGF0YSggZWxlbSApICYmIGRhdGFQcml2LmdldCggZWxlbSApOwoKCQlpZiAoICFlbGVtRGF0YSB8fCAhKCBldmVudHMgPSBlbGVtRGF0YS5ldmVudHMgKSApIHsKCQkJcmV0dXJuOwoJCX0KCgkJLy8gT25jZSBmb3IgZWFjaCB0eXBlLm5hbWVzcGFjZSBpbiB0eXBlczsgdHlwZSBtYXkgYmUgb21pdHRlZAoJCXR5cGVzID0gKCB0eXBlcyB8fCAiIiApLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgWyAiIiBdOwoJCXQgPSB0eXBlcy5sZW5ndGg7CgkJd2hpbGUgKCB0LS0gKSB7CgkJCXRtcCA9IHJ0eXBlbmFtZXNwYWNlLmV4ZWMoIHR5cGVzWyB0IF0gKSB8fCBbXTsKCQkJdHlwZSA9IG9yaWdUeXBlID0gdG1wWyAxIF07CgkJCW5hbWVzcGFjZXMgPSAoIHRtcFsgMiBdIHx8ICIiICkuc3BsaXQoICIuIiApLnNvcnQoKTsKCgkJCS8vIFVuYmluZCBhbGwgZXZlbnRzIChvbiB0aGlzIG5hbWVzcGFjZSwgaWYgcHJvdmlkZWQpIGZvciB0aGUgZWxlbWVudAoJCQlpZiAoICF0eXBlICkgewoJCQkJZm9yICggdHlwZSBpbiBldmVudHMgKSB7CgkJCQkJalF1ZXJ5LmV2ZW50LnJlbW92ZSggZWxlbSwgdHlwZSArIHR5cGVzWyB0IF0sIGhhbmRsZXIsIHNlbGVjdG9yLCB0cnVlICk7CgkJCQl9CgkJCQljb250aW51ZTsKCQkJfQoKCQkJc3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307CgkJCXR5cGUgPSAoIHNlbGVjdG9yID8gc3BlY2lhbC5kZWxlZ2F0ZVR5cGUgOiBzcGVjaWFsLmJpbmRUeXBlICkgfHwgdHlwZTsKCQkJaGFuZGxlcnMgPSBldmVudHNbIHR5cGUgXSB8fCBbXTsKCQkJdG1wID0gdG1wWyAyIF0gJiYKCQkJCW5ldyBSZWdFeHAoICIoXnxcXC4pIiArIG5hbWVzcGFjZXMuam9pbiggIlxcLig/Oi4qXFwufCkiICkgKyAiKFxcLnwkKSIgKTsKCgkJCS8vIFJlbW92ZSBtYXRjaGluZyBldmVudHMKCQkJb3JpZ0NvdW50ID0gaiA9IGhhbmRsZXJzLmxlbmd0aDsKCQkJd2hpbGUgKCBqLS0gKSB7CgkJCQloYW5kbGVPYmogPSBoYW5kbGVyc1sgaiBdOwoKCQkJCWlmICggKCBtYXBwZWRUeXBlcyB8fCBvcmlnVHlwZSA9PT0gaGFuZGxlT2JqLm9yaWdUeXBlICkgJiYKCQkJCQkoICFoYW5kbGVyIHx8IGhhbmRsZXIuZ3VpZCA9PT0gaGFuZGxlT2JqLmd1aWQgKSAmJgoJCQkJCSggIXRtcCB8fCB0bXAudGVzdCggaGFuZGxlT2JqLm5hbWVzcGFjZSApICkgJiYKCQkJCQkoICFzZWxlY3RvciB8fCBzZWxlY3RvciA9PT0gaGFuZGxlT2JqLnNlbGVjdG9yIHx8CgkJCQkJCXNlbGVjdG9yID09PSAiKioiICYmIGhhbmRsZU9iai5zZWxlY3RvciApICkgewoJCQkJCWhhbmRsZXJzLnNwbGljZSggaiwgMSApOwoKCQkJCQlpZiAoIGhhbmRsZU9iai5zZWxlY3RvciApIHsKCQkJCQkJaGFuZGxlcnMuZGVsZWdhdGVDb3VudC0tOwoJCQkJCX0KCQkJCQlpZiAoIHNwZWNpYWwucmVtb3ZlICkgewoJCQkJCQlzcGVjaWFsLnJlbW92ZS5jYWxsKCBlbGVtLCBoYW5kbGVPYmogKTsKCQkJCQl9CgkJCQl9CgkJCX0KCgkJCS8vIFJlbW92ZSBnZW5lcmljIGV2ZW50IGhhbmRsZXIgaWYgd2UgcmVtb3ZlZCBzb21ldGhpbmcgYW5kIG5vIG1vcmUgaGFuZGxlcnMgZXhpc3QKCQkJLy8gKGF2b2lkcyBwb3RlbnRpYWwgZm9yIGVuZGxlc3MgcmVjdXJzaW9uIGR1cmluZyByZW1vdmFsIG9mIHNwZWNpYWwgZXZlbnQgaGFuZGxlcnMpCgkJCWlmICggb3JpZ0NvdW50ICYmICFoYW5kbGVycy5sZW5ndGggKSB7CgkJCQlpZiAoICFzcGVjaWFsLnRlYXJkb3duIHx8CgkJCQkJc3BlY2lhbC50ZWFyZG93bi5jYWxsKCBlbGVtLCBuYW1lc3BhY2VzLCBlbGVtRGF0YS5oYW5kbGUgKSA9PT0gZmFsc2UgKSB7CgoJCQkJCWpRdWVyeS5yZW1vdmVFdmVudCggZWxlbSwgdHlwZSwgZWxlbURhdGEuaGFuZGxlICk7CgkJCQl9CgoJCQkJZGVsZXRlIGV2ZW50c1sgdHlwZSBdOwoJCQl9CgkJfQoKCQkvLyBSZW1vdmUgZGF0YSBhbmQgdGhlIGV4cGFuZG8gaWYgaXQncyBubyBsb25nZXIgdXNlZAoJCWlmICggalF1ZXJ5LmlzRW1wdHlPYmplY3QoIGV2ZW50cyApICkgewoJCQlkYXRhUHJpdi5yZW1vdmUoIGVsZW0sICJoYW5kbGUgZXZlbnRzIiApOwoJCX0KCX0sCgoJZGlzcGF0Y2g6IGZ1bmN0aW9uKCBuYXRpdmVFdmVudCApIHsKCgkJdmFyIGksIGosIHJldCwgbWF0Y2hlZCwgaGFuZGxlT2JqLCBoYW5kbGVyUXVldWUsCgkJCWFyZ3MgPSBuZXcgQXJyYXkoIGFyZ3VtZW50cy5sZW5ndGggKSwKCgkJCS8vIE1ha2UgYSB3cml0YWJsZSBqUXVlcnkuRXZlbnQgZnJvbSB0aGUgbmF0aXZlIGV2ZW50IG9iamVjdAoJCQlldmVudCA9IGpRdWVyeS5ldmVudC5maXgoIG5hdGl2ZUV2ZW50ICksCgoJCQloYW5kbGVycyA9ICgKCQkJCWRhdGFQcml2LmdldCggdGhpcywgImV2ZW50cyIgKSB8fCBPYmplY3QuY3JlYXRlKCBudWxsICkKCQkJKVsgZXZlbnQudHlwZSBdIHx8IFtdLAoJCQlzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIGV2ZW50LnR5cGUgXSB8fCB7fTsKCgkJLy8gVXNlIHRoZSBmaXgtZWQgalF1ZXJ5LkV2ZW50IHJhdGhlciB0aGFuIHRoZSAocmVhZC1vbmx5KSBuYXRpdmUgZXZlbnQKCQlhcmdzWyAwIF0gPSBldmVudDsKCgkJZm9yICggaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKysgKSB7CgkJCWFyZ3NbIGkgXSA9IGFyZ3VtZW50c1sgaSBdOwoJCX0KCgkJZXZlbnQuZGVsZWdhdGVUYXJnZXQgPSB0aGlzOwoKCQkvLyBDYWxsIHRoZSBwcmVEaXNwYXRjaCBob29rIGZvciB0aGUgbWFwcGVkIHR5cGUsIGFuZCBsZXQgaXQgYmFpbCBpZiBkZXNpcmVkCgkJaWYgKCBzcGVjaWFsLnByZURpc3BhdGNoICYmIHNwZWNpYWwucHJlRGlzcGF0Y2guY2FsbCggdGhpcywgZXZlbnQgKSA9PT0gZmFsc2UgKSB7CgkJCXJldHVybjsKCQl9CgoJCS8vIERldGVybWluZSBoYW5kbGVycwoJCWhhbmRsZXJRdWV1ZSA9IGpRdWVyeS5ldmVudC5oYW5kbGVycy5jYWxsKCB0aGlzLCBldmVudCwgaGFuZGxlcnMgKTsKCgkJLy8gUnVuIGRlbGVnYXRlcyBmaXJzdDsgdGhleSBtYXkgd2FudCB0byBzdG9wIHByb3BhZ2F0aW9uIGJlbmVhdGggdXMKCQlpID0gMDsKCQl3aGlsZSAoICggbWF0Y2hlZCA9IGhhbmRsZXJRdWV1ZVsgaSsrIF0gKSAmJiAhZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSApIHsKCQkJZXZlbnQuY3VycmVudFRhcmdldCA9IG1hdGNoZWQuZWxlbTsKCgkJCWogPSAwOwoJCQl3aGlsZSAoICggaGFuZGxlT2JqID0gbWF0Y2hlZC5oYW5kbGVyc1sgaisrIF0gKSAmJgoJCQkJIWV2ZW50LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7CgoJCQkJLy8gSWYgdGhlIGV2ZW50IGlzIG5hbWVzcGFjZWQsIHRoZW4gZWFjaCBoYW5kbGVyIGlzIG9ubHkgaW52b2tlZCBpZiBpdCBpcwoJCQkJLy8gc3BlY2lhbGx5IHVuaXZlcnNhbCBvciBpdHMgbmFtZXNwYWNlcyBhcmUgYSBzdXBlcnNldCBvZiB0aGUgZXZlbnQncy4KCQkJCWlmICggIWV2ZW50LnJuYW1lc3BhY2UgfHwgaGFuZGxlT2JqLm5hbWVzcGFjZSA9PT0gZmFsc2UgfHwKCQkJCQlldmVudC5ybmFtZXNwYWNlLnRlc3QoIGhhbmRsZU9iai5uYW1lc3BhY2UgKSApIHsKCgkJCQkJZXZlbnQuaGFuZGxlT2JqID0gaGFuZGxlT2JqOwoJCQkJCWV2ZW50LmRhdGEgPSBoYW5kbGVPYmouZGF0YTsKCgkJCQkJcmV0ID0gKCAoIGpRdWVyeS5ldmVudC5zcGVjaWFsWyBoYW5kbGVPYmoub3JpZ1R5cGUgXSB8fCB7fSApLmhhbmRsZSB8fAoJCQkJCQloYW5kbGVPYmouaGFuZGxlciApLmFwcGx5KCBtYXRjaGVkLmVsZW0sIGFyZ3MgKTsKCgkJCQkJaWYgKCByZXQgIT09IHVuZGVmaW5lZCApIHsKCQkJCQkJaWYgKCAoIGV2ZW50LnJlc3VsdCA9IHJldCApID09PSBmYWxzZSApIHsKCQkJCQkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJCQkJCQlldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKCQkJCQkJfQoJCQkJCX0KCQkJCX0KCQkJfQoJCX0KCgkJLy8gQ2FsbCB0aGUgcG9zdERpc3BhdGNoIGhvb2sgZm9yIHRoZSBtYXBwZWQgdHlwZQoJCWlmICggc3BlY2lhbC5wb3N0RGlzcGF0Y2ggKSB7CgkJCXNwZWNpYWwucG9zdERpc3BhdGNoLmNhbGwoIHRoaXMsIGV2ZW50ICk7CgkJfQoKCQlyZXR1cm4gZXZlbnQucmVzdWx0OwoJfSwKCgloYW5kbGVyczogZnVuY3Rpb24oIGV2ZW50LCBoYW5kbGVycyApIHsKCQl2YXIgaSwgaGFuZGxlT2JqLCBzZWwsIG1hdGNoZWRIYW5kbGVycywgbWF0Y2hlZFNlbGVjdG9ycywKCQkJaGFuZGxlclF1ZXVlID0gW10sCgkJCWRlbGVnYXRlQ291bnQgPSBoYW5kbGVycy5kZWxlZ2F0ZUNvdW50LAoJCQljdXIgPSBldmVudC50YXJnZXQ7CgoJCS8vIEZpbmQgZGVsZWdhdGUgaGFuZGxlcnMKCQlpZiAoIGRlbGVnYXRlQ291bnQgJiYKCgkJCS8vIFN1cHBvcnQ6IElFIDw9OQoJCQkvLyBCbGFjay1ob2xlIFNWRyA8dXNlPiBpbnN0YW5jZSB0cmVlcyAodHJhYy0xMzE4MCkKCQkJY3VyLm5vZGVUeXBlICYmCgoJCQkvLyBTdXBwb3J0OiBGaXJlZm94IDw9NDIKCQkJLy8gU3VwcHJlc3Mgc3BlYy12aW9sYXRpbmcgY2xpY2tzIGluZGljYXRpbmcgYSBub24tcHJpbWFyeSBwb2ludGVyIGJ1dHRvbiAodHJhYy0zODYxKQoJCQkvLyBodHRwczovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzLyNldmVudC10eXBlLWNsaWNrCgkJCS8vIFN1cHBvcnQ6IElFIDExIG9ubHkKCQkJLy8gLi4uYnV0IG5vdCBhcnJvdyBrZXkgImNsaWNrcyIgb2YgcmFkaW8gaW5wdXRzLCB3aGljaCBjYW4gaGF2ZSBgYnV0dG9uYCAtMSAoZ2gtMjM0MykKCQkJISggZXZlbnQudHlwZSA9PT0gImNsaWNrIiAmJiBldmVudC5idXR0b24gPj0gMSApICkgewoKCQkJZm9yICggOyBjdXIgIT09IHRoaXM7IGN1ciA9IGN1ci5wYXJlbnROb2RlIHx8IHRoaXMgKSB7CgoJCQkJLy8gRG9uJ3QgY2hlY2sgbm9uLWVsZW1lbnRzICh0cmFjLTEzMjA4KQoJCQkJLy8gRG9uJ3QgcHJvY2VzcyBjbGlja3Mgb24gZGlzYWJsZWQgZWxlbWVudHMgKHRyYWMtNjkxMSwgdHJhYy04MTY1LCB0cmFjLTExMzgyLCB0cmFjLTExNzY0KQoJCQkJaWYgKCBjdXIubm9kZVR5cGUgPT09IDEgJiYgISggZXZlbnQudHlwZSA9PT0gImNsaWNrIiAmJiBjdXIuZGlzYWJsZWQgPT09IHRydWUgKSApIHsKCQkJCQltYXRjaGVkSGFuZGxlcnMgPSBbXTsKCQkJCQltYXRjaGVkU2VsZWN0b3JzID0ge307CgkJCQkJZm9yICggaSA9IDA7IGkgPCBkZWxlZ2F0ZUNvdW50OyBpKysgKSB7CgkJCQkJCWhhbmRsZU9iaiA9IGhhbmRsZXJzWyBpIF07CgoJCQkJCQkvLyBEb24ndCBjb25mbGljdCB3aXRoIE9iamVjdC5wcm90b3R5cGUgcHJvcGVydGllcyAodHJhYy0xMzIwMykKCQkJCQkJc2VsID0gaGFuZGxlT2JqLnNlbGVjdG9yICsgIiAiOwoKCQkJCQkJaWYgKCBtYXRjaGVkU2VsZWN0b3JzWyBzZWwgXSA9PT0gdW5kZWZpbmVkICkgewoJCQkJCQkJbWF0Y2hlZFNlbGVjdG9yc1sgc2VsIF0gPSBoYW5kbGVPYmoubmVlZHNDb250ZXh0ID8KCQkJCQkJCQlqUXVlcnkoIHNlbCwgdGhpcyApLmluZGV4KCBjdXIgKSA+IC0xIDoKCQkJCQkJCQlqUXVlcnkuZmluZCggc2VsLCB0aGlzLCBudWxsLCBbIGN1ciBdICkubGVuZ3RoOwoJCQkJCQl9CgkJCQkJCWlmICggbWF0Y2hlZFNlbGVjdG9yc1sgc2VsIF0gKSB7CgkJCQkJCQltYXRjaGVkSGFuZGxlcnMucHVzaCggaGFuZGxlT2JqICk7CgkJCQkJCX0KCQkJCQl9CgkJCQkJaWYgKCBtYXRjaGVkSGFuZGxlcnMubGVuZ3RoICkgewoJCQkJCQloYW5kbGVyUXVldWUucHVzaCggeyBlbGVtOiBjdXIsIGhhbmRsZXJzOiBtYXRjaGVkSGFuZGxlcnMgfSApOwoJCQkJCX0KCQkJCX0KCQkJfQoJCX0KCgkJLy8gQWRkIHRoZSByZW1haW5pbmcgKGRpcmVjdGx5LWJvdW5kKSBoYW5kbGVycwoJCWN1ciA9IHRoaXM7CgkJaWYgKCBkZWxlZ2F0ZUNvdW50IDwgaGFuZGxlcnMubGVuZ3RoICkgewoJCQloYW5kbGVyUXVldWUucHVzaCggeyBlbGVtOiBjdXIsIGhhbmRsZXJzOiBoYW5kbGVycy5zbGljZSggZGVsZWdhdGVDb3VudCApIH0gKTsKCQl9CgoJCXJldHVybiBoYW5kbGVyUXVldWU7Cgl9LAoKCWFkZFByb3A6IGZ1bmN0aW9uKCBuYW1lLCBob29rICkgewoJCU9iamVjdC5kZWZpbmVQcm9wZXJ0eSggalF1ZXJ5LkV2ZW50LnByb3RvdHlwZSwgbmFtZSwgewoJCQllbnVtZXJhYmxlOiB0cnVlLAoJCQljb25maWd1cmFibGU6IHRydWUsCgoJCQlnZXQ6IGlzRnVuY3Rpb24oIGhvb2sgKSA/CgkJCQlmdW5jdGlvbigpIHsKCQkJCQlpZiAoIHRoaXMub3JpZ2luYWxFdmVudCApIHsKCQkJCQkJcmV0dXJuIGhvb2soIHRoaXMub3JpZ2luYWxFdmVudCApOwoJCQkJCX0KCQkJCX0gOgoJCQkJZnVuY3Rpb24oKSB7CgkJCQkJaWYgKCB0aGlzLm9yaWdpbmFsRXZlbnQgKSB7CgkJCQkJCXJldHVybiB0aGlzLm9yaWdpbmFsRXZlbnRbIG5hbWUgXTsKCQkJCQl9CgkJCQl9LAoKCQkJc2V0OiBmdW5jdGlvbiggdmFsdWUgKSB7CgkJCQlPYmplY3QuZGVmaW5lUHJvcGVydHkoIHRoaXMsIG5hbWUsIHsKCQkJCQllbnVtZXJhYmxlOiB0cnVlLAoJCQkJCWNvbmZpZ3VyYWJsZTogdHJ1ZSwKCQkJCQl3cml0YWJsZTogdHJ1ZSwKCQkJCQl2YWx1ZTogdmFsdWUKCQkJCX0gKTsKCQkJfQoJCX0gKTsKCX0sCgoJZml4OiBmdW5jdGlvbiggb3JpZ2luYWxFdmVudCApIHsKCQlyZXR1cm4gb3JpZ2luYWxFdmVudFsgalF1ZXJ5LmV4cGFuZG8gXSA/CgkJCW9yaWdpbmFsRXZlbnQgOgoJCQluZXcgalF1ZXJ5LkV2ZW50KCBvcmlnaW5hbEV2ZW50ICk7Cgl9LAoKCXNwZWNpYWw6IHsKCQlsb2FkOiB7CgoJCQkvLyBQcmV2ZW50IHRyaWdnZXJlZCBpbWFnZS5sb2FkIGV2ZW50cyBmcm9tIGJ1YmJsaW5nIHRvIHdpbmRvdy5sb2FkCgkJCW5vQnViYmxlOiB0cnVlCgkJfSwKCQljbGljazogewoKCQkJLy8gVXRpbGl6ZSBuYXRpdmUgZXZlbnQgdG8gZW5zdXJlIGNvcnJlY3Qgc3RhdGUgZm9yIGNoZWNrYWJsZSBpbnB1dHMKCQkJc2V0dXA6IGZ1bmN0aW9uKCBkYXRhICkgewoKCQkJCS8vIEZvciBtdXR1YWwgY29tcHJlc3NpYmlsaXR5IHdpdGggX2RlZmF1bHQsIHJlcGxhY2UgYHRoaXNgIGFjY2VzcyB3aXRoIGEgbG9jYWwgdmFyLgoJCQkJLy8gYHx8IGRhdGFgIGlzIGRlYWQgY29kZSBtZWFudCBvbmx5IHRvIHByZXNlcnZlIHRoZSB2YXJpYWJsZSB0aHJvdWdoIG1pbmlmaWNhdGlvbi4KCQkJCXZhciBlbCA9IHRoaXMgfHwgZGF0YTsKCgkJCQkvLyBDbGFpbSB0aGUgZmlyc3QgaGFuZGxlcgoJCQkJaWYgKCByY2hlY2thYmxlVHlwZS50ZXN0KCBlbC50eXBlICkgJiYKCQkJCQllbC5jbGljayAmJiBub2RlTmFtZSggZWwsICJpbnB1dCIgKSApIHsKCgkJCQkJLy8gZGF0YVByaXYuc2V0KCBlbCwgImNsaWNrIiwgLi4uICkKCQkJCQlsZXZlcmFnZU5hdGl2ZSggZWwsICJjbGljayIsIHRydWUgKTsKCQkJCX0KCgkJCQkvLyBSZXR1cm4gZmFsc2UgdG8gYWxsb3cgbm9ybWFsIHByb2Nlc3NpbmcgaW4gdGhlIGNhbGxlcgoJCQkJcmV0dXJuIGZhbHNlOwoJCQl9LAoJCQl0cmlnZ2VyOiBmdW5jdGlvbiggZGF0YSApIHsKCgkJCQkvLyBGb3IgbXV0dWFsIGNvbXByZXNzaWJpbGl0eSB3aXRoIF9kZWZhdWx0LCByZXBsYWNlIGB0aGlzYCBhY2Nlc3Mgd2l0aCBhIGxvY2FsIHZhci4KCQkJCS8vIGB8fCBkYXRhYCBpcyBkZWFkIGNvZGUgbWVhbnQgb25seSB0byBwcmVzZXJ2ZSB0aGUgdmFyaWFibGUgdGhyb3VnaCBtaW5pZmljYXRpb24uCgkJCQl2YXIgZWwgPSB0aGlzIHx8IGRhdGE7CgoJCQkJLy8gRm9yY2Ugc2V0dXAgYmVmb3JlIHRyaWdnZXJpbmcgYSBjbGljawoJCQkJaWYgKCByY2hlY2thYmxlVHlwZS50ZXN0KCBlbC50eXBlICkgJiYKCQkJCQllbC5jbGljayAmJiBub2RlTmFtZSggZWwsICJpbnB1dCIgKSApIHsKCgkJCQkJbGV2ZXJhZ2VOYXRpdmUoIGVsLCAiY2xpY2siICk7CgkJCQl9CgoJCQkJLy8gUmV0dXJuIG5vbi1mYWxzZSB0byBhbGxvdyBub3JtYWwgZXZlbnQtcGF0aCBwcm9wYWdhdGlvbgoJCQkJcmV0dXJuIHRydWU7CgkJCX0sCgoJCQkvLyBGb3IgY3Jvc3MtYnJvd3NlciBjb25zaXN0ZW5jeSwgc3VwcHJlc3MgbmF0aXZlIC5jbGljaygpIG9uIGxpbmtzCgkJCS8vIEFsc28gcHJldmVudCBpdCBpZiB3ZSdyZSBjdXJyZW50bHkgaW5zaWRlIGEgbGV2ZXJhZ2VkIG5hdGl2ZS1ldmVudCBzdGFjawoJCQlfZGVmYXVsdDogZnVuY3Rpb24oIGV2ZW50ICkgewoJCQkJdmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldDsKCQkJCXJldHVybiByY2hlY2thYmxlVHlwZS50ZXN0KCB0YXJnZXQudHlwZSApICYmCgkJCQkJdGFyZ2V0LmNsaWNrICYmIG5vZGVOYW1lKCB0YXJnZXQsICJpbnB1dCIgKSAmJgoJCQkJCWRhdGFQcml2LmdldCggdGFyZ2V0LCAiY2xpY2siICkgfHwKCQkJCQlub2RlTmFtZSggdGFyZ2V0LCAiYSIgKTsKCQkJfQoJCX0sCgoJCWJlZm9yZXVubG9hZDogewoJCQlwb3N0RGlzcGF0Y2g6IGZ1bmN0aW9uKCBldmVudCApIHsKCgkJCQkvLyBTdXBwb3J0OiBGaXJlZm94IDIwKwoJCQkJLy8gRmlyZWZveCBkb2Vzbid0IGFsZXJ0IGlmIHRoZSByZXR1cm5WYWx1ZSBmaWVsZCBpcyBub3Qgc2V0LgoJCQkJaWYgKCBldmVudC5yZXN1bHQgIT09IHVuZGVmaW5lZCAmJiBldmVudC5vcmlnaW5hbEV2ZW50ICkgewoJCQkJCWV2ZW50Lm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWUgPSBldmVudC5yZXN1bHQ7CgkJCQl9CgkJCX0KCQl9Cgl9Cn07CgovLyBFbnN1cmUgdGhlIHByZXNlbmNlIG9mIGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgaGFuZGxlcyBtYW51YWxseS10cmlnZ2VyZWQKLy8gc3ludGhldGljIGV2ZW50cyBieSBpbnRlcnJ1cHRpbmcgcHJvZ3Jlc3MgdW50aWwgcmVpbnZva2VkIGluIHJlc3BvbnNlIHRvCi8vICpuYXRpdmUqIGV2ZW50cyB0aGF0IGl0IGZpcmVzIGRpcmVjdGx5LCBlbnN1cmluZyB0aGF0IHN0YXRlIGNoYW5nZXMgaGF2ZQovLyBhbHJlYWR5IG9jY3VycmVkIGJlZm9yZSBvdGhlciBsaXN0ZW5lcnMgYXJlIGludm9rZWQuCmZ1bmN0aW9uIGxldmVyYWdlTmF0aXZlKCBlbCwgdHlwZSwgaXNTZXR1cCApIHsKCgkvLyBNaXNzaW5nIGBpc1NldHVwYCBpbmRpY2F0ZXMgYSB0cmlnZ2VyIGNhbGwsIHdoaWNoIG11c3QgZm9yY2Ugc2V0dXAgdGhyb3VnaCBqUXVlcnkuZXZlbnQuYWRkCglpZiAoICFpc1NldHVwICkgewoJCWlmICggZGF0YVByaXYuZ2V0KCBlbCwgdHlwZSApID09PSB1bmRlZmluZWQgKSB7CgkJCWpRdWVyeS5ldmVudC5hZGQoIGVsLCB0eXBlLCByZXR1cm5UcnVlICk7CgkJfQoJCXJldHVybjsKCX0KCgkvLyBSZWdpc3RlciB0aGUgY29udHJvbGxlciBhcyBhIHNwZWNpYWwgdW5pdmVyc2FsIGhhbmRsZXIgZm9yIGFsbCBldmVudCBuYW1lc3BhY2VzCglkYXRhUHJpdi5zZXQoIGVsLCB0eXBlLCBmYWxzZSApOwoJalF1ZXJ5LmV2ZW50LmFkZCggZWwsIHR5cGUsIHsKCQluYW1lc3BhY2U6IGZhbHNlLAoJCWhhbmRsZXI6IGZ1bmN0aW9uKCBldmVudCApIHsKCQkJdmFyIHJlc3VsdCwKCQkJCXNhdmVkID0gZGF0YVByaXYuZ2V0KCB0aGlzLCB0eXBlICk7CgoJCQlpZiAoICggZXZlbnQuaXNUcmlnZ2VyICYgMSApICYmIHRoaXNbIHR5cGUgXSApIHsKCgkJCQkvLyBJbnRlcnJ1cHQgcHJvY2Vzc2luZyBvZiB0aGUgb3V0ZXIgc3ludGhldGljIC50cmlnZ2VyKCllZCBldmVudAoJCQkJaWYgKCAhc2F2ZWQgKSB7CgoJCQkJCS8vIFN0b3JlIGFyZ3VtZW50cyBmb3IgdXNlIHdoZW4gaGFuZGxpbmcgdGhlIGlubmVyIG5hdGl2ZSBldmVudAoJCQkJCS8vIFRoZXJlIHdpbGwgYWx3YXlzIGJlIGF0IGxlYXN0IG9uZSBhcmd1bWVudCAoYW4gZXZlbnQgb2JqZWN0KSwgc28gdGhpcyBhcnJheQoJCQkJCS8vIHdpbGwgbm90IGJlIGNvbmZ1c2VkIHdpdGggYSBsZWZ0b3ZlciBjYXB0dXJlIG9iamVjdC4KCQkJCQlzYXZlZCA9IHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApOwoJCQkJCWRhdGFQcml2LnNldCggdGhpcywgdHlwZSwgc2F2ZWQgKTsKCgkJCQkJLy8gVHJpZ2dlciB0aGUgbmF0aXZlIGV2ZW50IGFuZCBjYXB0dXJlIGl0cyByZXN1bHQKCQkJCQl0aGlzWyB0eXBlIF0oKTsKCQkJCQlyZXN1bHQgPSBkYXRhUHJpdi5nZXQoIHRoaXMsIHR5cGUgKTsKCQkJCQlkYXRhUHJpdi5zZXQoIHRoaXMsIHR5cGUsIGZhbHNlICk7CgoJCQkJCWlmICggc2F2ZWQgIT09IHJlc3VsdCApIHsKCgkJCQkJCS8vIENhbmNlbCB0aGUgb3V0ZXIgc3ludGhldGljIGV2ZW50CgkJCQkJCWV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpOwoJCQkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoKCQkJCQkJcmV0dXJuIHJlc3VsdDsKCQkJCQl9CgoJCQkJLy8gSWYgdGhpcyBpcyBhbiBpbm5lciBzeW50aGV0aWMgZXZlbnQgZm9yIGFuIGV2ZW50IHdpdGggYSBidWJibGluZyBzdXJyb2dhdGUKCQkJCS8vIChmb2N1cyBvciBibHVyKSwgYXNzdW1lIHRoYXQgdGhlIHN1cnJvZ2F0ZSBhbHJlYWR5IHByb3BhZ2F0ZWQgZnJvbSB0cmlnZ2VyaW5nCgkJCQkvLyB0aGUgbmF0aXZlIGV2ZW50IGFuZCBwcmV2ZW50IHRoYXQgZnJvbSBoYXBwZW5pbmcgYWdhaW4gaGVyZS4KCQkJCS8vIFRoaXMgdGVjaG5pY2FsbHkgZ2V0cyB0aGUgb3JkZXJpbmcgd3Jvbmcgdy5yLnQuIHRvIGAudHJpZ2dlcigpYCAoaW4gd2hpY2ggdGhlCgkJCQkvLyBidWJibGluZyBzdXJyb2dhdGUgcHJvcGFnYXRlcyAqYWZ0ZXIqIHRoZSBub24tYnViYmxpbmcgYmFzZSksIGJ1dCB0aGF0IHNlZW1zCgkJCQkvLyBsZXNzIGJhZCB0aGFuIGR1cGxpY2F0aW9uLgoJCQkJfSBlbHNlIGlmICggKCBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9ICkuZGVsZWdhdGVUeXBlICkgewoJCQkJCWV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwoJCQkJfQoKCQkJLy8gSWYgdGhpcyBpcyBhIG5hdGl2ZSBldmVudCB0cmlnZ2VyZWQgYWJvdmUsIGV2ZXJ5dGhpbmcgaXMgbm93IGluIG9yZGVyCgkJCS8vIEZpcmUgYW4gaW5uZXIgc3ludGhldGljIGV2ZW50IHdpdGggdGhlIG9yaWdpbmFsIGFyZ3VtZW50cwoJCQl9IGVsc2UgaWYgKCBzYXZlZCApIHsKCgkJCQkvLyAuLi5hbmQgY2FwdHVyZSB0aGUgcmVzdWx0CgkJCQlkYXRhUHJpdi5zZXQoIHRoaXMsIHR5cGUsIGpRdWVyeS5ldmVudC50cmlnZ2VyKAoJCQkJCXNhdmVkWyAwIF0sCgkJCQkJc2F2ZWQuc2xpY2UoIDEgKSwKCQkJCQl0aGlzCgkJCQkpICk7CgoJCQkJLy8gQWJvcnQgaGFuZGxpbmcgb2YgdGhlIG5hdGl2ZSBldmVudCBieSBhbGwgalF1ZXJ5IGhhbmRsZXJzIHdoaWxlIGFsbG93aW5nCgkJCQkvLyBuYXRpdmUgaGFuZGxlcnMgb24gdGhlIHNhbWUgZWxlbWVudCB0byBydW4uIE9uIHRhcmdldCwgdGhpcyBpcyBhY2hpZXZlZAoJCQkJLy8gYnkgc3RvcHBpbmcgaW1tZWRpYXRlIHByb3BhZ2F0aW9uIGp1c3Qgb24gdGhlIGpRdWVyeSBldmVudC4gSG93ZXZlciwKCQkJCS8vIHRoZSBuYXRpdmUgZXZlbnQgaXMgcmUtd3JhcHBlZCBieSBhIGpRdWVyeSBvbmUgb24gZWFjaCBsZXZlbCBvZiB0aGUKCQkJCS8vIHByb3BhZ2F0aW9uIHNvIHRoZSBvbmx5IHdheSB0byBzdG9wIGl0IGZvciBqUXVlcnkgaXMgdG8gc3RvcCBpdCBmb3IKCQkJCS8vIGV2ZXJ5b25lIHZpYSBuYXRpdmUgYHN0b3BQcm9wYWdhdGlvbigpYC4gVGhpcyBpcyBub3QgYSBwcm9ibGVtIGZvcgoJCQkJLy8gZm9jdXMvYmx1ciB3aGljaCBkb24ndCBidWJibGUsIGJ1dCBpdCBkb2VzIGFsc28gc3RvcCBjbGljayBvbiBjaGVja2JveGVzCgkJCQkvLyBhbmQgcmFkaW9zLiBXZSBhY2NlcHQgdGhpcyBsaW1pdGF0aW9uLgoJCQkJZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CgkJCQlldmVudC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IHJldHVyblRydWU7CgkJCX0KCQl9Cgl9ICk7Cn0KCmpRdWVyeS5yZW1vdmVFdmVudCA9IGZ1bmN0aW9uKCBlbGVtLCB0eXBlLCBoYW5kbGUgKSB7CgoJLy8gVGhpcyAiaWYiIGlzIG5lZWRlZCBmb3IgcGxhaW4gb2JqZWN0cwoJaWYgKCBlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIgKSB7CgkJZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKCB0eXBlLCBoYW5kbGUgKTsKCX0KfTsKCmpRdWVyeS5FdmVudCA9IGZ1bmN0aW9uKCBzcmMsIHByb3BzICkgewoKCS8vIEFsbG93IGluc3RhbnRpYXRpb24gd2l0aG91dCB0aGUgJ25ldycga2V5d29yZAoJaWYgKCAhKCB0aGlzIGluc3RhbmNlb2YgalF1ZXJ5LkV2ZW50ICkgKSB7CgkJcmV0dXJuIG5ldyBqUXVlcnkuRXZlbnQoIHNyYywgcHJvcHMgKTsKCX0KCgkvLyBFdmVudCBvYmplY3QKCWlmICggc3JjICYmIHNyYy50eXBlICkgewoJCXRoaXMub3JpZ2luYWxFdmVudCA9IHNyYzsKCQl0aGlzLnR5cGUgPSBzcmMudHlwZTsKCgkJLy8gRXZlbnRzIGJ1YmJsaW5nIHVwIHRoZSBkb2N1bWVudCBtYXkgaGF2ZSBiZWVuIG1hcmtlZCBhcyBwcmV2ZW50ZWQKCQkvLyBieSBhIGhhbmRsZXIgbG93ZXIgZG93biB0aGUgdHJlZTsgcmVmbGVjdCB0aGUgY29ycmVjdCB2YWx1ZS4KCQl0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IHNyYy5kZWZhdWx0UHJldmVudGVkIHx8CgkJCQlzcmMuZGVmYXVsdFByZXZlbnRlZCA9PT0gdW5kZWZpbmVkICYmCgoJCQkJLy8gU3VwcG9ydDogQW5kcm9pZCA8PTIuMyBvbmx5CgkJCQlzcmMucmV0dXJuVmFsdWUgPT09IGZhbHNlID8KCQkJcmV0dXJuVHJ1ZSA6CgkJCXJldHVybkZhbHNlOwoKCQkvLyBDcmVhdGUgdGFyZ2V0IHByb3BlcnRpZXMKCQkvLyBTdXBwb3J0OiBTYWZhcmkgPD02IC0gNyBvbmx5CgkJLy8gVGFyZ2V0IHNob3VsZCBub3QgYmUgYSB0ZXh0IG5vZGUgKHRyYWMtNTA0LCB0cmFjLTEzMTQzKQoJCXRoaXMudGFyZ2V0ID0gKCBzcmMudGFyZ2V0ICYmIHNyYy50YXJnZXQubm9kZVR5cGUgPT09IDMgKSA/CgkJCXNyYy50YXJnZXQucGFyZW50Tm9kZSA6CgkJCXNyYy50YXJnZXQ7CgoJCXRoaXMuY3VycmVudFRhcmdldCA9IHNyYy5jdXJyZW50VGFyZ2V0OwoJCXRoaXMucmVsYXRlZFRhcmdldCA9IHNyYy5yZWxhdGVkVGFyZ2V0OwoKCS8vIEV2ZW50IHR5cGUKCX0gZWxzZSB7CgkJdGhpcy50eXBlID0gc3JjOwoJfQoKCS8vIFB1dCBleHBsaWNpdGx5IHByb3ZpZGVkIHByb3BlcnRpZXMgb250byB0aGUgZXZlbnQgb2JqZWN0CglpZiAoIHByb3BzICkgewoJCWpRdWVyeS5leHRlbmQoIHRoaXMsIHByb3BzICk7Cgl9CgoJLy8gQ3JlYXRlIGEgdGltZXN0YW1wIGlmIGluY29taW5nIGV2ZW50IGRvZXNuJ3QgaGF2ZSBvbmUKCXRoaXMudGltZVN0YW1wID0gc3JjICYmIHNyYy50aW1lU3RhbXAgfHwgRGF0ZS5ub3coKTsKCgkvLyBNYXJrIGl0IGFzIGZpeGVkCgl0aGlzWyBqUXVlcnkuZXhwYW5kbyBdID0gdHJ1ZTsKfTsKCi8vIGpRdWVyeS5FdmVudCBpcyBiYXNlZCBvbiBET00zIEV2ZW50cyBhcyBzcGVjaWZpZWQgYnkgdGhlIEVDTUFTY3JpcHQgTGFuZ3VhZ2UgQmluZGluZwovLyBodHRwczovL3d3dy53My5vcmcvVFIvMjAwMy9XRC1ET00tTGV2ZWwtMy1FdmVudHMtMjAwMzAzMzEvZWNtYS1zY3JpcHQtYmluZGluZy5odG1sCmpRdWVyeS5FdmVudC5wcm90b3R5cGUgPSB7Cgljb25zdHJ1Y3RvcjogalF1ZXJ5LkV2ZW50LAoJaXNEZWZhdWx0UHJldmVudGVkOiByZXR1cm5GYWxzZSwKCWlzUHJvcGFnYXRpb25TdG9wcGVkOiByZXR1cm5GYWxzZSwKCWlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOiByZXR1cm5GYWxzZSwKCWlzU2ltdWxhdGVkOiBmYWxzZSwKCglwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24oKSB7CgkJdmFyIGUgPSB0aGlzLm9yaWdpbmFsRXZlbnQ7CgoJCXRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gcmV0dXJuVHJ1ZTsKCgkJaWYgKCBlICYmICF0aGlzLmlzU2ltdWxhdGVkICkgewoJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJfQoJfSwKCXN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7CgkJdmFyIGUgPSB0aGlzLm9yaWdpbmFsRXZlbnQ7CgoJCXRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQgPSByZXR1cm5UcnVlOwoKCQlpZiAoIGUgJiYgIXRoaXMuaXNTaW11bGF0ZWQgKSB7CgkJCWUuc3RvcFByb3BhZ2F0aW9uKCk7CgkJfQoJfSwKCXN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7CgkJdmFyIGUgPSB0aGlzLm9yaWdpbmFsRXZlbnQ7CgoJCXRoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSByZXR1cm5UcnVlOwoKCQlpZiAoIGUgJiYgIXRoaXMuaXNTaW11bGF0ZWQgKSB7CgkJCWUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7CgkJfQoKCQl0aGlzLnN0b3BQcm9wYWdhdGlvbigpOwoJfQp9OwoKLy8gSW5jbHVkZXMgYWxsIGNvbW1vbiBldmVudCBwcm9wcyBpbmNsdWRpbmcgS2V5RXZlbnQgYW5kIE1vdXNlRXZlbnQgc3BlY2lmaWMgcHJvcHMKalF1ZXJ5LmVhY2goIHsKCWFsdEtleTogdHJ1ZSwKCWJ1YmJsZXM6IHRydWUsCgljYW5jZWxhYmxlOiB0cnVlLAoJY2hhbmdlZFRvdWNoZXM6IHRydWUsCgljdHJsS2V5OiB0cnVlLAoJZGV0YWlsOiB0cnVlLAoJZXZlbnRQaGFzZTogdHJ1ZSwKCW1ldGFLZXk6IHRydWUsCglwYWdlWDogdHJ1ZSwKCXBhZ2VZOiB0cnVlLAoJc2hpZnRLZXk6IHRydWUsCgl2aWV3OiB0cnVlLAoJImNoYXIiOiB0cnVlLAoJY29kZTogdHJ1ZSwKCWNoYXJDb2RlOiB0cnVlLAoJa2V5OiB0cnVlLAoJa2V5Q29kZTogdHJ1ZSwKCWJ1dHRvbjogdHJ1ZSwKCWJ1dHRvbnM6IHRydWUsCgljbGllbnRYOiB0cnVlLAoJY2xpZW50WTogdHJ1ZSwKCW9mZnNldFg6IHRydWUsCglvZmZzZXRZOiB0cnVlLAoJcG9pbnRlcklkOiB0cnVlLAoJcG9pbnRlclR5cGU6IHRydWUsCglzY3JlZW5YOiB0cnVlLAoJc2NyZWVuWTogdHJ1ZSwKCXRhcmdldFRvdWNoZXM6IHRydWUsCgl0b0VsZW1lbnQ6IHRydWUsCgl0b3VjaGVzOiB0cnVlLAoJd2hpY2g6IHRydWUKfSwgalF1ZXJ5LmV2ZW50LmFkZFByb3AgKTsKCmpRdWVyeS5lYWNoKCB7IGZvY3VzOiAiZm9jdXNpbiIsIGJsdXI6ICJmb2N1c291dCIgfSwgZnVuY3Rpb24oIHR5cGUsIGRlbGVnYXRlVHlwZSApIHsKCglmdW5jdGlvbiBmb2N1c01hcHBlZEhhbmRsZXIoIG5hdGl2ZUV2ZW50ICkgewoJCWlmICggZG9jdW1lbnQuZG9jdW1lbnRNb2RlICkgewoKCQkJLy8gU3VwcG9ydDogSUUgMTErCgkJCS8vIEF0dGFjaCBhIHNpbmdsZSBmb2N1c2luL2ZvY3Vzb3V0IGhhbmRsZXIgb24gdGhlIGRvY3VtZW50IHdoaWxlIHNvbWVvbmUgd2FudHMKCQkJLy8gZm9jdXMvYmx1ci4gVGhpcyBpcyBiZWNhdXNlIHRoZSBmb3JtZXIgYXJlIHN5bmNocm9ub3VzIGluIElFIHdoaWxlIHRoZSBsYXR0ZXIKCQkJLy8gYXJlIGFzeW5jLiBJbiBvdGhlciBicm93c2VycywgYWxsIHRob3NlIGhhbmRsZXJzIGFyZSBpbnZva2VkIHN5bmNocm9ub3VzbHkuCgoJCQkvLyBgaGFuZGxlYCBmcm9tIHByaXZhdGUgZGF0YSB3b3VsZCBhbHJlYWR5IHdyYXAgdGhlIGV2ZW50LCBidXQgd2UgbmVlZAoJCQkvLyB0byBjaGFuZ2UgdGhlIGB0eXBlYCBoZXJlLgoJCQl2YXIgaGFuZGxlID0gZGF0YVByaXYuZ2V0KCB0aGlzLCAiaGFuZGxlIiApLAoJCQkJZXZlbnQgPSBqUXVlcnkuZXZlbnQuZml4KCBuYXRpdmVFdmVudCApOwoJCQlldmVudC50eXBlID0gbmF0aXZlRXZlbnQudHlwZSA9PT0gImZvY3VzaW4iID8gImZvY3VzIiA6ICJibHVyIjsKCQkJZXZlbnQuaXNTaW11bGF0ZWQgPSB0cnVlOwoKCQkJLy8gRmlyc3QsIGhhbmRsZSBmb2N1c2luL2ZvY3Vzb3V0CgkJCWhhbmRsZSggbmF0aXZlRXZlbnQgKTsKCgkJCS8vIC4uLnRoZW4sIGhhbmRsZSBmb2N1cy9ibHVyCgkJCS8vCgkJCS8vIGZvY3VzL2JsdXIgZG9uJ3QgYnViYmxlIHdoaWxlIGZvY3VzaW4vZm9jdXNvdXQgZG87IHNpbXVsYXRlIHRoZSBmb3JtZXIgYnkgb25seQoJCQkvLyBpbnZva2luZyB0aGUgaGFuZGxlciBhdCB0aGUgbG93ZXIgbGV2ZWwuCgkJCWlmICggZXZlbnQudGFyZ2V0ID09PSBldmVudC5jdXJyZW50VGFyZ2V0ICkgewoKCQkJCS8vIFRoZSBzZXR1cCBwYXJ0IGNhbGxzIGBsZXZlcmFnZU5hdGl2ZWAsIHdoaWNoLCBpbiB0dXJuLCBjYWxscwoJCQkJLy8gYGpRdWVyeS5ldmVudC5hZGRgLCBzbyBldmVudCBoYW5kbGUgd2lsbCBhbHJlYWR5IGhhdmUgYmVlbiBzZXQKCQkJCS8vIGJ5IHRoaXMgcG9pbnQuCgkJCQloYW5kbGUoIGV2ZW50ICk7CgkJCX0KCQl9IGVsc2UgewoKCQkJLy8gRm9yIG5vbi1JRSBicm93c2VycywgYXR0YWNoIGEgc2luZ2xlIGNhcHR1cmluZyBoYW5kbGVyIG9uIHRoZSBkb2N1bWVudAoJCQkvLyB3aGlsZSBzb21lb25lIHdhbnRzIGZvY3VzaW4vZm9jdXNvdXQuCgkJCWpRdWVyeS5ldmVudC5zaW11bGF0ZSggZGVsZWdhdGVUeXBlLCBuYXRpdmVFdmVudC50YXJnZXQsCgkJCQlqUXVlcnkuZXZlbnQuZml4KCBuYXRpdmVFdmVudCApICk7CgkJfQoJfQoKCWpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gPSB7CgoJCS8vIFV0aWxpemUgbmF0aXZlIGV2ZW50IGlmIHBvc3NpYmxlIHNvIGJsdXIvZm9jdXMgc2VxdWVuY2UgaXMgY29ycmVjdAoJCXNldHVwOiBmdW5jdGlvbigpIHsKCgkJCXZhciBhdHRhY2hlczsKCgkJCS8vIENsYWltIHRoZSBmaXJzdCBoYW5kbGVyCgkJCS8vIGRhdGFQcml2LnNldCggdGhpcywgImZvY3VzIiwgLi4uICkKCQkJLy8gZGF0YVByaXYuc2V0KCB0aGlzLCAiYmx1ciIsIC4uLiApCgkJCWxldmVyYWdlTmF0aXZlKCB0aGlzLCB0eXBlLCB0cnVlICk7CgoJCQlpZiAoIGRvY3VtZW50LmRvY3VtZW50TW9kZSApIHsKCgkJCQkvLyBTdXBwb3J0OiBJRSA5IC0gMTErCgkJCQkvLyBXZSB1c2UgdGhlIHNhbWUgbmF0aXZlIGhhbmRsZXIgZm9yIGZvY3VzaW4gJiBmb2N1cyAoYW5kIGZvY3Vzb3V0ICYgYmx1cikKCQkJCS8vIHNvIHdlIG5lZWQgdG8gY29vcmRpbmF0ZSBzZXR1cCAmIHRlYXJkb3duIHBhcnRzIGJldHdlZW4gdGhvc2UgZXZlbnRzLgoJCQkJLy8gVXNlIGBkZWxlZ2F0ZVR5cGVgIGFzIHRoZSBrZXkgYXMgYHR5cGVgIGlzIGFscmVhZHkgdXNlZCBieSBgbGV2ZXJhZ2VOYXRpdmVgLgoJCQkJYXR0YWNoZXMgPSBkYXRhUHJpdi5nZXQoIHRoaXMsIGRlbGVnYXRlVHlwZSApOwoJCQkJaWYgKCAhYXR0YWNoZXMgKSB7CgkJCQkJdGhpcy5hZGRFdmVudExpc3RlbmVyKCBkZWxlZ2F0ZVR5cGUsIGZvY3VzTWFwcGVkSGFuZGxlciApOwoJCQkJfQoJCQkJZGF0YVByaXYuc2V0KCB0aGlzLCBkZWxlZ2F0ZVR5cGUsICggYXR0YWNoZXMgfHwgMCApICsgMSApOwoJCQl9IGVsc2UgewoKCQkJCS8vIFJldHVybiBmYWxzZSB0byBhbGxvdyBub3JtYWwgcHJvY2Vzc2luZyBpbiB0aGUgY2FsbGVyCgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0KCQl9LAoJCXRyaWdnZXI6IGZ1bmN0aW9uKCkgewoKCQkJLy8gRm9yY2Ugc2V0dXAgYmVmb3JlIHRyaWdnZXIKCQkJbGV2ZXJhZ2VOYXRpdmUoIHRoaXMsIHR5cGUgKTsKCgkJCS8vIFJldHVybiBub24tZmFsc2UgdG8gYWxsb3cgbm9ybWFsIGV2ZW50LXBhdGggcHJvcGFnYXRpb24KCQkJcmV0dXJuIHRydWU7CgkJfSwKCgkJdGVhcmRvd246IGZ1bmN0aW9uKCkgewoJCQl2YXIgYXR0YWNoZXM7CgoJCQlpZiAoIGRvY3VtZW50LmRvY3VtZW50TW9kZSApIHsKCQkJCWF0dGFjaGVzID0gZGF0YVByaXYuZ2V0KCB0aGlzLCBkZWxlZ2F0ZVR5cGUgKSAtIDE7CgkJCQlpZiAoICFhdHRhY2hlcyApIHsKCQkJCQl0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoIGRlbGVnYXRlVHlwZSwgZm9jdXNNYXBwZWRIYW5kbGVyICk7CgkJCQkJZGF0YVByaXYucmVtb3ZlKCB0aGlzLCBkZWxlZ2F0ZVR5cGUgKTsKCQkJCX0gZWxzZSB7CgkJCQkJZGF0YVByaXYuc2V0KCB0aGlzLCBkZWxlZ2F0ZVR5cGUsIGF0dGFjaGVzICk7CgkJCQl9CgkJCX0gZWxzZSB7CgoJCQkJLy8gUmV0dXJuIGZhbHNlIHRvIGluZGljYXRlIHN0YW5kYXJkIHRlYXJkb3duIHNob3VsZCBiZSBhcHBsaWVkCgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0KCQl9LAoKCQkvLyBTdXBwcmVzcyBuYXRpdmUgZm9jdXMgb3IgYmx1ciBpZiB3ZSdyZSBjdXJyZW50bHkgaW5zaWRlCgkJLy8gYSBsZXZlcmFnZWQgbmF0aXZlLWV2ZW50IHN0YWNrCgkJX2RlZmF1bHQ6IGZ1bmN0aW9uKCBldmVudCApIHsKCQkJcmV0dXJuIGRhdGFQcml2LmdldCggZXZlbnQudGFyZ2V0LCB0eXBlICk7CgkJfSwKCgkJZGVsZWdhdGVUeXBlOiBkZWxlZ2F0ZVR5cGUKCX07CgoJLy8gU3VwcG9ydDogRmlyZWZveCA8PTQ0CgkvLyBGaXJlZm94IGRvZXNuJ3QgaGF2ZSBmb2N1cyhpbiB8IG91dCkgZXZlbnRzCgkvLyBSZWxhdGVkIHRpY2tldCAtIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTY4Nzc4NwoJLy8KCS8vIFN1cHBvcnQ6IENocm9tZSA8PTQ4IC0gNDksIFNhZmFyaSA8PTkuMCAtIDkuMQoJLy8gZm9jdXMoaW4gfCBvdXQpIGV2ZW50cyBmaXJlIGFmdGVyIGZvY3VzICYgYmx1ciBldmVudHMsCgkvLyB3aGljaCBpcyBzcGVjIHZpb2xhdGlvbiAtIGh0dHA6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy8jZXZlbnRzLWZvY3VzZXZlbnQtZXZlbnQtb3JkZXIKCS8vIFJlbGF0ZWQgdGlja2V0IC0gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDQ5ODU3CgkvLwoJLy8gU3VwcG9ydDogSUUgOSAtIDExKwoJLy8gVG8gcHJlc2VydmUgcmVsYXRpdmUgZm9jdXNpbi9mb2N1cyAmIGZvY3Vzb3V0L2JsdXIgZXZlbnQgb3JkZXIgZ3VhcmFudGVlZCBvbiB0aGUgMy54IGJyYW5jaCwKCS8vIGF0dGFjaCBhIHNpbmdsZSBoYW5kbGVyIGZvciBib3RoIGV2ZW50cyBpbiBJRS4KCWpRdWVyeS5ldmVudC5zcGVjaWFsWyBkZWxlZ2F0ZVR5cGUgXSA9IHsKCQlzZXR1cDogZnVuY3Rpb24oKSB7CgoJCQkvLyBIYW5kbGU6IHJlZ3VsYXIgbm9kZXMgKHZpYSBgdGhpcy5vd25lckRvY3VtZW50YCksIHdpbmRvdwoJCQkvLyAodmlhIGB0aGlzLmRvY3VtZW50YCkgJiBkb2N1bWVudCAodmlhIGB0aGlzYCkuCgkJCXZhciBkb2MgPSB0aGlzLm93bmVyRG9jdW1lbnQgfHwgdGhpcy5kb2N1bWVudCB8fCB0aGlzLAoJCQkJZGF0YUhvbGRlciA9IGRvY3VtZW50LmRvY3VtZW50TW9kZSA/IHRoaXMgOiBkb2MsCgkJCQlhdHRhY2hlcyA9IGRhdGFQcml2LmdldCggZGF0YUhvbGRlciwgZGVsZWdhdGVUeXBlICk7CgoJCQkvLyBTdXBwb3J0OiBJRSA5IC0gMTErCgkJCS8vIFdlIHVzZSB0aGUgc2FtZSBuYXRpdmUgaGFuZGxlciBmb3IgZm9jdXNpbiAmIGZvY3VzIChhbmQgZm9jdXNvdXQgJiBibHVyKQoJCQkvLyBzbyB3ZSBuZWVkIHRvIGNvb3JkaW5hdGUgc2V0dXAgJiB0ZWFyZG93biBwYXJ0cyBiZXR3ZWVuIHRob3NlIGV2ZW50cy4KCQkJLy8gVXNlIGBkZWxlZ2F0ZVR5cGVgIGFzIHRoZSBrZXkgYXMgYHR5cGVgIGlzIGFscmVhZHkgdXNlZCBieSBgbGV2ZXJhZ2VOYXRpdmVgLgoJCQlpZiAoICFhdHRhY2hlcyApIHsKCQkJCWlmICggZG9jdW1lbnQuZG9jdW1lbnRNb2RlICkgewoJCQkJCXRoaXMuYWRkRXZlbnRMaXN0ZW5lciggZGVsZWdhdGVUeXBlLCBmb2N1c01hcHBlZEhhbmRsZXIgKTsKCQkJCX0gZWxzZSB7CgkJCQkJZG9jLmFkZEV2ZW50TGlzdGVuZXIoIHR5cGUsIGZvY3VzTWFwcGVkSGFuZGxlciwgdHJ1ZSApOwoJCQkJfQoJCQl9CgkJCWRhdGFQcml2LnNldCggZGF0YUhvbGRlciwgZGVsZWdhdGVUeXBlLCAoIGF0dGFjaGVzIHx8IDAgKSArIDEgKTsKCQl9LAoJCXRlYXJkb3duOiBmdW5jdGlvbigpIHsKCQkJdmFyIGRvYyA9IHRoaXMub3duZXJEb2N1bWVudCB8fCB0aGlzLmRvY3VtZW50IHx8IHRoaXMsCgkJCQlkYXRhSG9sZGVyID0gZG9jdW1lbnQuZG9jdW1lbnRNb2RlID8gdGhpcyA6IGRvYywKCQkJCWF0dGFjaGVzID0gZGF0YVByaXYuZ2V0KCBkYXRhSG9sZGVyLCBkZWxlZ2F0ZVR5cGUgKSAtIDE7CgoJCQlpZiAoICFhdHRhY2hlcyApIHsKCQkJCWlmICggZG9jdW1lbnQuZG9jdW1lbnRNb2RlICkgewoJCQkJCXRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lciggZGVsZWdhdGVUeXBlLCBmb2N1c01hcHBlZEhhbmRsZXIgKTsKCQkJCX0gZWxzZSB7CgkJCQkJZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoIHR5cGUsIGZvY3VzTWFwcGVkSGFuZGxlciwgdHJ1ZSApOwoJCQkJfQoJCQkJZGF0YVByaXYucmVtb3ZlKCBkYXRhSG9sZGVyLCBkZWxlZ2F0ZVR5cGUgKTsKCQkJfSBlbHNlIHsKCQkJCWRhdGFQcml2LnNldCggZGF0YUhvbGRlciwgZGVsZWdhdGVUeXBlLCBhdHRhY2hlcyApOwoJCQl9CgkJfQoJfTsKfSApOwoKLy8gQ3JlYXRlIG1vdXNlZW50ZXIvbGVhdmUgZXZlbnRzIHVzaW5nIG1vdXNlb3Zlci9vdXQgYW5kIGV2ZW50LXRpbWUgY2hlY2tzCi8vIHNvIHRoYXQgZXZlbnQgZGVsZWdhdGlvbiB3b3JrcyBpbiBqUXVlcnkuCi8vIERvIHRoZSBzYW1lIGZvciBwb2ludGVyZW50ZXIvcG9pbnRlcmxlYXZlIGFuZCBwb2ludGVyb3Zlci9wb2ludGVyb3V0Ci8vCi8vIFN1cHBvcnQ6IFNhZmFyaSA3IG9ubHkKLy8gU2FmYXJpIHNlbmRzIG1vdXNlZW50ZXIgdG9vIG9mdGVuOyBzZWU6Ci8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ3MDI1OAovLyBmb3IgdGhlIGRlc2NyaXB0aW9uIG9mIHRoZSBidWcgKGl0IGV4aXN0ZWQgaW4gb2xkZXIgQ2hyb21lIHZlcnNpb25zIGFzIHdlbGwpLgpqUXVlcnkuZWFjaCggewoJbW91c2VlbnRlcjogIm1vdXNlb3ZlciIsCgltb3VzZWxlYXZlOiAibW91c2VvdXQiLAoJcG9pbnRlcmVudGVyOiAicG9pbnRlcm92ZXIiLAoJcG9pbnRlcmxlYXZlOiAicG9pbnRlcm91dCIKfSwgZnVuY3Rpb24oIG9yaWcsIGZpeCApIHsKCWpRdWVyeS5ldmVudC5zcGVjaWFsWyBvcmlnIF0gPSB7CgkJZGVsZWdhdGVUeXBlOiBmaXgsCgkJYmluZFR5cGU6IGZpeCwKCgkJaGFuZGxlOiBmdW5jdGlvbiggZXZlbnQgKSB7CgkJCXZhciByZXQsCgkJCQl0YXJnZXQgPSB0aGlzLAoJCQkJcmVsYXRlZCA9IGV2ZW50LnJlbGF0ZWRUYXJnZXQsCgkJCQloYW5kbGVPYmogPSBldmVudC5oYW5kbGVPYmo7CgoJCQkvLyBGb3IgbW91c2VlbnRlci9sZWF2ZSBjYWxsIHRoZSBoYW5kbGVyIGlmIHJlbGF0ZWQgaXMgb3V0c2lkZSB0aGUgdGFyZ2V0LgoJCQkvLyBOQjogTm8gcmVsYXRlZFRhcmdldCBpZiB0aGUgbW91c2UgbGVmdC9lbnRlcmVkIHRoZSBicm93c2VyIHdpbmRvdwoJCQlpZiAoICFyZWxhdGVkIHx8ICggcmVsYXRlZCAhPT0gdGFyZ2V0ICYmICFqUXVlcnkuY29udGFpbnMoIHRhcmdldCwgcmVsYXRlZCApICkgKSB7CgkJCQlldmVudC50eXBlID0gaGFuZGxlT2JqLm9yaWdUeXBlOwoJCQkJcmV0ID0gaGFuZGxlT2JqLmhhbmRsZXIuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApOwoJCQkJZXZlbnQudHlwZSA9IGZpeDsKCQkJfQoJCQlyZXR1cm4gcmV0OwoJCX0KCX07Cn0gKTsKCmpRdWVyeS5mbi5leHRlbmQoIHsKCglvbjogZnVuY3Rpb24oIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4gKSB7CgkJcmV0dXJuIG9uKCB0aGlzLCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICk7Cgl9LAoJb25lOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApIHsKCQlyZXR1cm4gb24oIHRoaXMsIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4sIDEgKTsKCX0sCglvZmY6IGZ1bmN0aW9uKCB0eXBlcywgc2VsZWN0b3IsIGZuICkgewoJCXZhciBoYW5kbGVPYmosIHR5cGU7CgkJaWYgKCB0eXBlcyAmJiB0eXBlcy5wcmV2ZW50RGVmYXVsdCAmJiB0eXBlcy5oYW5kbGVPYmogKSB7CgoJCQkvLyAoIGV2ZW50ICkgIGRpc3BhdGNoZWQgalF1ZXJ5LkV2ZW50CgkJCWhhbmRsZU9iaiA9IHR5cGVzLmhhbmRsZU9iajsKCQkJalF1ZXJ5KCB0eXBlcy5kZWxlZ2F0ZVRhcmdldCApLm9mZigKCQkJCWhhbmRsZU9iai5uYW1lc3BhY2UgPwoJCQkJCWhhbmRsZU9iai5vcmlnVHlwZSArICIuIiArIGhhbmRsZU9iai5uYW1lc3BhY2UgOgoJCQkJCWhhbmRsZU9iai5vcmlnVHlwZSwKCQkJCWhhbmRsZU9iai5zZWxlY3RvciwKCQkJCWhhbmRsZU9iai5oYW5kbGVyCgkJCSk7CgkJCXJldHVybiB0aGlzOwoJCX0KCQlpZiAoIHR5cGVvZiB0eXBlcyA9PT0gIm9iamVjdCIgKSB7CgoJCQkvLyAoIHR5cGVzLW9iamVjdCBbLCBzZWxlY3Rvcl0gKQoJCQlmb3IgKCB0eXBlIGluIHR5cGVzICkgewoJCQkJdGhpcy5vZmYoIHR5cGUsIHNlbGVjdG9yLCB0eXBlc1sgdHlwZSBdICk7CgkJCX0KCQkJcmV0dXJuIHRoaXM7CgkJfQoJCWlmICggc2VsZWN0b3IgPT09IGZhbHNlIHx8IHR5cGVvZiBzZWxlY3RvciA9PT0gImZ1bmN0aW9uIiApIHsKCgkJCS8vICggdHlwZXMgWywgZm5dICkKCQkJZm4gPSBzZWxlY3RvcjsKCQkJc2VsZWN0b3IgPSB1bmRlZmluZWQ7CgkJfQoJCWlmICggZm4gPT09IGZhbHNlICkgewoJCQlmbiA9IHJldHVybkZhbHNlOwoJCX0KCQlyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHsKCQkJalF1ZXJ5LmV2ZW50LnJlbW92ZSggdGhpcywgdHlwZXMsIGZuLCBzZWxlY3RvciApOwoJCX0gKTsKCX0KfSApOwoKCnZhcgoKCS8vIFN1cHBvcnQ6IElFIDw9MTAgLSAxMSwgRWRnZSAxMiAtIDEzIG9ubHkKCS8vIEluIElFL0VkZ2UgdXNpbmcgcmVnZXggZ3JvdXBzIGhlcmUgY2F1c2VzIHNldmVyZSBzbG93ZG93bnMuCgkvLyBTZWUgaHR0cHM6Ly9jb25uZWN0Lm1pY3Jvc29mdC5jb20vSUUvZmVlZGJhY2svZGV0YWlscy8xNzM2NTEyLwoJcm5vSW5uZXJodG1sID0gLzxzY3JpcHR8PHN0eWxlfDxsaW5rL2ksCgoJLy8gY2hlY2tlZD0iY2hlY2tlZCIgb3IgY2hlY2tlZAoJcmNoZWNrZWQgPSAvY2hlY2tlZFxzKig/OltePV18PVxzKi5jaGVja2VkLikvaSwKCglyY2xlYW5TY3JpcHQgPSAvXlxzKjwhXFtDREFUQVxbfFxdXF0+XHMqJC9nOwoKLy8gUHJlZmVyIGEgdGJvZHkgb3ZlciBpdHMgcGFyZW50IHRhYmxlIGZvciBjb250YWluaW5nIG5ldyByb3dzCmZ1bmN0aW9uIG1hbmlwdWxhdGlvblRhcmdldCggZWxlbSwgY29udGVudCApIHsKCWlmICggbm9kZU5hbWUoIGVsZW0sICJ0YWJsZSIgKSAmJgoJCW5vZGVOYW1lKCBjb250ZW50Lm5vZGVUeXBlICE9PSAxMSA/IGNvbnRlbnQgOiBjb250ZW50LmZpcnN0Q2hpbGQsICJ0ciIgKSApIHsKCgkJcmV0dXJuIGpRdWVyeSggZWxlbSApLmNoaWxkcmVuKCAidGJvZHkiIClbIDAgXSB8fCBlbGVtOwoJfQoKCXJldHVybiBlbGVtOwp9CgovLyBSZXBsYWNlL3Jlc3RvcmUgdGhlIHR5cGUgYXR0cmlidXRlIG9mIHNjcmlwdCBlbGVtZW50cyBmb3Igc2FmZSBET00gbWFuaXB1bGF0aW9uCmZ1bmN0aW9uIGRpc2FibGVTY3JpcHQoIGVsZW0gKSB7CgllbGVtLnR5cGUgPSAoIGVsZW0uZ2V0QXR0cmlidXRlKCAidHlwZSIgKSAhPT0gbnVsbCApICsgIi8iICsgZWxlbS50eXBlOwoJcmV0dXJuIGVsZW07Cn0KZnVuY3Rpb24gcmVzdG9yZVNjcmlwdCggZWxlbSApIHsKCWlmICggKCBlbGVtLnR5cGUgfHwgIiIgKS5zbGljZSggMCwgNSApID09PSAidHJ1ZS8iICkgewoJCWVsZW0udHlwZSA9IGVsZW0udHlwZS5zbGljZSggNSApOwoJfSBlbHNlIHsKCQllbGVtLnJlbW92ZUF0dHJpYnV0ZSggInR5cGUiICk7Cgl9CgoJcmV0dXJuIGVsZW07Cn0KCmZ1bmN0aW9uIGNsb25lQ29weUV2ZW50KCBzcmMsIGRlc3QgKSB7Cgl2YXIgaSwgbCwgdHlwZSwgcGRhdGFPbGQsIHVkYXRhT2xkLCB1ZGF0YUN1ciwgZXZlbnRzOwoKCWlmICggZGVzdC5ub2RlVHlwZSAhPT0gMSApIHsKCQlyZXR1cm47Cgl9CgoJLy8gMS4gQ29weSBwcml2YXRlIGRhdGE6IGV2ZW50cywgaGFuZGxlcnMsIGV0Yy4KCWlmICggZGF0YVByaXYuaGFzRGF0YSggc3JjICkgKSB7CgkJcGRhdGFPbGQgPSBkYXRhUHJpdi5nZXQoIHNyYyApOwoJCWV2ZW50cyA9IHBkYXRhT2xkLmV2ZW50czsKCgkJaWYgKCBldmVudHMgKSB7CgkJCWRhdGFQcml2LnJlbW92ZSggZGVzdCwgImhhbmRsZSBldmVudHMiICk7CgoJCQlmb3IgKCB0eXBlIGluIGV2ZW50cyApIHsKCQkJCWZvciAoIGkgPSAwLCBsID0gZXZlbnRzWyB0eXBlIF0ubGVuZ3RoOyBpIDwgbDsgaSsrICkgewoJCQkJCWpRdWVyeS5ldmVudC5hZGQoIGRlc3QsIHR5cGUsIGV2ZW50c1sgdHlwZSBdWyBpIF0gKTsKCQkJCX0KCQkJfQoJCX0KCX0KCgkvLyAyLiBDb3B5IHVzZXIgZGF0YQoJaWYgKCBkYXRhVXNlci5oYXNEYXRhKCBzcmMgKSApIHsKCQl1ZGF0YU9sZCA9IGRhdGFVc2VyLmFjY2Vzcyggc3JjICk7CgkJdWRhdGFDdXIgPSBqUXVlcnkuZXh0ZW5kKCB7fSwgdWRhdGFPbGQgKTsKCgkJZGF0YVVzZXIuc2V0KCBkZXN0LCB1ZGF0YUN1ciApOwoJfQp9CgovLyBGaXggSUUgYnVncywgc2VlIHN1cHBvcnQgdGVzdHMKZnVuY3Rpb24gZml4SW5wdXQoIHNyYywgZGVzdCApIHsKCXZhciBub2RlTmFtZSA9IGRlc3Qubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKCgkvLyBGYWlscyB0byBwZXJzaXN0IHRoZSBjaGVja2VkIHN0YXRlIG9mIGEgY2xvbmVkIGNoZWNrYm94IG9yIHJhZGlvIGJ1dHRvbi4KCWlmICggbm9kZU5hbWUgPT09ICJpbnB1dCIgJiYgcmNoZWNrYWJsZVR5cGUudGVzdCggc3JjLnR5cGUgKSApIHsKCQlkZXN0LmNoZWNrZWQgPSBzcmMuY2hlY2tlZDsKCgkvLyBGYWlscyB0byByZXR1cm4gdGhlIHNlbGVjdGVkIG9wdGlvbiB0byB0aGUgZGVmYXVsdCBzZWxlY3RlZCBzdGF0ZSB3aGVuIGNsb25pbmcgb3B0aW9ucwoJfSBlbHNlIGlmICggbm9kZU5hbWUgPT09ICJpbnB1dCIgfHwgbm9kZU5hbWUgPT09ICJ0ZXh0YXJlYSIgKSB7CgkJZGVzdC5kZWZhdWx0VmFsdWUgPSBzcmMuZGVmYXVsdFZhbHVlOwoJfQp9CgpmdW5jdGlvbiBkb21NYW5pcCggY29sbGVjdGlvbiwgYXJncywgY2FsbGJhY2ssIGlnbm9yZWQgKSB7CgoJLy8gRmxhdHRlbiBhbnkgbmVzdGVkIGFycmF5cwoJYXJncyA9IGZsYXQoIGFyZ3MgKTsKCgl2YXIgZnJhZ21lbnQsIGZpcnN0LCBzY3JpcHRzLCBoYXNTY3JpcHRzLCBub2RlLCBkb2MsCgkJaSA9IDAsCgkJbCA9IGNvbGxlY3Rpb24ubGVuZ3RoLAoJCWlOb0Nsb25lID0gbCAtIDEsCgkJdmFsdWUgPSBhcmdzWyAwIF0sCgkJdmFsdWVJc0Z1bmN0aW9uID0gaXNGdW5jdGlvbiggdmFsdWUgKTsKCgkvLyBXZSBjYW4ndCBjbG9uZU5vZGUgZnJhZ21lbnRzIHRoYXQgY29udGFpbiBjaGVja2VkLCBpbiBXZWJLaXQKCWlmICggdmFsdWVJc0Z1bmN0aW9uIHx8CgkJCSggbCA+IDEgJiYgdHlwZW9mIHZhbHVlID09PSAic3RyaW5nIiAmJgoJCQkJIXN1cHBvcnQuY2hlY2tDbG9uZSAmJiByY2hlY2tlZC50ZXN0KCB2YWx1ZSApICkgKSB7CgkJcmV0dXJuIGNvbGxlY3Rpb24uZWFjaCggZnVuY3Rpb24oIGluZGV4ICkgewoJCQl2YXIgc2VsZiA9IGNvbGxlY3Rpb24uZXEoIGluZGV4ICk7CgkJCWlmICggdmFsdWVJc0Z1bmN0aW9uICkgewoJCQkJYXJnc1sgMCBdID0gdmFsdWUuY2FsbCggdGhpcywgaW5kZXgsIHNlbGYuaHRtbCgpICk7CgkJCX0KCQkJZG9tTWFuaXAoIHNlbGYsIGFyZ3MsIGNhbGxiYWNrLCBpZ25vcmVkICk7CgkJfSApOwoJfQoKCWlmICggbCApIHsKCQlmcmFnbWVudCA9IGJ1aWxkRnJhZ21lbnQoIGFyZ3MsIGNvbGxlY3Rpb25bIDAgXS5vd25lckRvY3VtZW50LCBmYWxzZSwgY29sbGVjdGlvbiwgaWdub3JlZCApOwoJCWZpcnN0ID0gZnJhZ21lbnQuZmlyc3RDaGlsZDsKCgkJaWYgKCBmcmFnbWVudC5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMSApIHsKCQkJZnJhZ21lbnQgPSBmaXJzdDsKCQl9CgoJCS8vIFJlcXVpcmUgZWl0aGVyIG5ldyBjb250ZW50IG9yIGFuIGludGVyZXN0IGluIGlnbm9yZWQgZWxlbWVudHMgdG8gaW52b2tlIHRoZSBjYWxsYmFjawoJCWlmICggZmlyc3QgfHwgaWdub3JlZCApIHsKCQkJc2NyaXB0cyA9IGpRdWVyeS5tYXAoIGdldEFsbCggZnJhZ21lbnQsICJzY3JpcHQiICksIGRpc2FibGVTY3JpcHQgKTsKCQkJaGFzU2NyaXB0cyA9IHNjcmlwdHMubGVuZ3RoOwoKCQkJLy8gVXNlIHRoZSBvcmlnaW5hbCBmcmFnbWVudCBmb3IgdGhlIGxhc3QgaXRlbQoJCQkvLyBpbnN0ZWFkIG9mIHRoZSBmaXJzdCBiZWNhdXNlIGl0IGNhbiBlbmQgdXAKCQkJLy8gYmVpbmcgZW1wdGllZCBpbmNvcnJlY3RseSBpbiBjZXJ0YWluIHNpdHVhdGlvbnMgKHRyYWMtODA3MCkuCgkJCWZvciAoIDsgaSA8IGw7IGkrKyApIHsKCQkJCW5vZGUgPSBmcmFnbWVudDsKCgkJCQlpZiAoIGkgIT09IGlOb0Nsb25lICkgewoJCQkJCW5vZGUgPSBqUXVlcnkuY2xvbmUoIG5vZGUsIHRydWUsIHRydWUgKTsKCgkJCQkJLy8gS2VlcCByZWZlcmVuY2VzIHRvIGNsb25lZCBzY3JpcHRzIGZvciBsYXRlciByZXN0b3JhdGlvbgoJCQkJCWlmICggaGFzU2NyaXB0cyApIHsKCgkJCQkJCS8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seQoJCQkJCQkvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0CgkJCQkJCWpRdWVyeS5tZXJnZSggc2NyaXB0cywgZ2V0QWxsKCBub2RlLCAic2NyaXB0IiApICk7CgkJCQkJfQoJCQkJfQoKCQkJCWNhbGxiYWNrLmNhbGwoIGNvbGxlY3Rpb25bIGkgXSwgbm9kZSwgaSApOwoJCQl9CgoJCQlpZiAoIGhhc1NjcmlwdHMgKSB7CgkJCQlkb2MgPSBzY3JpcHRzWyBzY3JpcHRzLmxlbmd0aCAtIDEgXS5vd25lckRvY3VtZW50OwoKCQkJCS8vIFJlLWVuYWJsZSBzY3JpcHRzCgkJCQlqUXVlcnkubWFwKCBzY3JpcHRzLCByZXN0b3JlU2NyaXB0ICk7CgoJCQkJLy8gRXZhbHVhdGUgZXhlY3V0YWJsZSBzY3JpcHRzIG9uIGZpcnN0IGRvY3VtZW50IGluc2VydGlvbgoJCQkJZm9yICggaSA9IDA7IGkgPCBoYXNTY3JpcHRzOyBpKysgKSB7CgkJCQkJbm9kZSA9IHNjcmlwdHNbIGkgXTsKCQkJCQlpZiAoIHJzY3JpcHRUeXBlLnRlc3QoIG5vZGUudHlwZSB8fCAiIiApICYmCgkJCQkJCSFkYXRhUHJpdi5hY2Nlc3MoIG5vZGUsICJnbG9iYWxFdmFsIiApICYmCgkJCQkJCWpRdWVyeS5jb250YWlucyggZG9jLCBub2RlICkgKSB7CgoJCQkJCQlpZiAoIG5vZGUuc3JjICYmICggbm9kZS50eXBlIHx8ICIiICkudG9Mb3dlckNhc2UoKSAgIT09ICJtb2R1bGUiICkgewoKCQkJCQkJCS8vIE9wdGlvbmFsIEFKQVggZGVwZW5kZW5jeSwgYnV0IHdvbid0IHJ1biBzY3JpcHRzIGlmIG5vdCBwcmVzZW50CgkJCQkJCQlpZiAoIGpRdWVyeS5fZXZhbFVybCAmJiAhbm9kZS5ub01vZHVsZSApIHsKCQkJCQkJCQlqUXVlcnkuX2V2YWxVcmwoIG5vZGUuc3JjLCB7CgkJCQkJCQkJCW5vbmNlOiBub2RlLm5vbmNlIHx8IG5vZGUuZ2V0QXR0cmlidXRlKCAibm9uY2UiICkKCQkJCQkJCQl9LCBkb2MgKTsKCQkJCQkJCX0KCQkJCQkJfSBlbHNlIHsKCgkJCQkJCQkvLyBVbndyYXAgYSBDREFUQSBzZWN0aW9uIGNvbnRhaW5pbmcgc2NyaXB0IGNvbnRlbnRzLiBUaGlzIHNob3VsZG4ndCBiZQoJCQkJCQkJLy8gbmVlZGVkIGFzIGluIFhNTCBkb2N1bWVudHMgdGhleSdyZSBhbHJlYWR5IG5vdCB2aXNpYmxlIHdoZW4KCQkJCQkJCS8vIGluc3BlY3RpbmcgZWxlbWVudCBjb250ZW50cyBhbmQgaW4gSFRNTCBkb2N1bWVudHMgdGhleSBoYXZlIG5vCgkJCQkJCQkvLyBtZWFuaW5nIGJ1dCB3ZSdyZSBwcmVzZXJ2aW5nIHRoYXQgbG9naWMgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LgoJCQkJCQkJLy8gVGhpcyB3aWxsIGJlIHJlbW92ZWQgY29tcGxldGVseSBpbiA0LjAuIFNlZSBnaC00OTA0LgoJCQkJCQkJRE9NRXZhbCggbm9kZS50ZXh0Q29udGVudC5yZXBsYWNlKCByY2xlYW5TY3JpcHQsICIiICksIG5vZGUsIGRvYyApOwoJCQkJCQl9CgkJCQkJfQoJCQkJfQoJCQl9CgkJfQoJfQoKCXJldHVybiBjb2xsZWN0aW9uOwp9CgpmdW5jdGlvbiByZW1vdmUoIGVsZW0sIHNlbGVjdG9yLCBrZWVwRGF0YSApIHsKCXZhciBub2RlLAoJCW5vZGVzID0gc2VsZWN0b3IgPyBqUXVlcnkuZmlsdGVyKCBzZWxlY3RvciwgZWxlbSApIDogZWxlbSwKCQlpID0gMDsKCglmb3IgKCA7ICggbm9kZSA9IG5vZGVzWyBpIF0gKSAhPSBudWxsOyBpKysgKSB7CgkJaWYgKCAha2VlcERhdGEgJiYgbm9kZS5ub2RlVHlwZSA9PT0gMSApIHsKCQkJalF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCBub2RlICkgKTsKCQl9CgoJCWlmICggbm9kZS5wYXJlbnROb2RlICkgewoJCQlpZiAoIGtlZXBEYXRhICYmIGlzQXR0YWNoZWQoIG5vZGUgKSApIHsKCQkJCXNldEdsb2JhbEV2YWwoIGdldEFsbCggbm9kZSwgInNjcmlwdCIgKSApOwoJCQl9CgkJCW5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggbm9kZSApOwoJCX0KCX0KCglyZXR1cm4gZWxlbTsKfQoKalF1ZXJ5LmV4dGVuZCggewoJaHRtbFByZWZpbHRlcjogZnVuY3Rpb24oIGh0bWwgKSB7CgkJcmV0dXJuIGh0bWw7Cgl9LAoKCWNsb25lOiBmdW5jdGlvbiggZWxlbSwgZGF0YUFuZEV2ZW50cywgZGVlcERhdGFBbmRFdmVudHMgKSB7CgkJdmFyIGksIGwsIHNyY0VsZW1lbnRzLCBkZXN0RWxlbWVudHMsCgkJCWNsb25lID0gZWxlbS5jbG9uZU5vZGUoIHRydWUgKSwKCQkJaW5QYWdlID0gaXNBdHRhY2hlZCggZWxlbSApOwoKCQkvLyBGaXggSUUgY2xvbmluZyBpc3N1ZXMKCQlpZiAoICFzdXBwb3J0Lm5vQ2xvbmVDaGVja2VkICYmICggZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBlbGVtLm5vZGVUeXBlID09PSAxMSApICYmCgkJCQkhalF1ZXJ5LmlzWE1MRG9jKCBlbGVtICkgKSB7CgoJCQkvLyBXZSBlc2NoZXcgalF1ZXJ5I2ZpbmQgaGVyZSBmb3IgcGVyZm9ybWFuY2UgcmVhc29uczoKCQkJLy8gaHR0cHM6Ly9qc3BlcmYuY29tL2dldGFsbC12cy1zaXp6bGUvMgoJCQlkZXN0RWxlbWVudHMgPSBnZXRBbGwoIGNsb25lICk7CgkJCXNyY0VsZW1lbnRzID0gZ2V0QWxsKCBlbGVtICk7CgoJCQlmb3IgKCBpID0gMCwgbCA9IHNyY0VsZW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKyApIHsKCQkJCWZpeElucHV0KCBzcmNFbGVtZW50c1sgaSBdLCBkZXN0RWxlbWVudHNbIGkgXSApOwoJCQl9CgkJfQoKCQkvLyBDb3B5IHRoZSBldmVudHMgZnJvbSB0aGUgb3JpZ2luYWwgdG8gdGhlIGNsb25lCgkJaWYgKCBkYXRhQW5kRXZlbnRzICkgewoJCQlpZiAoIGRlZXBEYXRhQW5kRXZlbnRzICkgewoJCQkJc3JjRWxlbWVudHMgPSBzcmNFbGVtZW50cyB8fCBnZXRBbGwoIGVsZW0gKTsKCQkJCWRlc3RFbGVtZW50cyA9IGRlc3RFbGVtZW50cyB8fCBnZXRBbGwoIGNsb25lICk7CgoJCQkJZm9yICggaSA9IDAsIGwgPSBzcmNFbGVtZW50cy5sZW5ndGg7IGkgPCBsOyBpKysgKSB7CgkJCQkJY2xvbmVDb3B5RXZlbnQoIHNyY0VsZW1lbnRzWyBpIF0sIGRlc3RFbGVtZW50c1sgaSBdICk7CgkJCQl9CgkJCX0gZWxzZSB7CgkJCQljbG9uZUNvcHlFdmVudCggZWxlbSwgY2xvbmUgKTsKCQkJfQoJCX0KCgkJLy8gUHJlc2VydmUgc2NyaXB0IGV2YWx1YXRpb24gaGlzdG9yeQoJCWRlc3RFbGVtZW50cyA9IGdldEFsbCggY2xvbmUsICJzY3JpcHQiICk7CgkJaWYgKCBkZXN0RWxlbWVudHMubGVuZ3RoID4gMCApIHsKCQkJc2V0R2xvYmFsRXZhbCggZGVzdEVsZW1lbnRzLCAhaW5QYWdlICYmIGdldEFsbCggZWxlbSwgInNjcmlwdCIgKSApOwoJCX0KCgkJLy8gUmV0dXJuIHRoZSBjbG9uZWQgc2V0CgkJcmV0dXJuIGNsb25lOwoJfSwKCgljbGVhbkRhdGE6IGZ1bmN0aW9uKCBlbGVtcyApIHsKCQl2YXIgZGF0YSwgZWxlbSwgdHlwZSwKCQkJc3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsLAoJCQlpID0gMDsKCgkJZm9yICggOyAoIGVsZW0gPSBlbGVtc1sgaSBdICkgIT09IHVuZGVmaW5lZDsgaSsrICkgewoJCQlpZiAoIGFjY2VwdERhdGEoIGVsZW0gKSApIHsKCQkJCWlmICggKCBkYXRhID0gZWxlbVsgZGF0YVByaXYuZXhwYW5kbyBdICkgKSB7CgkJCQkJaWYgKCBkYXRhLmV2ZW50cyApIHsKCQkJCQkJZm9yICggdHlwZSBpbiBkYXRhLmV2ZW50cyApIHsKCQkJCQkJCWlmICggc3BlY2lhbFsgdHlwZSBdICkgewoJCQkJCQkJCWpRdWVyeS5ldmVudC5yZW1vdmUoIGVsZW0sIHR5cGUgKTsKCgkJCQkJCQkvLyBUaGlzIGlzIGEgc2hvcnRjdXQgdG8gYXZvaWQgalF1ZXJ5LmV2ZW50LnJlbW92ZSdzIG92ZXJoZWFkCgkJCQkJCQl9IGVsc2UgewoJCQkJCQkJCWpRdWVyeS5yZW1vdmVFdmVudCggZWxlbSwgdHlwZSwgZGF0YS5oYW5kbGUgKTsKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCX0KCgkJCQkJLy8gU3VwcG9ydDogQ2hyb21lIDw9MzUgLSA0NSsKCQkJCQkvLyBBc3NpZ24gdW5kZWZpbmVkIGluc3RlYWQgb2YgdXNpbmcgZGVsZXRlLCBzZWUgRGF0YSNyZW1vdmUKCQkJCQllbGVtWyBkYXRhUHJpdi5leHBhbmRvIF0gPSB1bmRlZmluZWQ7CgkJCQl9CgkJCQlpZiAoIGVsZW1bIGRhdGFVc2VyLmV4cGFuZG8gXSApIHsKCgkJCQkJLy8gU3VwcG9ydDogQ2hyb21lIDw9MzUgLSA0NSsKCQkJCQkvLyBBc3NpZ24gdW5kZWZpbmVkIGluc3RlYWQgb2YgdXNpbmcgZGVsZXRlLCBzZWUgRGF0YSNyZW1vdmUKCQkJCQllbGVtWyBkYXRhVXNlci5leHBhbmRvIF0gPSB1bmRlZmluZWQ7CgkJCQl9CgkJCX0KCQl9Cgl9Cn0gKTsKCmpRdWVyeS5mbi5leHRlbmQoIHsKCWRldGFjaDogZnVuY3Rpb24oIHNlbGVjdG9yICkgewoJCXJldHVybiByZW1vdmUoIHRoaXMsIHNlbGVjdG9yLCB0cnVlICk7Cgl9LAoKCXJlbW92ZTogZnVuY3Rpb24oIHNlbGVjdG9yICkgewoJCXJldHVybiByZW1vdmUoIHRoaXMsIHNlbGVjdG9yICk7Cgl9LAoKCXRleHQ6IGZ1bmN0aW9uKCB2YWx1ZSApIHsKCQlyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggdmFsdWUgKSB7CgkJCXJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8KCQkJCWpRdWVyeS50ZXh0KCB0aGlzICkgOgoJCQkJdGhpcy5lbXB0eSgpLmVhY2goIGZ1bmN0aW9uKCkgewoJCQkJCWlmICggdGhpcy5ub2RlVHlwZSA9PT0gMSB8fCB0aGlzLm5vZGVUeXBlID09PSAxMSB8fCB0aGlzLm5vZGVUeXBlID09PSA5ICkgewoJCQkJCQl0aGlzLnRleHRDb250ZW50ID0gdmFsdWU7CgkJCQkJfQoJCQkJfSApOwoJCX0sIG51bGwsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoICk7Cgl9LAoKCWFwcGVuZDogZnVuY3Rpb24oKSB7CgkJcmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkgewoJCQlpZiAoIHRoaXMubm9kZVR5cGUgPT09IDEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gMTEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gOSApIHsKCQkJCXZhciB0YXJnZXQgPSBtYW5pcHVsYXRpb25UYXJnZXQoIHRoaXMsIGVsZW0gKTsKCQkJCXRhcmdldC5hcHBlbmRDaGlsZCggZWxlbSApOwoJCQl9CgkJfSApOwoJfSwKCglwcmVwZW5kOiBmdW5jdGlvbigpIHsKCQlyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7CgkJCWlmICggdGhpcy5ub2RlVHlwZSA9PT0gMSB8fCB0aGlzLm5vZGVUeXBlID09PSAxMSB8fCB0aGlzLm5vZGVUeXBlID09PSA5ICkgewoJCQkJdmFyIHRhcmdldCA9IG1hbmlwdWxhdGlvblRhcmdldCggdGhpcywgZWxlbSApOwoJCQkJdGFyZ2V0Lmluc2VydEJlZm9yZSggZWxlbSwgdGFyZ2V0LmZpcnN0Q2hpbGQgKTsKCQkJfQoJCX0gKTsKCX0sCgoJYmVmb3JlOiBmdW5jdGlvbigpIHsKCQlyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7CgkJCWlmICggdGhpcy5wYXJlbnROb2RlICkgewoJCQkJdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSggZWxlbSwgdGhpcyApOwoJCQl9CgkJfSApOwoJfSwKCglhZnRlcjogZnVuY3Rpb24oKSB7CgkJcmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkgewoJCQlpZiAoIHRoaXMucGFyZW50Tm9kZSApIHsKCQkJCXRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoIGVsZW0sIHRoaXMubmV4dFNpYmxpbmcgKTsKCQkJfQoJCX0gKTsKCX0sCgoJZW1wdHk6IGZ1bmN0aW9uKCkgewoJCXZhciBlbGVtLAoJCQlpID0gMDsKCgkJZm9yICggOyAoIGVsZW0gPSB0aGlzWyBpIF0gKSAhPSBudWxsOyBpKysgKSB7CgkJCWlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHsKCgkJCQkvLyBQcmV2ZW50IG1lbW9yeSBsZWFrcwoJCQkJalF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCBlbGVtLCBmYWxzZSApICk7CgoJCQkJLy8gUmVtb3ZlIGFueSByZW1haW5pbmcgbm9kZXMKCQkJCWVsZW0udGV4dENvbnRlbnQgPSAiIjsKCQkJfQoJCX0KCgkJcmV0dXJuIHRoaXM7Cgl9LAoKCWNsb25lOiBmdW5jdGlvbiggZGF0YUFuZEV2ZW50cywgZGVlcERhdGFBbmRFdmVudHMgKSB7CgkJZGF0YUFuZEV2ZW50cyA9IGRhdGFBbmRFdmVudHMgPT0gbnVsbCA/IGZhbHNlIDogZGF0YUFuZEV2ZW50czsKCQlkZWVwRGF0YUFuZEV2ZW50cyA9IGRlZXBEYXRhQW5kRXZlbnRzID09IG51bGwgPyBkYXRhQW5kRXZlbnRzIDogZGVlcERhdGFBbmRFdmVudHM7CgoJCXJldHVybiB0aGlzLm1hcCggZnVuY3Rpb24oKSB7CgkJCXJldHVybiBqUXVlcnkuY2xvbmUoIHRoaXMsIGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzICk7CgkJfSApOwoJfSwKCglodG1sOiBmdW5jdGlvbiggdmFsdWUgKSB7CgkJcmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIHZhbHVlICkgewoJCQl2YXIgZWxlbSA9IHRoaXNbIDAgXSB8fCB7fSwKCQkJCWkgPSAwLAoJCQkJbCA9IHRoaXMubGVuZ3RoOwoKCQkJaWYgKCB2YWx1ZSA9PT0gdW5kZWZpbmVkICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7CgkJCQlyZXR1cm4gZWxlbS5pbm5lckhUTUw7CgkJCX0KCgkJCS8vIFNlZSBpZiB3ZSBjYW4gdGFrZSBhIHNob3J0Y3V0IGFuZCBqdXN0IHVzZSBpbm5lckhUTUwKCQkJaWYgKCB0eXBlb2YgdmFsdWUgPT09ICJzdHJpbmciICYmICFybm9Jbm5lcmh0bWwudGVzdCggdmFsdWUgKSAmJgoJCQkJIXdyYXBNYXBbICggcnRhZ05hbWUuZXhlYyggdmFsdWUgKSB8fCBbICIiLCAiIiBdIClbIDEgXS50b0xvd2VyQ2FzZSgpIF0gKSB7CgoJCQkJdmFsdWUgPSBqUXVlcnkuaHRtbFByZWZpbHRlciggdmFsdWUgKTsKCgkJCQl0cnkgewoJCQkJCWZvciAoIDsgaSA8IGw7IGkrKyApIHsKCQkJCQkJZWxlbSA9IHRoaXNbIGkgXSB8fCB7fTsKCgkJCQkJCS8vIFJlbW92ZSBlbGVtZW50IG5vZGVzIGFuZCBwcmV2ZW50IG1lbW9yeSBsZWFrcwoJCQkJCQlpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7CgkJCQkJCQlqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIGVsZW0sIGZhbHNlICkgKTsKCQkJCQkJCWVsZW0uaW5uZXJIVE1MID0gdmFsdWU7CgkJCQkJCX0KCQkJCQl9CgoJCQkJCWVsZW0gPSAwOwoKCQkJCS8vIElmIHVzaW5nIGlubmVySFRNTCB0aHJvd3MgYW4gZXhjZXB0aW9uLCB1c2UgdGhlIGZhbGxiYWNrIG1ldGhvZAoJCQkJfSBjYXRjaCAoIGUgKSB7fQoJCQl9CgoJCQlpZiAoIGVsZW0gKSB7CgkJCQl0aGlzLmVtcHR5KCkuYXBwZW5kKCB2YWx1ZSApOwoJCQl9CgkJfSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggKTsKCX0sCgoJcmVwbGFjZVdpdGg6IGZ1bmN0aW9uKCkgewoJCXZhciBpZ25vcmVkID0gW107CgoJCS8vIE1ha2UgdGhlIGNoYW5nZXMsIHJlcGxhY2luZyBlYWNoIG5vbi1pZ25vcmVkIGNvbnRleHQgZWxlbWVudCB3aXRoIHRoZSBuZXcgY29udGVudAoJCXJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHsKCQkJdmFyIHBhcmVudCA9IHRoaXMucGFyZW50Tm9kZTsKCgkJCWlmICggalF1ZXJ5LmluQXJyYXkoIHRoaXMsIGlnbm9yZWQgKSA8IDAgKSB7CgkJCQlqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIHRoaXMgKSApOwoJCQkJaWYgKCBwYXJlbnQgKSB7CgkJCQkJcGFyZW50LnJlcGxhY2VDaGlsZCggZWxlbSwgdGhpcyApOwoJCQkJfQoJCQl9CgoJCS8vIEZvcmNlIGNhbGxiYWNrIGludm9jYXRpb24KCQl9LCBpZ25vcmVkICk7Cgl9Cn0gKTsKCmpRdWVyeS5lYWNoKCB7CglhcHBlbmRUbzogImFwcGVuZCIsCglwcmVwZW5kVG86ICJwcmVwZW5kIiwKCWluc2VydEJlZm9yZTogImJlZm9yZSIsCglpbnNlcnRBZnRlcjogImFmdGVyIiwKCXJlcGxhY2VBbGw6ICJyZXBsYWNlV2l0aCIKfSwgZnVuY3Rpb24oIG5hbWUsIG9yaWdpbmFsICkgewoJalF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggc2VsZWN0b3IgKSB7CgkJdmFyIGVsZW1zLAoJCQlyZXQgPSBbXSwKCQkJaW5zZXJ0ID0galF1ZXJ5KCBzZWxlY3RvciApLAoJCQlsYXN0ID0gaW5zZXJ0Lmxlbmd0aCAtIDEsCgkJCWkgPSAwOwoKCQlmb3IgKCA7IGkgPD0gbGFzdDsgaSsrICkgewoJCQllbGVtcyA9IGkgPT09IGxhc3QgPyB0aGlzIDogdGhpcy5jbG9uZSggdHJ1ZSApOwoJCQlqUXVlcnkoIGluc2VydFsgaSBdIClbIG9yaWdpbmFsIF0oIGVsZW1zICk7CgoJCQkvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHkKCQkJLy8gLmdldCgpIGJlY2F1c2UgcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdAoJCQlwdXNoLmFwcGx5KCByZXQsIGVsZW1zLmdldCgpICk7CgkJfQoKCQlyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHJldCApOwoJfTsKfSApOwp2YXIgcm51bW5vbnB4ID0gbmV3IFJlZ0V4cCggIl4oIiArIHBudW0gKyAiKSg/IXB4KVthLXolXSskIiwgImkiICk7Cgp2YXIgcmN1c3RvbVByb3AgPSAvXi0tLzsKCgp2YXIgZ2V0U3R5bGVzID0gZnVuY3Rpb24oIGVsZW0gKSB7CgoJCS8vIFN1cHBvcnQ6IElFIDw9MTEgb25seSwgRmlyZWZveCA8PTMwICh0cmFjLTE1MDk4LCB0cmFjLTE0MTUwKQoJCS8vIElFIHRocm93cyBvbiBlbGVtZW50cyBjcmVhdGVkIGluIHBvcHVwcwoJCS8vIEZGIG1lYW53aGlsZSB0aHJvd3Mgb24gZnJhbWUgZWxlbWVudHMgdGhyb3VnaCAiZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSIKCQl2YXIgdmlldyA9IGVsZW0ub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldzsKCgkJaWYgKCAhdmlldyB8fCAhdmlldy5vcGVuZXIgKSB7CgkJCXZpZXcgPSB3aW5kb3c7CgkJfQoKCQlyZXR1cm4gdmlldy5nZXRDb21wdXRlZFN0eWxlKCBlbGVtICk7Cgl9OwoKdmFyIHN3YXAgPSBmdW5jdGlvbiggZWxlbSwgb3B0aW9ucywgY2FsbGJhY2sgKSB7Cgl2YXIgcmV0LCBuYW1lLAoJCW9sZCA9IHt9OwoKCS8vIFJlbWVtYmVyIHRoZSBvbGQgdmFsdWVzLCBhbmQgaW5zZXJ0IHRoZSBuZXcgb25lcwoJZm9yICggbmFtZSBpbiBvcHRpb25zICkgewoJCW9sZFsgbmFtZSBdID0gZWxlbS5zdHlsZVsgbmFtZSBdOwoJCWVsZW0uc3R5bGVbIG5hbWUgXSA9IG9wdGlvbnNbIG5hbWUgXTsKCX0KCglyZXQgPSBjYWxsYmFjay5jYWxsKCBlbGVtICk7CgoJLy8gUmV2ZXJ0IHRoZSBvbGQgdmFsdWVzCglmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7CgkJZWxlbS5zdHlsZVsgbmFtZSBdID0gb2xkWyBuYW1lIF07Cgl9CgoJcmV0dXJuIHJldDsKfTsKCgp2YXIgcmJveFN0eWxlID0gbmV3IFJlZ0V4cCggY3NzRXhwYW5kLmpvaW4oICJ8IiApLCAiaSIgKTsKCgoKKCBmdW5jdGlvbigpIHsKCgkvLyBFeGVjdXRpbmcgYm90aCBwaXhlbFBvc2l0aW9uICYgYm94U2l6aW5nUmVsaWFibGUgdGVzdHMgcmVxdWlyZSBvbmx5IG9uZSBsYXlvdXQKCS8vIHNvIHRoZXkncmUgZXhlY3V0ZWQgYXQgdGhlIHNhbWUgdGltZSB0byBzYXZlIHRoZSBzZWNvbmQgY29tcHV0YXRpb24uCglmdW5jdGlvbiBjb21wdXRlU3R5bGVUZXN0cygpIHsKCgkJLy8gVGhpcyBpcyBhIHNpbmdsZXRvbiwgd2UgbmVlZCB0byBleGVjdXRlIGl0IG9ubHkgb25jZQoJCWlmICggIWRpdiApIHsKCQkJcmV0dXJuOwoJCX0KCgkJY29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSAicG9zaXRpb246YWJzb2x1dGU7bGVmdDotMTExMTFweDt3aWR0aDo2MHB4OyIgKwoJCQkibWFyZ2luLXRvcDoxcHg7cGFkZGluZzowO2JvcmRlcjowIjsKCQlkaXYuc3R5bGUuY3NzVGV4dCA9CgkJCSJwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmJsb2NrO2JveC1zaXppbmc6Ym9yZGVyLWJveDtvdmVyZmxvdzpzY3JvbGw7IiArCgkJCSJtYXJnaW46YXV0bztib3JkZXI6MXB4O3BhZGRpbmc6MXB4OyIgKwoJCQkid2lkdGg6NjAlO3RvcDoxJSI7CgkJZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKCBjb250YWluZXIgKS5hcHBlbmRDaGlsZCggZGl2ICk7CgoJCXZhciBkaXZTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKCBkaXYgKTsKCQlwaXhlbFBvc2l0aW9uVmFsID0gZGl2U3R5bGUudG9wICE9PSAiMSUiOwoKCQkvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMCAtIDQuMyBvbmx5LCBGaXJlZm94IDw9MyAtIDQ0CgkJcmVsaWFibGVNYXJnaW5MZWZ0VmFsID0gcm91bmRQaXhlbE1lYXN1cmVzKCBkaXZTdHlsZS5tYXJnaW5MZWZ0ICkgPT09IDEyOwoKCQkvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMCAtIDQuMyBvbmx5LCBTYWZhcmkgPD05LjEgLSAxMC4xLCBpT1MgPD03LjAgLSA5LjMKCQkvLyBTb21lIHN0eWxlcyBjb21lIGJhY2sgd2l0aCBwZXJjZW50YWdlIHZhbHVlcywgZXZlbiB0aG91Z2ggdGhleSBzaG91bGRuJ3QKCQlkaXYuc3R5bGUucmlnaHQgPSAiNjAlIjsKCQlwaXhlbEJveFN0eWxlc1ZhbCA9IHJvdW5kUGl4ZWxNZWFzdXJlcyggZGl2U3R5bGUucmlnaHQgKSA9PT0gMzY7CgoJCS8vIFN1cHBvcnQ6IElFIDkgLSAxMSBvbmx5CgkJLy8gRGV0ZWN0IG1pc3JlcG9ydGluZyBvZiBjb250ZW50IGRpbWVuc2lvbnMgZm9yIGJveC1zaXppbmc6Ym9yZGVyLWJveCBlbGVtZW50cwoJCWJveFNpemluZ1JlbGlhYmxlVmFsID0gcm91bmRQaXhlbE1lYXN1cmVzKCBkaXZTdHlsZS53aWR0aCApID09PSAzNjsKCgkJLy8gU3VwcG9ydDogSUUgOSBvbmx5CgkJLy8gRGV0ZWN0IG92ZXJmbG93OnNjcm9sbCBzY3Jld2luZXNzIChnaC0zNjk5KQoJCS8vIFN1cHBvcnQ6IENocm9tZSA8PTY0CgkJLy8gRG9uJ3QgZ2V0IHRyaWNrZWQgd2hlbiB6b29tIGFmZmVjdHMgb2Zmc2V0V2lkdGggKGdoLTQwMjkpCgkJZGl2LnN0eWxlLnBvc2l0aW9uID0gImFic29sdXRlIjsKCQlzY3JvbGxib3hTaXplVmFsID0gcm91bmRQaXhlbE1lYXN1cmVzKCBkaXYub2Zmc2V0V2lkdGggLyAzICkgPT09IDEyOwoKCQlkb2N1bWVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoIGNvbnRhaW5lciApOwoKCQkvLyBOdWxsaWZ5IHRoZSBkaXYgc28gaXQgd291bGRuJ3QgYmUgc3RvcmVkIGluIHRoZSBtZW1vcnkgYW5kCgkJLy8gaXQgd2lsbCBhbHNvIGJlIGEgc2lnbiB0aGF0IGNoZWNrcyBhbHJlYWR5IHBlcmZvcm1lZAoJCWRpdiA9IG51bGw7Cgl9CgoJZnVuY3Rpb24gcm91bmRQaXhlbE1lYXN1cmVzKCBtZWFzdXJlICkgewoJCXJldHVybiBNYXRoLnJvdW5kKCBwYXJzZUZsb2F0KCBtZWFzdXJlICkgKTsKCX0KCgl2YXIgcGl4ZWxQb3NpdGlvblZhbCwgYm94U2l6aW5nUmVsaWFibGVWYWwsIHNjcm9sbGJveFNpemVWYWwsIHBpeGVsQm94U3R5bGVzVmFsLAoJCXJlbGlhYmxlVHJEaW1lbnNpb25zVmFsLCByZWxpYWJsZU1hcmdpbkxlZnRWYWwsCgkJY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggImRpdiIgKSwKCQlkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAiZGl2IiApOwoKCS8vIEZpbmlzaCBlYXJseSBpbiBsaW1pdGVkIChub24tYnJvd3NlcikgZW52aXJvbm1lbnRzCglpZiAoICFkaXYuc3R5bGUgKSB7CgkJcmV0dXJuOwoJfQoKCS8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHkKCS8vIFN0eWxlIG9mIGNsb25lZCBlbGVtZW50IGFmZmVjdHMgc291cmNlIGVsZW1lbnQgY2xvbmVkICh0cmFjLTg5MDgpCglkaXYuc3R5bGUuYmFja2dyb3VuZENsaXAgPSAiY29udGVudC1ib3giOwoJZGl2LmNsb25lTm9kZSggdHJ1ZSApLnN0eWxlLmJhY2tncm91bmRDbGlwID0gIiI7CglzdXBwb3J0LmNsZWFyQ2xvbmVTdHlsZSA9IGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9PT0gImNvbnRlbnQtYm94IjsKCglqUXVlcnkuZXh0ZW5kKCBzdXBwb3J0LCB7CgkJYm94U2l6aW5nUmVsaWFibGU6IGZ1bmN0aW9uKCkgewoJCQljb21wdXRlU3R5bGVUZXN0cygpOwoJCQlyZXR1cm4gYm94U2l6aW5nUmVsaWFibGVWYWw7CgkJfSwKCQlwaXhlbEJveFN0eWxlczogZnVuY3Rpb24oKSB7CgkJCWNvbXB1dGVTdHlsZVRlc3RzKCk7CgkJCXJldHVybiBwaXhlbEJveFN0eWxlc1ZhbDsKCQl9LAoJCXBpeGVsUG9zaXRpb246IGZ1bmN0aW9uKCkgewoJCQljb21wdXRlU3R5bGVUZXN0cygpOwoJCQlyZXR1cm4gcGl4ZWxQb3NpdGlvblZhbDsKCQl9LAoJCXJlbGlhYmxlTWFyZ2luTGVmdDogZnVuY3Rpb24oKSB7CgkJCWNvbXB1dGVTdHlsZVRlc3RzKCk7CgkJCXJldHVybiByZWxpYWJsZU1hcmdpbkxlZnRWYWw7CgkJfSwKCQlzY3JvbGxib3hTaXplOiBmdW5jdGlvbigpIHsKCQkJY29tcHV0ZVN0eWxlVGVzdHMoKTsKCQkJcmV0dXJuIHNjcm9sbGJveFNpemVWYWw7CgkJfSwKCgkJLy8gU3VwcG9ydDogSUUgOSAtIDExKywgRWRnZSAxNSAtIDE4KwoJCS8vIElFL0VkZ2UgbWlzcmVwb3J0IGBnZXRDb21wdXRlZFN0eWxlYCBvZiB0YWJsZSByb3dzIHdpdGggd2lkdGgvaGVpZ2h0CgkJLy8gc2V0IGluIENTUyB3aGlsZSBgb2Zmc2V0KmAgcHJvcGVydGllcyByZXBvcnQgY29ycmVjdCB2YWx1ZXMuCgkJLy8gQmVoYXZpb3IgaW4gSUUgOSBpcyBtb3JlIHN1YnRsZSB0aGFuIGluIG5ld2VyIHZlcnNpb25zICYgaXQgcGFzc2VzCgkJLy8gc29tZSB2ZXJzaW9ucyBvZiB0aGlzIHRlc3Q7IG1ha2Ugc3VyZSBub3QgdG8gbWFrZSBpdCBwYXNzIHRoZXJlIQoJCS8vCgkJLy8gU3VwcG9ydDogRmlyZWZveCA3MCsKCQkvLyBPbmx5IEZpcmVmb3ggaW5jbHVkZXMgYm9yZGVyIHdpZHRocwoJCS8vIGluIGNvbXB1dGVkIGRpbWVuc2lvbnMuIChnaC00NTI5KQoJCXJlbGlhYmxlVHJEaW1lbnNpb25zOiBmdW5jdGlvbigpIHsKCQkJdmFyIHRhYmxlLCB0ciwgdHJDaGlsZCwgdHJTdHlsZTsKCQkJaWYgKCByZWxpYWJsZVRyRGltZW5zaW9uc1ZhbCA9PSBudWxsICkgewoJCQkJdGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAidGFibGUiICk7CgkJCQl0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICJ0ciIgKTsKCQkJCXRyQ2hpbGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAiZGl2IiApOwoKCQkJCXRhYmxlLnN0eWxlLmNzc1RleHQgPSAicG9zaXRpb246YWJzb2x1dGU7bGVmdDotMTExMTFweDtib3JkZXItY29sbGFwc2U6c2VwYXJhdGUiOwoJCQkJdHIuc3R5bGUuY3NzVGV4dCA9ICJib3gtc2l6aW5nOmNvbnRlbnQtYm94O2JvcmRlcjoxcHggc29saWQiOwoKCQkJCS8vIFN1cHBvcnQ6IENocm9tZSA4NisKCQkJCS8vIEhlaWdodCBzZXQgdGhyb3VnaCBjc3NUZXh0IGRvZXMgbm90IGdldCBhcHBsaWVkLgoJCQkJLy8gQ29tcHV0ZWQgaGVpZ2h0IHRoZW4gY29tZXMgYmFjayBhcyAwLgoJCQkJdHIuc3R5bGUuaGVpZ2h0ID0gIjFweCI7CgkJCQl0ckNoaWxkLnN0eWxlLmhlaWdodCA9ICI5cHgiOwoKCQkJCS8vIFN1cHBvcnQ6IEFuZHJvaWQgOCBDaHJvbWUgODYrCgkJCQkvLyBJbiBvdXIgYm9keUJhY2tncm91bmQuaHRtbCBpZnJhbWUsCgkJCQkvLyBkaXNwbGF5IGZvciBhbGwgZGl2IGVsZW1lbnRzIGlzIHNldCB0byAiaW5saW5lIiwKCQkJCS8vIHdoaWNoIGNhdXNlcyBhIHByb2JsZW0gb25seSBpbiBBbmRyb2lkIDggQ2hyb21lIDg2LgoJCQkJLy8gRW5zdXJpbmcgdGhlIGRpdiBpcyBgZGlzcGxheTogYmxvY2tgCgkJCQkvLyBnZXRzIGFyb3VuZCB0aGlzIGlzc3VlLgoJCQkJdHJDaGlsZC5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKCgkJCQlkb2N1bWVudEVsZW1lbnQKCQkJCQkuYXBwZW5kQ2hpbGQoIHRhYmxlICkKCQkJCQkuYXBwZW5kQ2hpbGQoIHRyICkKCQkJCQkuYXBwZW5kQ2hpbGQoIHRyQ2hpbGQgKTsKCgkJCQl0clN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoIHRyICk7CgkJCQlyZWxpYWJsZVRyRGltZW5zaW9uc1ZhbCA9ICggcGFyc2VJbnQoIHRyU3R5bGUuaGVpZ2h0LCAxMCApICsKCQkJCQlwYXJzZUludCggdHJTdHlsZS5ib3JkZXJUb3BXaWR0aCwgMTAgKSArCgkJCQkJcGFyc2VJbnQoIHRyU3R5bGUuYm9yZGVyQm90dG9tV2lkdGgsIDEwICkgKSA9PT0gdHIub2Zmc2V0SGVpZ2h0OwoKCQkJCWRvY3VtZW50RWxlbWVudC5yZW1vdmVDaGlsZCggdGFibGUgKTsKCQkJfQoJCQlyZXR1cm4gcmVsaWFibGVUckRpbWVuc2lvbnNWYWw7CgkJfQoJfSApOwp9ICkoKTsKCgpmdW5jdGlvbiBjdXJDU1MoIGVsZW0sIG5hbWUsIGNvbXB1dGVkICkgewoJdmFyIHdpZHRoLCBtaW5XaWR0aCwgbWF4V2lkdGgsIHJldCwKCQlpc0N1c3RvbVByb3AgPSByY3VzdG9tUHJvcC50ZXN0KCBuYW1lICksCgoJCS8vIFN1cHBvcnQ6IEZpcmVmb3ggNTErCgkJLy8gUmV0cmlldmluZyBzdHlsZSBiZWZvcmUgY29tcHV0ZWQgc29tZWhvdwoJCS8vIGZpeGVzIGFuIGlzc3VlIHdpdGggZ2V0dGluZyB3cm9uZyB2YWx1ZXMKCQkvLyBvbiBkZXRhY2hlZCBlbGVtZW50cwoJCXN0eWxlID0gZWxlbS5zdHlsZTsKCgljb21wdXRlZCA9IGNvbXB1dGVkIHx8IGdldFN0eWxlcyggZWxlbSApOwoKCS8vIGdldFByb3BlcnR5VmFsdWUgaXMgbmVlZGVkIGZvcjoKCS8vICAgLmNzcygnZmlsdGVyJykgKElFIDkgb25seSwgdHJhYy0xMjUzNykKCS8vICAgLmNzcygnLS1jdXN0b21Qcm9wZXJ0eSkgKGdoLTMxNDQpCglpZiAoIGNvbXB1dGVkICkgewoKCQkvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSsKCQkvLyBJRSBvbmx5IHN1cHBvcnRzIGAiZmxvYXQiYCBpbiBgZ2V0UHJvcGVydHlWYWx1ZWA7IGluIGNvbXB1dGVkIHN0eWxlcwoJCS8vIGl0J3Mgb25seSBhdmFpbGFibGUgYXMgYCJjc3NGbG9hdCJgLiBXZSBubyBsb25nZXIgbW9kaWZ5IHByb3BlcnRpZXMKCQkvLyBzZW50IHRvIGAuY3NzKClgIGFwYXJ0IGZyb20gY2FtZWxDYXNpbmcsIHNvIHdlIG5lZWQgdG8gY2hlY2sgYm90aC4KCQkvLyBOb3JtYWxseSwgdGhpcyB3b3VsZCBjcmVhdGUgZGlmZmVyZW5jZSBpbiBiZWhhdmlvcjogaWYKCQkvLyBgZ2V0UHJvcGVydHlWYWx1ZWAgcmV0dXJucyBhbiBlbXB0eSBzdHJpbmcsIHRoZSB2YWx1ZSByZXR1cm5lZAoJCS8vIGJ5IGAuY3NzKClgIHdvdWxkIGJlIGB1bmRlZmluZWRgLiBUaGlzIGlzIHVzdWFsbHkgdGhlIGNhc2UgZm9yCgkJLy8gZGlzY29ubmVjdGVkIGVsZW1lbnRzLiBIb3dldmVyLCBpbiBJRSBldmVuIGRpc2Nvbm5lY3RlZCBlbGVtZW50cwoJCS8vIHdpdGggbm8gc3R5bGVzIHJldHVybiBgIm5vbmUiYCBmb3IgYGdldFByb3BlcnR5VmFsdWUoICJmbG9hdCIgKWAKCQlyZXQgPSBjb21wdXRlZC5nZXRQcm9wZXJ0eVZhbHVlKCBuYW1lICkgfHwgY29tcHV0ZWRbIG5hbWUgXTsKCgkJaWYgKCBpc0N1c3RvbVByb3AgJiYgcmV0ICkgewoKCQkJLy8gU3VwcG9ydDogRmlyZWZveCAxMDUrLCBDaHJvbWUgPD0xMDUrCgkJCS8vIFNwZWMgcmVxdWlyZXMgdHJpbW1pbmcgd2hpdGVzcGFjZSBmb3IgY3VzdG9tIHByb3BlcnRpZXMgKGdoLTQ5MjYpLgoJCQkvLyBGaXJlZm94IG9ubHkgdHJpbXMgbGVhZGluZyB3aGl0ZXNwYWNlLiBDaHJvbWUganVzdCBjb2xsYXBzZXMKCQkJLy8gYm90aCBsZWFkaW5nICYgdHJhaWxpbmcgd2hpdGVzcGFjZSB0byBhIHNpbmdsZSBzcGFjZS4KCQkJLy8KCQkJLy8gRmFsbCBiYWNrIHRvIGB1bmRlZmluZWRgIGlmIGVtcHR5IHN0cmluZyByZXR1cm5lZC4KCQkJLy8gVGhpcyBjb2xsYXBzZXMgYSBtaXNzaW5nIGRlZmluaXRpb24gd2l0aCBwcm9wZXJ0eSBkZWZpbmVkCgkJCS8vIGFuZCBzZXQgdG8gYW4gZW1wdHkgc3RyaW5nIGJ1dCB0aGVyZSdzIG5vIHN0YW5kYXJkIEFQSQoJCQkvLyBhbGxvd2luZyB1cyB0byBkaWZmZXJlbnRpYXRlIHRoZW0gd2l0aG91dCBhIHBlcmZvcm1hbmNlIHBlbmFsdHkKCQkJLy8gYW5kIHJldHVybmluZyBgdW5kZWZpbmVkYCBhbGlnbnMgd2l0aCBvbGRlciBqUXVlcnkuCgkJCS8vCgkJCS8vIHJ0cmltQ1NTIHRyZWF0cyBVKzAwMEQgQ0FSUklBR0UgUkVUVVJOIGFuZCBVKzAwMEMgRk9STSBGRUVECgkJCS8vIGFzIHdoaXRlc3BhY2Ugd2hpbGUgQ1NTIGRvZXMgbm90LCBidXQgdGhpcyBpcyBub3QgYSBwcm9ibGVtCgkJCS8vIGJlY2F1c2UgQ1NTIHByZXByb2Nlc3NpbmcgcmVwbGFjZXMgdGhlbSB3aXRoIFUrMDAwQSBMSU5FIEZFRUQKCQkJLy8gKHdoaWNoICppcyogQ1NTIHdoaXRlc3BhY2UpCgkJCS8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9jc3Mtc3ludGF4LTMvI2lucHV0LXByZXByb2Nlc3NpbmcKCQkJcmV0ID0gcmV0LnJlcGxhY2UoIHJ0cmltQ1NTLCAiJDEiICkgfHwgdW5kZWZpbmVkOwoJCX0KCgkJaWYgKCByZXQgPT09ICIiICYmICFpc0F0dGFjaGVkKCBlbGVtICkgKSB7CgkJCXJldCA9IGpRdWVyeS5zdHlsZSggZWxlbSwgbmFtZSApOwoJCX0KCgkJLy8gQSB0cmlidXRlIHRvIHRoZSAiYXdlc29tZSBoYWNrIGJ5IERlYW4gRWR3YXJkcyIKCQkvLyBBbmRyb2lkIEJyb3dzZXIgcmV0dXJucyBwZXJjZW50YWdlIGZvciBzb21lIHZhbHVlcywKCQkvLyBidXQgd2lkdGggc2VlbXMgdG8gYmUgcmVsaWFibHkgcGl4ZWxzLgoJCS8vIFRoaXMgaXMgYWdhaW5zdCB0aGUgQ1NTT00gZHJhZnQgc3BlYzoKCQkvLyBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3Nzb20vI3Jlc29sdmVkLXZhbHVlcwoJCWlmICggIXN1cHBvcnQucGl4ZWxCb3hTdHlsZXMoKSAmJiBybnVtbm9ucHgudGVzdCggcmV0ICkgJiYgcmJveFN0eWxlLnRlc3QoIG5hbWUgKSApIHsKCgkJCS8vIFJlbWVtYmVyIHRoZSBvcmlnaW5hbCB2YWx1ZXMKCQkJd2lkdGggPSBzdHlsZS53aWR0aDsKCQkJbWluV2lkdGggPSBzdHlsZS5taW5XaWR0aDsKCQkJbWF4V2lkdGggPSBzdHlsZS5tYXhXaWR0aDsKCgkJCS8vIFB1dCBpbiB0aGUgbmV3IHZhbHVlcyB0byBnZXQgYSBjb21wdXRlZCB2YWx1ZSBvdXQKCQkJc3R5bGUubWluV2lkdGggPSBzdHlsZS5tYXhXaWR0aCA9IHN0eWxlLndpZHRoID0gcmV0OwoJCQlyZXQgPSBjb21wdXRlZC53aWR0aDsKCgkJCS8vIFJldmVydCB0aGUgY2hhbmdlZCB2YWx1ZXMKCQkJc3R5bGUud2lkdGggPSB3aWR0aDsKCQkJc3R5bGUubWluV2lkdGggPSBtaW5XaWR0aDsKCQkJc3R5bGUubWF4V2lkdGggPSBtYXhXaWR0aDsKCQl9Cgl9CgoJcmV0dXJuIHJldCAhPT0gdW5kZWZpbmVkID8KCgkJLy8gU3VwcG9ydDogSUUgPD05IC0gMTEgb25seQoJCS8vIElFIHJldHVybnMgekluZGV4IHZhbHVlIGFzIGFuIGludGVnZXIuCgkJcmV0ICsgIiIgOgoJCXJldDsKfQoKCmZ1bmN0aW9uIGFkZEdldEhvb2tJZiggY29uZGl0aW9uRm4sIGhvb2tGbiApIHsKCgkvLyBEZWZpbmUgdGhlIGhvb2ssIHdlJ2xsIGNoZWNrIG9uIHRoZSBmaXJzdCBydW4gaWYgaXQncyByZWFsbHkgbmVlZGVkLgoJcmV0dXJuIHsKCQlnZXQ6IGZ1bmN0aW9uKCkgewoJCQlpZiAoIGNvbmRpdGlvbkZuKCkgKSB7CgoJCQkJLy8gSG9vayBub3QgbmVlZGVkIChvciBpdCdzIG5vdCBwb3NzaWJsZSB0byB1c2UgaXQgZHVlCgkJCQkvLyB0byBtaXNzaW5nIGRlcGVuZGVuY3kpLCByZW1vdmUgaXQuCgkJCQlkZWxldGUgdGhpcy5nZXQ7CgkJCQlyZXR1cm47CgkJCX0KCgkJCS8vIEhvb2sgbmVlZGVkOyByZWRlZmluZSBpdCBzbyB0aGF0IHRoZSBzdXBwb3J0IHRlc3QgaXMgbm90IGV4ZWN1dGVkIGFnYWluLgoJCQlyZXR1cm4gKCB0aGlzLmdldCA9IGhvb2tGbiApLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTsKCQl9Cgl9Owp9CgoKdmFyIGNzc1ByZWZpeGVzID0gWyAiV2Via2l0IiwgIk1veiIsICJtcyIgXSwKCWVtcHR5U3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAiZGl2IiApLnN0eWxlLAoJdmVuZG9yUHJvcHMgPSB7fTsKCi8vIFJldHVybiBhIHZlbmRvci1wcmVmaXhlZCBwcm9wZXJ0eSBvciB1bmRlZmluZWQKZnVuY3Rpb24gdmVuZG9yUHJvcE5hbWUoIG5hbWUgKSB7CgoJLy8gQ2hlY2sgZm9yIHZlbmRvciBwcmVmaXhlZCBuYW1lcwoJdmFyIGNhcE5hbWUgPSBuYW1lWyAwIF0udG9VcHBlckNhc2UoKSArIG5hbWUuc2xpY2UoIDEgKSwKCQlpID0gY3NzUHJlZml4ZXMubGVuZ3RoOwoKCXdoaWxlICggaS0tICkgewoJCW5hbWUgPSBjc3NQcmVmaXhlc1sgaSBdICsgY2FwTmFtZTsKCQlpZiAoIG5hbWUgaW4gZW1wdHlTdHlsZSApIHsKCQkJcmV0dXJuIG5hbWU7CgkJfQoJfQp9CgovLyBSZXR1cm4gYSBwb3RlbnRpYWxseS1tYXBwZWQgalF1ZXJ5LmNzc1Byb3BzIG9yIHZlbmRvciBwcmVmaXhlZCBwcm9wZXJ0eQpmdW5jdGlvbiBmaW5hbFByb3BOYW1lKCBuYW1lICkgewoJdmFyIGZpbmFsID0galF1ZXJ5LmNzc1Byb3BzWyBuYW1lIF0gfHwgdmVuZG9yUHJvcHNbIG5hbWUgXTsKCglpZiAoIGZpbmFsICkgewoJCXJldHVybiBmaW5hbDsKCX0KCWlmICggbmFtZSBpbiBlbXB0eVN0eWxlICkgewoJCXJldHVybiBuYW1lOwoJfQoJcmV0dXJuIHZlbmRvclByb3BzWyBuYW1lIF0gPSB2ZW5kb3JQcm9wTmFtZSggbmFtZSApIHx8IG5hbWU7Cn0KCgp2YXIKCgkvLyBTd2FwcGFibGUgaWYgZGlzcGxheSBpcyBub25lIG9yIHN0YXJ0cyB3aXRoIHRhYmxlCgkvLyBleGNlcHQgInRhYmxlIiwgInRhYmxlLWNlbGwiLCBvciAidGFibGUtY2FwdGlvbiIKCS8vIFNlZSBoZXJlIGZvciBkaXNwbGF5IHZhbHVlczogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9DU1MvZGlzcGxheQoJcmRpc3BsYXlzd2FwID0gL14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLAoJY3NzU2hvdyA9IHsgcG9zaXRpb246ICJhYnNvbHV0ZSIsIHZpc2liaWxpdHk6ICJoaWRkZW4iLCBkaXNwbGF5OiAiYmxvY2siIH0sCgljc3NOb3JtYWxUcmFuc2Zvcm0gPSB7CgkJbGV0dGVyU3BhY2luZzogIjAiLAoJCWZvbnRXZWlnaHQ6ICI0MDAiCgl9OwoKZnVuY3Rpb24gc2V0UG9zaXRpdmVOdW1iZXIoIF9lbGVtLCB2YWx1ZSwgc3VidHJhY3QgKSB7CgoJLy8gQW55IHJlbGF0aXZlICgrLy0pIHZhbHVlcyBoYXZlIGFscmVhZHkgYmVlbgoJLy8gbm9ybWFsaXplZCBhdCB0aGlzIHBvaW50Cgl2YXIgbWF0Y2hlcyA9IHJjc3NOdW0uZXhlYyggdmFsdWUgKTsKCXJldHVybiBtYXRjaGVzID8KCgkJLy8gR3VhcmQgYWdhaW5zdCB1bmRlZmluZWQgInN1YnRyYWN0IiwgZS5nLiwgd2hlbiB1c2VkIGFzIGluIGNzc0hvb2tzCgkJTWF0aC5tYXgoIDAsIG1hdGNoZXNbIDIgXSAtICggc3VidHJhY3QgfHwgMCApICkgKyAoIG1hdGNoZXNbIDMgXSB8fCAicHgiICkgOgoJCXZhbHVlOwp9CgpmdW5jdGlvbiBib3hNb2RlbEFkanVzdG1lbnQoIGVsZW0sIGRpbWVuc2lvbiwgYm94LCBpc0JvcmRlckJveCwgc3R5bGVzLCBjb21wdXRlZFZhbCApIHsKCXZhciBpID0gZGltZW5zaW9uID09PSAid2lkdGgiID8gMSA6IDAsCgkJZXh0cmEgPSAwLAoJCWRlbHRhID0gMCwKCQltYXJnaW5EZWx0YSA9IDA7CgoJLy8gQWRqdXN0bWVudCBtYXkgbm90IGJlIG5lY2Vzc2FyeQoJaWYgKCBib3ggPT09ICggaXNCb3JkZXJCb3ggPyAiYm9yZGVyIiA6ICJjb250ZW50IiApICkgewoJCXJldHVybiAwOwoJfQoKCWZvciAoIDsgaSA8IDQ7IGkgKz0gMiApIHsKCgkJLy8gQm90aCBib3ggbW9kZWxzIGV4Y2x1ZGUgbWFyZ2luCgkJLy8gQ291bnQgbWFyZ2luIGRlbHRhIHNlcGFyYXRlbHkgdG8gb25seSBhZGQgaXQgYWZ0ZXIgc2Nyb2xsIGd1dHRlciBhZGp1c3RtZW50LgoJCS8vIFRoaXMgaXMgbmVlZGVkIHRvIG1ha2UgbmVnYXRpdmUgbWFyZ2lucyB3b3JrIHdpdGggYG91dGVySGVpZ2h0KCB0cnVlIClgIChnaC0zOTgyKS4KCQlpZiAoIGJveCA9PT0gIm1hcmdpbiIgKSB7CgkJCW1hcmdpbkRlbHRhICs9IGpRdWVyeS5jc3MoIGVsZW0sIGJveCArIGNzc0V4cGFuZFsgaSBdLCB0cnVlLCBzdHlsZXMgKTsKCQl9CgoJCS8vIElmIHdlIGdldCBoZXJlIHdpdGggYSBjb250ZW50LWJveCwgd2UncmUgc2Vla2luZyAicGFkZGluZyIgb3IgImJvcmRlciIgb3IgIm1hcmdpbiIKCQlpZiAoICFpc0JvcmRlckJveCApIHsKCgkJCS8vIEFkZCBwYWRkaW5nCgkJCWRlbHRhICs9IGpRdWVyeS5jc3MoIGVsZW0sICJwYWRkaW5nIiArIGNzc0V4cGFuZFsgaSBdLCB0cnVlLCBzdHlsZXMgKTsKCgkJCS8vIEZvciAiYm9yZGVyIiBvciAibWFyZ2luIiwgYWRkIGJvcmRlcgoJCQlpZiAoIGJveCAhPT0gInBhZGRpbmciICkgewoJCQkJZGVsdGEgKz0galF1ZXJ5LmNzcyggZWxlbSwgImJvcmRlciIgKyBjc3NFeHBhbmRbIGkgXSArICJXaWR0aCIsIHRydWUsIHN0eWxlcyApOwoKCQkJLy8gQnV0IHN0aWxsIGtlZXAgdHJhY2sgb2YgaXQgb3RoZXJ3aXNlCgkJCX0gZWxzZSB7CgkJCQlleHRyYSArPSBqUXVlcnkuY3NzKCBlbGVtLCAiYm9yZGVyIiArIGNzc0V4cGFuZFsgaSBdICsgIldpZHRoIiwgdHJ1ZSwgc3R5bGVzICk7CgkJCX0KCgkJLy8gSWYgd2UgZ2V0IGhlcmUgd2l0aCBhIGJvcmRlci1ib3ggKGNvbnRlbnQgKyBwYWRkaW5nICsgYm9yZGVyKSwgd2UncmUgc2Vla2luZyAiY29udGVudCIgb3IKCQkvLyAicGFkZGluZyIgb3IgIm1hcmdpbiIKCQl9IGVsc2UgewoKCQkJLy8gRm9yICJjb250ZW50Iiwgc3VidHJhY3QgcGFkZGluZwoJCQlpZiAoIGJveCA9PT0gImNvbnRlbnQiICkgewoJCQkJZGVsdGEgLT0galF1ZXJ5LmNzcyggZWxlbSwgInBhZGRpbmciICsgY3NzRXhwYW5kWyBpIF0sIHRydWUsIHN0eWxlcyApOwoJCQl9CgoJCQkvLyBGb3IgImNvbnRlbnQiIG9yICJwYWRkaW5nIiwgc3VidHJhY3QgYm9yZGVyCgkJCWlmICggYm94ICE9PSAibWFyZ2luIiApIHsKCQkJCWRlbHRhIC09IGpRdWVyeS5jc3MoIGVsZW0sICJib3JkZXIiICsgY3NzRXhwYW5kWyBpIF0gKyAiV2lkdGgiLCB0cnVlLCBzdHlsZXMgKTsKCQkJfQoJCX0KCX0KCgkvLyBBY2NvdW50IGZvciBwb3NpdGl2ZSBjb250ZW50LWJveCBzY3JvbGwgZ3V0dGVyIHdoZW4gcmVxdWVzdGVkIGJ5IHByb3ZpZGluZyBjb21wdXRlZFZhbAoJaWYgKCAhaXNCb3JkZXJCb3ggJiYgY29tcHV0ZWRWYWwgPj0gMCApIHsKCgkJLy8gb2Zmc2V0V2lkdGgvb2Zmc2V0SGVpZ2h0IGlzIGEgcm91bmRlZCBzdW0gb2YgY29udGVudCwgcGFkZGluZywgc2Nyb2xsIGd1dHRlciwgYW5kIGJvcmRlcgoJCS8vIEFzc3VtaW5nIGludGVnZXIgc2Nyb2xsIGd1dHRlciwgc3VidHJhY3QgdGhlIHJlc3QgYW5kIHJvdW5kIGRvd24KCQlkZWx0YSArPSBNYXRoLm1heCggMCwgTWF0aC5jZWlsKAoJCQllbGVtWyAib2Zmc2V0IiArIGRpbWVuc2lvblsgMCBdLnRvVXBwZXJDYXNlKCkgKyBkaW1lbnNpb24uc2xpY2UoIDEgKSBdIC0KCQkJY29tcHV0ZWRWYWwgLQoJCQlkZWx0YSAtCgkJCWV4dHJhIC0KCQkJMC41CgoJCS8vIElmIG9mZnNldFdpZHRoL29mZnNldEhlaWdodCBpcyB1bmtub3duLCB0aGVuIHdlIGNhbid0IGRldGVybWluZSBjb250ZW50LWJveCBzY3JvbGwgZ3V0dGVyCgkJLy8gVXNlIGFuIGV4cGxpY2l0IHplcm8gdG8gYXZvaWQgTmFOIChnaC0zOTY0KQoJCSkgKSB8fCAwOwoJfQoKCXJldHVybiBkZWx0YSArIG1hcmdpbkRlbHRhOwp9CgpmdW5jdGlvbiBnZXRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBkaW1lbnNpb24sIGV4dHJhICkgewoKCS8vIFN0YXJ0IHdpdGggY29tcHV0ZWQgc3R5bGUKCXZhciBzdHlsZXMgPSBnZXRTdHlsZXMoIGVsZW0gKSwKCgkJLy8gVG8gYXZvaWQgZm9yY2luZyBhIHJlZmxvdywgb25seSBmZXRjaCBib3hTaXppbmcgaWYgd2UgbmVlZCBpdCAoZ2gtNDMyMikuCgkJLy8gRmFrZSBjb250ZW50LWJveCB1bnRpbCB3ZSBrbm93IGl0J3MgbmVlZGVkIHRvIGtub3cgdGhlIHRydWUgdmFsdWUuCgkJYm94U2l6aW5nTmVlZGVkID0gIXN1cHBvcnQuYm94U2l6aW5nUmVsaWFibGUoKSB8fCBleHRyYSwKCQlpc0JvcmRlckJveCA9IGJveFNpemluZ05lZWRlZCAmJgoJCQlqUXVlcnkuY3NzKCBlbGVtLCAiYm94U2l6aW5nIiwgZmFsc2UsIHN0eWxlcyApID09PSAiYm9yZGVyLWJveCIsCgkJdmFsdWVJc0JvcmRlckJveCA9IGlzQm9yZGVyQm94LAoKCQl2YWwgPSBjdXJDU1MoIGVsZW0sIGRpbWVuc2lvbiwgc3R5bGVzICksCgkJb2Zmc2V0UHJvcCA9ICJvZmZzZXQiICsgZGltZW5zaW9uWyAwIF0udG9VcHBlckNhc2UoKSArIGRpbWVuc2lvbi5zbGljZSggMSApOwoKCS8vIFN1cHBvcnQ6IEZpcmVmb3ggPD01NAoJLy8gUmV0dXJuIGEgY29uZm91bmRpbmcgbm9uLXBpeGVsIHZhbHVlIG9yIGZlaWduIGlnbm9yYW5jZSwgYXMgYXBwcm9wcmlhdGUuCglpZiAoIHJudW1ub25weC50ZXN0KCB2YWwgKSApIHsKCQlpZiAoICFleHRyYSApIHsKCQkJcmV0dXJuIHZhbDsKCQl9CgkJdmFsID0gImF1dG8iOwoJfQoKCgkvLyBTdXBwb3J0OiBJRSA5IC0gMTEgb25seQoJLy8gVXNlIG9mZnNldFdpZHRoL29mZnNldEhlaWdodCBmb3Igd2hlbiBib3ggc2l6aW5nIGlzIHVucmVsaWFibGUuCgkvLyBJbiB0aG9zZSBjYXNlcywgdGhlIGNvbXB1dGVkIHZhbHVlIGNhbiBiZSB0cnVzdGVkIHRvIGJlIGJvcmRlci1ib3guCglpZiAoICggIXN1cHBvcnQuYm94U2l6aW5nUmVsaWFibGUoKSAmJiBpc0JvcmRlckJveCB8fAoKCQkvLyBTdXBwb3J0OiBJRSAxMCAtIDExKywgRWRnZSAxNSAtIDE4KwoJCS8vIElFL0VkZ2UgbWlzcmVwb3J0IGBnZXRDb21wdXRlZFN0eWxlYCBvZiB0YWJsZSByb3dzIHdpdGggd2lkdGgvaGVpZ2h0CgkJLy8gc2V0IGluIENTUyB3aGlsZSBgb2Zmc2V0KmAgcHJvcGVydGllcyByZXBvcnQgY29ycmVjdCB2YWx1ZXMuCgkJLy8gSW50ZXJlc3RpbmdseSwgaW4gc29tZSBjYXNlcyBJRSA5IGRvZXNuJ3Qgc3VmZmVyIGZyb20gdGhpcyBpc3N1ZS4KCQkhc3VwcG9ydC5yZWxpYWJsZVRyRGltZW5zaW9ucygpICYmIG5vZGVOYW1lKCBlbGVtLCAidHIiICkgfHwKCgkJLy8gRmFsbCBiYWNrIHRvIG9mZnNldFdpZHRoL29mZnNldEhlaWdodCB3aGVuIHZhbHVlIGlzICJhdXRvIgoJCS8vIFRoaXMgaGFwcGVucyBmb3IgaW5saW5lIGVsZW1lbnRzIHdpdGggbm8gZXhwbGljaXQgc2V0dGluZyAoZ2gtMzU3MSkKCQl2YWwgPT09ICJhdXRvIiB8fAoKCQkvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4xIC0gNC4zIG9ubHkKCQkvLyBBbHNvIHVzZSBvZmZzZXRXaWR0aC9vZmZzZXRIZWlnaHQgZm9yIG1pc3JlcG9ydGVkIGlubGluZSBkaW1lbnNpb25zIChnaC0zNjAyKQoJCSFwYXJzZUZsb2F0KCB2YWwgKSAmJiBqUXVlcnkuY3NzKCBlbGVtLCAiZGlzcGxheSIsIGZhbHNlLCBzdHlsZXMgKSA9PT0gImlubGluZSIgKSAmJgoKCQkvLyBNYWtlIHN1cmUgdGhlIGVsZW1lbnQgaXMgdmlzaWJsZSAmIGNvbm5lY3RlZAoJCWVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggKSB7CgoJCWlzQm9yZGVyQm94ID0galF1ZXJ5LmNzcyggZWxlbSwgImJveFNpemluZyIsIGZhbHNlLCBzdHlsZXMgKSA9PT0gImJvcmRlci1ib3giOwoKCQkvLyBXaGVyZSBhdmFpbGFibGUsIG9mZnNldFdpZHRoL29mZnNldEhlaWdodCBhcHByb3hpbWF0ZSBib3JkZXIgYm94IGRpbWVuc2lvbnMuCgkJLy8gV2hlcmUgbm90IGF2YWlsYWJsZSAoZS5nLiwgU1ZHKSwgYXNzdW1lIHVucmVsaWFibGUgYm94LXNpemluZyBhbmQgaW50ZXJwcmV0IHRoZQoJCS8vIHJldHJpZXZlZCB2YWx1ZSBhcyBhIGNvbnRlbnQgYm94IGRpbWVuc2lvbi4KCQl2YWx1ZUlzQm9yZGVyQm94ID0gb2Zmc2V0UHJvcCBpbiBlbGVtOwoJCWlmICggdmFsdWVJc0JvcmRlckJveCApIHsKCQkJdmFsID0gZWxlbVsgb2Zmc2V0UHJvcCBdOwoJCX0KCX0KCgkvLyBOb3JtYWxpemUgIiIgYW5kIGF1dG8KCXZhbCA9IHBhcnNlRmxvYXQoIHZhbCApIHx8IDA7CgoJLy8gQWRqdXN0IGZvciB0aGUgZWxlbWVudCdzIGJveCBtb2RlbAoJcmV0dXJuICggdmFsICsKCQlib3hNb2RlbEFkanVzdG1lbnQoCgkJCWVsZW0sCgkJCWRpbWVuc2lvbiwKCQkJZXh0cmEgfHwgKCBpc0JvcmRlckJveCA/ICJib3JkZXIiIDogImNvbnRlbnQiICksCgkJCXZhbHVlSXNCb3JkZXJCb3gsCgkJCXN0eWxlcywKCgkJCS8vIFByb3ZpZGUgdGhlIGN1cnJlbnQgY29tcHV0ZWQgc2l6ZSB0byByZXF1ZXN0IHNjcm9sbCBndXR0ZXIgY2FsY3VsYXRpb24gKGdoLTM1ODkpCgkJCXZhbAoJCSkKCSkgKyAicHgiOwp9CgpqUXVlcnkuZXh0ZW5kKCB7CgoJLy8gQWRkIGluIHN0eWxlIHByb3BlcnR5IGhvb2tzIGZvciBvdmVycmlkaW5nIHRoZSBkZWZhdWx0CgkvLyBiZWhhdmlvciBvZiBnZXR0aW5nIGFuZCBzZXR0aW5nIGEgc3R5bGUgcHJvcGVydHkKCWNzc0hvb2tzOiB7CgkJb3BhY2l0eTogewoJCQlnZXQ6IGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHsKCQkJCWlmICggY29tcHV0ZWQgKSB7CgoJCQkJCS8vIFdlIHNob3VsZCBhbHdheXMgZ2V0IGEgbnVtYmVyIGJhY2sgZnJvbSBvcGFjaXR5CgkJCQkJdmFyIHJldCA9IGN1ckNTUyggZWxlbSwgIm9wYWNpdHkiICk7CgkJCQkJcmV0dXJuIHJldCA9PT0gIiIgPyAiMSIgOiByZXQ7CgkJCQl9CgkJCX0KCQl9Cgl9LAoKCS8vIERvbid0IGF1dG9tYXRpY2FsbHkgYWRkICJweCIgdG8gdGhlc2UgcG9zc2libHktdW5pdGxlc3MgcHJvcGVydGllcwoJY3NzTnVtYmVyOiB7CgkJYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6IHRydWUsCgkJYXNwZWN0UmF0aW86IHRydWUsCgkJYm9yZGVySW1hZ2VTbGljZTogdHJ1ZSwKCQljb2x1bW5Db3VudDogdHJ1ZSwKCQlmbGV4R3JvdzogdHJ1ZSwKCQlmbGV4U2hyaW5rOiB0cnVlLAoJCWZvbnRXZWlnaHQ6IHRydWUsCgkJZ3JpZEFyZWE6IHRydWUsCgkJZ3JpZENvbHVtbjogdHJ1ZSwKCQlncmlkQ29sdW1uRW5kOiB0cnVlLAoJCWdyaWRDb2x1bW5TdGFydDogdHJ1ZSwKCQlncmlkUm93OiB0cnVlLAoJCWdyaWRSb3dFbmQ6IHRydWUsCgkJZ3JpZFJvd1N0YXJ0OiB0cnVlLAoJCWxpbmVIZWlnaHQ6IHRydWUsCgkJb3BhY2l0eTogdHJ1ZSwKCQlvcmRlcjogdHJ1ZSwKCQlvcnBoYW5zOiB0cnVlLAoJCXNjYWxlOiB0cnVlLAoJCXdpZG93czogdHJ1ZSwKCQl6SW5kZXg6IHRydWUsCgkJem9vbTogdHJ1ZSwKCgkJLy8gU1ZHLXJlbGF0ZWQKCQlmaWxsT3BhY2l0eTogdHJ1ZSwKCQlmbG9vZE9wYWNpdHk6IHRydWUsCgkJc3RvcE9wYWNpdHk6IHRydWUsCgkJc3Ryb2tlTWl0ZXJsaW1pdDogdHJ1ZSwKCQlzdHJva2VPcGFjaXR5OiB0cnVlCgl9LAoKCS8vIEFkZCBpbiBwcm9wZXJ0aWVzIHdob3NlIG5hbWVzIHlvdSB3aXNoIHRvIGZpeCBiZWZvcmUKCS8vIHNldHRpbmcgb3IgZ2V0dGluZyB0aGUgdmFsdWUKCWNzc1Byb3BzOiB7fSwKCgkvLyBHZXQgYW5kIHNldCB0aGUgc3R5bGUgcHJvcGVydHkgb24gYSBET00gTm9kZQoJc3R5bGU6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSwgZXh0cmEgKSB7CgoJCS8vIERvbid0IHNldCBzdHlsZXMgb24gdGV4dCBhbmQgY29tbWVudCBub2RlcwoJCWlmICggIWVsZW0gfHwgZWxlbS5ub2RlVHlwZSA9PT0gMyB8fCBlbGVtLm5vZGVUeXBlID09PSA4IHx8ICFlbGVtLnN0eWxlICkgewoJCQlyZXR1cm47CgkJfQoKCQkvLyBNYWtlIHN1cmUgdGhhdCB3ZSdyZSB3b3JraW5nIHdpdGggdGhlIHJpZ2h0IG5hbWUKCQl2YXIgcmV0LCB0eXBlLCBob29rcywKCQkJb3JpZ05hbWUgPSBjYW1lbENhc2UoIG5hbWUgKSwKCQkJaXNDdXN0b21Qcm9wID0gcmN1c3RvbVByb3AudGVzdCggbmFtZSApLAoJCQlzdHlsZSA9IGVsZW0uc3R5bGU7CgoJCS8vIE1ha2Ugc3VyZSB0aGF0IHdlJ3JlIHdvcmtpbmcgd2l0aCB0aGUgcmlnaHQgbmFtZS4gV2UgZG9uJ3QKCQkvLyB3YW50IHRvIHF1ZXJ5IHRoZSB2YWx1ZSBpZiBpdCBpcyBhIENTUyBjdXN0b20gcHJvcGVydHkKCQkvLyBzaW5jZSB0aGV5IGFyZSB1c2VyLWRlZmluZWQuCgkJaWYgKCAhaXNDdXN0b21Qcm9wICkgewoJCQluYW1lID0gZmluYWxQcm9wTmFtZSggb3JpZ05hbWUgKTsKCQl9CgoJCS8vIEdldHMgaG9vayBmb3IgdGhlIHByZWZpeGVkIHZlcnNpb24sIHRoZW4gdW5wcmVmaXhlZCB2ZXJzaW9uCgkJaG9va3MgPSBqUXVlcnkuY3NzSG9va3NbIG5hbWUgXSB8fCBqUXVlcnkuY3NzSG9va3NbIG9yaWdOYW1lIF07CgoJCS8vIENoZWNrIGlmIHdlJ3JlIHNldHRpbmcgYSB2YWx1ZQoJCWlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHsKCQkJdHlwZSA9IHR5cGVvZiB2YWx1ZTsKCgkJCS8vIENvbnZlcnQgIis9IiBvciAiLT0iIHRvIHJlbGF0aXZlIG51bWJlcnMgKHRyYWMtNzM0NSkKCQkJaWYgKCB0eXBlID09PSAic3RyaW5nIiAmJiAoIHJldCA9IHJjc3NOdW0uZXhlYyggdmFsdWUgKSApICYmIHJldFsgMSBdICkgewoJCQkJdmFsdWUgPSBhZGp1c3RDU1MoIGVsZW0sIG5hbWUsIHJldCApOwoKCQkJCS8vIEZpeGVzIGJ1ZyB0cmFjLTkyMzcKCQkJCXR5cGUgPSAibnVtYmVyIjsKCQkJfQoKCQkJLy8gTWFrZSBzdXJlIHRoYXQgbnVsbCBhbmQgTmFOIHZhbHVlcyBhcmVuJ3Qgc2V0ICh0cmFjLTcxMTYpCgkJCWlmICggdmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSAhPT0gdmFsdWUgKSB7CgkJCQlyZXR1cm47CgkJCX0KCgkJCS8vIElmIGEgbnVtYmVyIHdhcyBwYXNzZWQgaW4sIGFkZCB0aGUgdW5pdCAoZXhjZXB0IGZvciBjZXJ0YWluIENTUyBwcm9wZXJ0aWVzKQoJCQkvLyBUaGUgaXNDdXN0b21Qcm9wIGNoZWNrIGNhbiBiZSByZW1vdmVkIGluIGpRdWVyeSA0LjAgd2hlbiB3ZSBvbmx5IGF1dG8tYXBwZW5kCgkJCS8vICJweCIgdG8gYSBmZXcgaGFyZGNvZGVkIHZhbHVlcy4KCQkJaWYgKCB0eXBlID09PSAibnVtYmVyIiAmJiAhaXNDdXN0b21Qcm9wICkgewoJCQkJdmFsdWUgKz0gcmV0ICYmIHJldFsgMyBdIHx8ICggalF1ZXJ5LmNzc051bWJlclsgb3JpZ05hbWUgXSA/ICIiIDogInB4IiApOwoJCQl9CgoJCQkvLyBiYWNrZ3JvdW5kLSogcHJvcHMgYWZmZWN0IG9yaWdpbmFsIGNsb25lJ3MgdmFsdWVzCgkJCWlmICggIXN1cHBvcnQuY2xlYXJDbG9uZVN0eWxlICYmIHZhbHVlID09PSAiIiAmJiBuYW1lLmluZGV4T2YoICJiYWNrZ3JvdW5kIiApID09PSAwICkgewoJCQkJc3R5bGVbIG5hbWUgXSA9ICJpbmhlcml0IjsKCQkJfQoKCQkJLy8gSWYgYSBob29rIHdhcyBwcm92aWRlZCwgdXNlIHRoYXQgdmFsdWUsIG90aGVyd2lzZSBqdXN0IHNldCB0aGUgc3BlY2lmaWVkIHZhbHVlCgkJCWlmICggIWhvb2tzIHx8ICEoICJzZXQiIGluIGhvb2tzICkgfHwKCQkJCSggdmFsdWUgPSBob29rcy5zZXQoIGVsZW0sIHZhbHVlLCBleHRyYSApICkgIT09IHVuZGVmaW5lZCApIHsKCgkJCQlpZiAoIGlzQ3VzdG9tUHJvcCApIHsKCQkJCQlzdHlsZS5zZXRQcm9wZXJ0eSggbmFtZSwgdmFsdWUgKTsKCQkJCX0gZWxzZSB7CgkJCQkJc3R5bGVbIG5hbWUgXSA9IHZhbHVlOwoJCQkJfQoJCQl9CgoJCX0gZWxzZSB7CgoJCQkvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkIGdldCB0aGUgbm9uLWNvbXB1dGVkIHZhbHVlIGZyb20gdGhlcmUKCQkJaWYgKCBob29rcyAmJiAiZ2V0IiBpbiBob29rcyAmJgoJCQkJKCByZXQgPSBob29rcy5nZXQoIGVsZW0sIGZhbHNlLCBleHRyYSApICkgIT09IHVuZGVmaW5lZCApIHsKCgkJCQlyZXR1cm4gcmV0OwoJCQl9CgoJCQkvLyBPdGhlcndpc2UganVzdCBnZXQgdGhlIHZhbHVlIGZyb20gdGhlIHN0eWxlIG9iamVjdAoJCQlyZXR1cm4gc3R5bGVbIG5hbWUgXTsKCQl9Cgl9LAoKCWNzczogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGV4dHJhLCBzdHlsZXMgKSB7CgkJdmFyIHZhbCwgbnVtLCBob29rcywKCQkJb3JpZ05hbWUgPSBjYW1lbENhc2UoIG5hbWUgKSwKCQkJaXNDdXN0b21Qcm9wID0gcmN1c3RvbVByb3AudGVzdCggbmFtZSApOwoKCQkvLyBNYWtlIHN1cmUgdGhhdCB3ZSdyZSB3b3JraW5nIHdpdGggdGhlIHJpZ2h0IG5hbWUuIFdlIGRvbid0CgkJLy8gd2FudCB0byBtb2RpZnkgdGhlIHZhbHVlIGlmIGl0IGlzIGEgQ1NTIGN1c3RvbSBwcm9wZXJ0eQoJCS8vIHNpbmNlIHRoZXkgYXJlIHVzZXItZGVmaW5lZC4KCQlpZiAoICFpc0N1c3RvbVByb3AgKSB7CgkJCW5hbWUgPSBmaW5hbFByb3BOYW1lKCBvcmlnTmFtZSApOwoJCX0KCgkJLy8gVHJ5IHByZWZpeGVkIG5hbWUgZm9sbG93ZWQgYnkgdGhlIHVucHJlZml4ZWQgbmFtZQoJCWhvb2tzID0galF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF0gfHwgalF1ZXJ5LmNzc0hvb2tzWyBvcmlnTmFtZSBdOwoKCQkvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkIGdldCB0aGUgY29tcHV0ZWQgdmFsdWUgZnJvbSB0aGVyZQoJCWlmICggaG9va3MgJiYgImdldCIgaW4gaG9va3MgKSB7CgkJCXZhbCA9IGhvb2tzLmdldCggZWxlbSwgdHJ1ZSwgZXh0cmEgKTsKCQl9CgoJCS8vIE90aGVyd2lzZSwgaWYgYSB3YXkgdG8gZ2V0IHRoZSBjb21wdXRlZCB2YWx1ZSBleGlzdHMsIHVzZSB0aGF0CgkJaWYgKCB2YWwgPT09IHVuZGVmaW5lZCApIHsKCQkJdmFsID0gY3VyQ1NTKCBlbGVtLCBuYW1lLCBzdHlsZXMgKTsKCQl9CgoJCS8vIENvbnZlcnQgIm5vcm1hbCIgdG8gY29tcHV0ZWQgdmFsdWUKCQlpZiAoIHZhbCA9PT0gIm5vcm1hbCIgJiYgbmFtZSBpbiBjc3NOb3JtYWxUcmFuc2Zvcm0gKSB7CgkJCXZhbCA9IGNzc05vcm1hbFRyYW5zZm9ybVsgbmFtZSBdOwoJCX0KCgkJLy8gTWFrZSBudW1lcmljIGlmIGZvcmNlZCBvciBhIHF1YWxpZmllciB3YXMgcHJvdmlkZWQgYW5kIHZhbCBsb29rcyBudW1lcmljCgkJaWYgKCBleHRyYSA9PT0gIiIgfHwgZXh0cmEgKSB7CgkJCW51bSA9IHBhcnNlRmxvYXQoIHZhbCApOwoJCQlyZXR1cm4gZXh0cmEgPT09IHRydWUgfHwgaXNGaW5pdGUoIG51bSApID8gbnVtIHx8IDAgOiB2YWw7CgkJfQoKCQlyZXR1cm4gdmFsOwoJfQp9ICk7CgpqUXVlcnkuZWFjaCggWyAiaGVpZ2h0IiwgIndpZHRoIiBdLCBmdW5jdGlvbiggX2ksIGRpbWVuc2lvbiApIHsKCWpRdWVyeS5jc3NIb29rc1sgZGltZW5zaW9uIF0gPSB7CgkJZ2V0OiBmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQsIGV4dHJhICkgewoJCQlpZiAoIGNvbXB1dGVkICkgewoKCQkJCS8vIENlcnRhaW4gZWxlbWVudHMgY2FuIGhhdmUgZGltZW5zaW9uIGluZm8gaWYgd2UgaW52aXNpYmx5IHNob3cgdGhlbQoJCQkJLy8gYnV0IGl0IG11c3QgaGF2ZSBhIGN1cnJlbnQgZGlzcGxheSBzdHlsZSB0aGF0IHdvdWxkIGJlbmVmaXQKCQkJCXJldHVybiByZGlzcGxheXN3YXAudGVzdCggalF1ZXJ5LmNzcyggZWxlbSwgImRpc3BsYXkiICkgKSAmJgoKCQkJCQkvLyBTdXBwb3J0OiBTYWZhcmkgOCsKCQkJCQkvLyBUYWJsZSBjb2x1bW5zIGluIFNhZmFyaSBoYXZlIG5vbi16ZXJvIG9mZnNldFdpZHRoICYgemVybwoJCQkJCS8vIGdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoIHVubGVzcyBkaXNwbGF5IGlzIGNoYW5nZWQuCgkJCQkJLy8gU3VwcG9ydDogSUUgPD0xMSBvbmx5CgkJCQkJLy8gUnVubmluZyBnZXRCb3VuZGluZ0NsaWVudFJlY3Qgb24gYSBkaXNjb25uZWN0ZWQgbm9kZQoJCQkJCS8vIGluIElFIHRocm93cyBhbiBlcnJvci4KCQkJCQkoICFlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoIHx8ICFlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICkgPwoJCQkJCXN3YXAoIGVsZW0sIGNzc1Nob3csIGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gZ2V0V2lkdGhPckhlaWdodCggZWxlbSwgZGltZW5zaW9uLCBleHRyYSApOwoJCQkJCX0gKSA6CgkJCQkJZ2V0V2lkdGhPckhlaWdodCggZWxlbSwgZGltZW5zaW9uLCBleHRyYSApOwoJCQl9CgkJfSwKCgkJc2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUsIGV4dHJhICkgewoJCQl2YXIgbWF0Y2hlcywKCQkJCXN0eWxlcyA9IGdldFN0eWxlcyggZWxlbSApLAoKCQkJCS8vIE9ubHkgcmVhZCBzdHlsZXMucG9zaXRpb24gaWYgdGhlIHRlc3QgaGFzIGEgY2hhbmNlIHRvIGZhaWwKCQkJCS8vIHRvIGF2b2lkIGZvcmNpbmcgYSByZWZsb3cuCgkJCQlzY3JvbGxib3hTaXplQnVnZ3kgPSAhc3VwcG9ydC5zY3JvbGxib3hTaXplKCkgJiYKCQkJCQlzdHlsZXMucG9zaXRpb24gPT09ICJhYnNvbHV0ZSIsCgoJCQkJLy8gVG8gYXZvaWQgZm9yY2luZyBhIHJlZmxvdywgb25seSBmZXRjaCBib3hTaXppbmcgaWYgd2UgbmVlZCBpdCAoZ2gtMzk5MSkKCQkJCWJveFNpemluZ05lZWRlZCA9IHNjcm9sbGJveFNpemVCdWdneSB8fCBleHRyYSwKCQkJCWlzQm9yZGVyQm94ID0gYm94U2l6aW5nTmVlZGVkICYmCgkJCQkJalF1ZXJ5LmNzcyggZWxlbSwgImJveFNpemluZyIsIGZhbHNlLCBzdHlsZXMgKSA9PT0gImJvcmRlci1ib3giLAoJCQkJc3VidHJhY3QgPSBleHRyYSA/CgkJCQkJYm94TW9kZWxBZGp1c3RtZW50KAoJCQkJCQllbGVtLAoJCQkJCQlkaW1lbnNpb24sCgkJCQkJCWV4dHJhLAoJCQkJCQlpc0JvcmRlckJveCwKCQkJCQkJc3R5bGVzCgkJCQkJKSA6CgkJCQkJMDsKCgkJCS8vIEFjY291bnQgZm9yIHVucmVsaWFibGUgYm9yZGVyLWJveCBkaW1lbnNpb25zIGJ5IGNvbXBhcmluZyBvZmZzZXQqIHRvIGNvbXB1dGVkIGFuZAoJCQkvLyBmYWtpbmcgYSBjb250ZW50LWJveCB0byBnZXQgYm9yZGVyIGFuZCBwYWRkaW5nIChnaC0zNjk5KQoJCQlpZiAoIGlzQm9yZGVyQm94ICYmIHNjcm9sbGJveFNpemVCdWdneSApIHsKCQkJCXN1YnRyYWN0IC09IE1hdGguY2VpbCgKCQkJCQllbGVtWyAib2Zmc2V0IiArIGRpbWVuc2lvblsgMCBdLnRvVXBwZXJDYXNlKCkgKyBkaW1lbnNpb24uc2xpY2UoIDEgKSBdIC0KCQkJCQlwYXJzZUZsb2F0KCBzdHlsZXNbIGRpbWVuc2lvbiBdICkgLQoJCQkJCWJveE1vZGVsQWRqdXN0bWVudCggZWxlbSwgZGltZW5zaW9uLCAiYm9yZGVyIiwgZmFsc2UsIHN0eWxlcyApIC0KCQkJCQkwLjUKCQkJCSk7CgkJCX0KCgkJCS8vIENvbnZlcnQgdG8gcGl4ZWxzIGlmIHZhbHVlIGFkanVzdG1lbnQgaXMgbmVlZGVkCgkJCWlmICggc3VidHJhY3QgJiYgKCBtYXRjaGVzID0gcmNzc051bS5leGVjKCB2YWx1ZSApICkgJiYKCQkJCSggbWF0Y2hlc1sgMyBdIHx8ICJweCIgKSAhPT0gInB4IiApIHsKCgkJCQllbGVtLnN0eWxlWyBkaW1lbnNpb24gXSA9IHZhbHVlOwoJCQkJdmFsdWUgPSBqUXVlcnkuY3NzKCBlbGVtLCBkaW1lbnNpb24gKTsKCQkJfQoKCQkJcmV0dXJuIHNldFBvc2l0aXZlTnVtYmVyKCBlbGVtLCB2YWx1ZSwgc3VidHJhY3QgKTsKCQl9Cgl9Owp9ICk7CgpqUXVlcnkuY3NzSG9va3MubWFyZ2luTGVmdCA9IGFkZEdldEhvb2tJZiggc3VwcG9ydC5yZWxpYWJsZU1hcmdpbkxlZnQsCglmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQgKSB7CgkJaWYgKCBjb21wdXRlZCApIHsKCQkJcmV0dXJuICggcGFyc2VGbG9hdCggY3VyQ1NTKCBlbGVtLCAibWFyZ2luTGVmdCIgKSApIHx8CgkJCQllbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQgLQoJCQkJCXN3YXAoIGVsZW0sIHsgbWFyZ2luTGVmdDogMCB9LCBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDsKCQkJCQl9ICkKCQkJKSArICJweCI7CgkJfQoJfQopOwoKLy8gVGhlc2UgaG9va3MgYXJlIHVzZWQgYnkgYW5pbWF0ZSB0byBleHBhbmQgcHJvcGVydGllcwpqUXVlcnkuZWFjaCggewoJbWFyZ2luOiAiIiwKCXBhZGRpbmc6ICIiLAoJYm9yZGVyOiAiV2lkdGgiCn0sIGZ1bmN0aW9uKCBwcmVmaXgsIHN1ZmZpeCApIHsKCWpRdWVyeS5jc3NIb29rc1sgcHJlZml4ICsgc3VmZml4IF0gPSB7CgkJZXhwYW5kOiBmdW5jdGlvbiggdmFsdWUgKSB7CgkJCXZhciBpID0gMCwKCQkJCWV4cGFuZGVkID0ge30sCgoJCQkJLy8gQXNzdW1lcyBhIHNpbmdsZSBudW1iZXIgaWYgbm90IGEgc3RyaW5nCgkJCQlwYXJ0cyA9IHR5cGVvZiB2YWx1ZSA9PT0gInN0cmluZyIgPyB2YWx1ZS5zcGxpdCggIiAiICkgOiBbIHZhbHVlIF07CgoJCQlmb3IgKCA7IGkgPCA0OyBpKysgKSB7CgkJCQlleHBhbmRlZFsgcHJlZml4ICsgY3NzRXhwYW5kWyBpIF0gKyBzdWZmaXggXSA9CgkJCQkJcGFydHNbIGkgXSB8fCBwYXJ0c1sgaSAtIDIgXSB8fCBwYXJ0c1sgMCBdOwoJCQl9CgoJCQlyZXR1cm4gZXhwYW5kZWQ7CgkJfQoJfTsKCglpZiAoIHByZWZpeCAhPT0gIm1hcmdpbiIgKSB7CgkJalF1ZXJ5LmNzc0hvb2tzWyBwcmVmaXggKyBzdWZmaXggXS5zZXQgPSBzZXRQb3NpdGl2ZU51bWJlcjsKCX0KfSApOwoKalF1ZXJ5LmZuLmV4dGVuZCggewoJY3NzOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7CgkJcmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkgewoJCQl2YXIgc3R5bGVzLCBsZW4sCgkJCQltYXAgPSB7fSwKCQkJCWkgPSAwOwoKCQkJaWYgKCBBcnJheS5pc0FycmF5KCBuYW1lICkgKSB7CgkJCQlzdHlsZXMgPSBnZXRTdHlsZXMoIGVsZW0gKTsKCQkJCWxlbiA9IG5hbWUubGVuZ3RoOwoKCQkJCWZvciAoIDsgaSA8IGxlbjsgaSsrICkgewoJCQkJCW1hcFsgbmFtZVsgaSBdIF0gPSBqUXVlcnkuY3NzKCBlbGVtLCBuYW1lWyBpIF0sIGZhbHNlLCBzdHlsZXMgKTsKCQkJCX0KCgkJCQlyZXR1cm4gbWFwOwoJCQl9CgoJCQlyZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCA/CgkJCQlqUXVlcnkuc3R5bGUoIGVsZW0sIG5hbWUsIHZhbHVlICkgOgoJCQkJalF1ZXJ5LmNzcyggZWxlbSwgbmFtZSApOwoJCX0sIG5hbWUsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSApOwoJfQp9ICk7CgoKZnVuY3Rpb24gVHdlZW4oIGVsZW0sIG9wdGlvbnMsIHByb3AsIGVuZCwgZWFzaW5nICkgewoJcmV0dXJuIG5ldyBUd2Vlbi5wcm90b3R5cGUuaW5pdCggZWxlbSwgb3B0aW9ucywgcHJvcCwgZW5kLCBlYXNpbmcgKTsKfQpqUXVlcnkuVHdlZW4gPSBUd2VlbjsKClR3ZWVuLnByb3RvdHlwZSA9IHsKCWNvbnN0cnVjdG9yOiBUd2VlbiwKCWluaXQ6IGZ1bmN0aW9uKCBlbGVtLCBvcHRpb25zLCBwcm9wLCBlbmQsIGVhc2luZywgdW5pdCApIHsKCQl0aGlzLmVsZW0gPSBlbGVtOwoJCXRoaXMucHJvcCA9IHByb3A7CgkJdGhpcy5lYXNpbmcgPSBlYXNpbmcgfHwgalF1ZXJ5LmVhc2luZy5fZGVmYXVsdDsKCQl0aGlzLm9wdGlvbnMgPSBvcHRpb25zOwoJCXRoaXMuc3RhcnQgPSB0aGlzLm5vdyA9IHRoaXMuY3VyKCk7CgkJdGhpcy5lbmQgPSBlbmQ7CgkJdGhpcy51bml0ID0gdW5pdCB8fCAoIGpRdWVyeS5jc3NOdW1iZXJbIHByb3AgXSA/ICIiIDogInB4IiApOwoJfSwKCWN1cjogZnVuY3Rpb24oKSB7CgkJdmFyIGhvb2tzID0gVHdlZW4ucHJvcEhvb2tzWyB0aGlzLnByb3AgXTsKCgkJcmV0dXJuIGhvb2tzICYmIGhvb2tzLmdldCA/CgkJCWhvb2tzLmdldCggdGhpcyApIDoKCQkJVHdlZW4ucHJvcEhvb2tzLl9kZWZhdWx0LmdldCggdGhpcyApOwoJfSwKCXJ1bjogZnVuY3Rpb24oIHBlcmNlbnQgKSB7CgkJdmFyIGVhc2VkLAoJCQlob29rcyA9IFR3ZWVuLnByb3BIb29rc1sgdGhpcy5wcm9wIF07CgoJCWlmICggdGhpcy5vcHRpb25zLmR1cmF0aW9uICkgewoJCQl0aGlzLnBvcyA9IGVhc2VkID0galF1ZXJ5LmVhc2luZ1sgdGhpcy5lYXNpbmcgXSgKCQkJCXBlcmNlbnQsIHRoaXMub3B0aW9ucy5kdXJhdGlvbiAqIHBlcmNlbnQsIDAsIDEsIHRoaXMub3B0aW9ucy5kdXJhdGlvbgoJCQkpOwoJCX0gZWxzZSB7CgkJCXRoaXMucG9zID0gZWFzZWQgPSBwZXJjZW50OwoJCX0KCQl0aGlzLm5vdyA9ICggdGhpcy5lbmQgLSB0aGlzLnN0YXJ0ICkgKiBlYXNlZCArIHRoaXMuc3RhcnQ7CgoJCWlmICggdGhpcy5vcHRpb25zLnN0ZXAgKSB7CgkJCXRoaXMub3B0aW9ucy5zdGVwLmNhbGwoIHRoaXMuZWxlbSwgdGhpcy5ub3csIHRoaXMgKTsKCQl9CgoJCWlmICggaG9va3MgJiYgaG9va3Muc2V0ICkgewoJCQlob29rcy5zZXQoIHRoaXMgKTsKCQl9IGVsc2UgewoJCQlUd2Vlbi5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KCB0aGlzICk7CgkJfQoJCXJldHVybiB0aGlzOwoJfQp9OwoKVHdlZW4ucHJvdG90eXBlLmluaXQucHJvdG90eXBlID0gVHdlZW4ucHJvdG90eXBlOwoKVHdlZW4ucHJvcEhvb2tzID0gewoJX2RlZmF1bHQ6IHsKCQlnZXQ6IGZ1bmN0aW9uKCB0d2VlbiApIHsKCQkJdmFyIHJlc3VsdDsKCgkJCS8vIFVzZSBhIHByb3BlcnR5IG9uIHRoZSBlbGVtZW50IGRpcmVjdGx5IHdoZW4gaXQgaXMgbm90IGEgRE9NIGVsZW1lbnQsCgkJCS8vIG9yIHdoZW4gdGhlcmUgaXMgbm8gbWF0Y2hpbmcgc3R5bGUgcHJvcGVydHkgdGhhdCBleGlzdHMuCgkJCWlmICggdHdlZW4uZWxlbS5ub2RlVHlwZSAhPT0gMSB8fAoJCQkJdHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdICE9IG51bGwgJiYgdHdlZW4uZWxlbS5zdHlsZVsgdHdlZW4ucHJvcCBdID09IG51bGwgKSB7CgkJCQlyZXR1cm4gdHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdOwoJCQl9CgoJCQkvLyBQYXNzaW5nIGFuIGVtcHR5IHN0cmluZyBhcyBhIDNyZCBwYXJhbWV0ZXIgdG8gLmNzcyB3aWxsIGF1dG9tYXRpY2FsbHkKCQkJLy8gYXR0ZW1wdCBhIHBhcnNlRmxvYXQgYW5kIGZhbGxiYWNrIHRvIGEgc3RyaW5nIGlmIHRoZSBwYXJzZSBmYWlscy4KCQkJLy8gU2ltcGxlIHZhbHVlcyBzdWNoIGFzICIxMHB4IiBhcmUgcGFyc2VkIHRvIEZsb2F0OwoJCQkvLyBjb21wbGV4IHZhbHVlcyBzdWNoIGFzICJyb3RhdGUoMXJhZCkiIGFyZSByZXR1cm5lZCBhcy1pcy4KCQkJcmVzdWx0ID0galF1ZXJ5LmNzcyggdHdlZW4uZWxlbSwgdHdlZW4ucHJvcCwgIiIgKTsKCgkJCS8vIEVtcHR5IHN0cmluZ3MsIG51bGwsIHVuZGVmaW5lZCBhbmQgImF1dG8iIGFyZSBjb252ZXJ0ZWQgdG8gMC4KCQkJcmV0dXJuICFyZXN1bHQgfHwgcmVzdWx0ID09PSAiYXV0byIgPyAwIDogcmVzdWx0OwoJCX0sCgkJc2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7CgoJCQkvLyBVc2Ugc3RlcCBob29rIGZvciBiYWNrIGNvbXBhdC4KCQkJLy8gVXNlIGNzc0hvb2sgaWYgaXRzIHRoZXJlLgoJCQkvLyBVc2UgLnN0eWxlIGlmIGF2YWlsYWJsZSBhbmQgdXNlIHBsYWluIHByb3BlcnRpZXMgd2hlcmUgYXZhaWxhYmxlLgoJCQlpZiAoIGpRdWVyeS5meC5zdGVwWyB0d2Vlbi5wcm9wIF0gKSB7CgkJCQlqUXVlcnkuZnguc3RlcFsgdHdlZW4ucHJvcCBdKCB0d2VlbiApOwoJCQl9IGVsc2UgaWYgKCB0d2Vlbi5lbGVtLm5vZGVUeXBlID09PSAxICYmICgKCQkJCWpRdWVyeS5jc3NIb29rc1sgdHdlZW4ucHJvcCBdIHx8CgkJCQkJdHdlZW4uZWxlbS5zdHlsZVsgZmluYWxQcm9wTmFtZSggdHdlZW4ucHJvcCApIF0gIT0gbnVsbCApICkgewoJCQkJalF1ZXJ5LnN0eWxlKCB0d2Vlbi5lbGVtLCB0d2Vlbi5wcm9wLCB0d2Vlbi5ub3cgKyB0d2Vlbi51bml0ICk7CgkJCX0gZWxzZSB7CgkJCQl0d2Vlbi5lbGVtWyB0d2Vlbi5wcm9wIF0gPSB0d2Vlbi5ub3c7CgkJCX0KCQl9Cgl9Cn07CgovLyBTdXBwb3J0OiBJRSA8PTkgb25seQovLyBQYW5pYyBiYXNlZCBhcHByb2FjaCB0byBzZXR0aW5nIHRoaW5ncyBvbiBkaXNjb25uZWN0ZWQgbm9kZXMKVHdlZW4ucHJvcEhvb2tzLnNjcm9sbFRvcCA9IFR3ZWVuLnByb3BIb29rcy5zY3JvbGxMZWZ0ID0gewoJc2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7CgkJaWYgKCB0d2Vlbi5lbGVtLm5vZGVUeXBlICYmIHR3ZWVuLmVsZW0ucGFyZW50Tm9kZSApIHsKCQkJdHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdID0gdHdlZW4ubm93OwoJCX0KCX0KfTsKCmpRdWVyeS5lYXNpbmcgPSB7CglsaW5lYXI6IGZ1bmN0aW9uKCBwICkgewoJCXJldHVybiBwOwoJfSwKCXN3aW5nOiBmdW5jdGlvbiggcCApIHsKCQlyZXR1cm4gMC41IC0gTWF0aC5jb3MoIHAgKiBNYXRoLlBJICkgLyAyOwoJfSwKCV9kZWZhdWx0OiAic3dpbmciCn07CgpqUXVlcnkuZnggPSBUd2Vlbi5wcm90b3R5cGUuaW5pdDsKCi8vIEJhY2sgY29tcGF0IDwxLjggZXh0ZW5zaW9uIHBvaW50CmpRdWVyeS5meC5zdGVwID0ge307CgoKCgp2YXIKCWZ4Tm93LCBpblByb2dyZXNzLAoJcmZ4dHlwZXMgPSAvXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sCglycnVuID0gL3F1ZXVlSG9va3MkLzsKCmZ1bmN0aW9uIHNjaGVkdWxlKCkgewoJaWYgKCBpblByb2dyZXNzICkgewoJCWlmICggZG9jdW1lbnQuaGlkZGVuID09PSBmYWxzZSAmJiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lICkgewoJCQl3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCBzY2hlZHVsZSApOwoJCX0gZWxzZSB7CgkJCXdpbmRvdy5zZXRUaW1lb3V0KCBzY2hlZHVsZSwgalF1ZXJ5LmZ4LmludGVydmFsICk7CgkJfQoKCQlqUXVlcnkuZngudGljaygpOwoJfQp9CgovLyBBbmltYXRpb25zIGNyZWF0ZWQgc3luY2hyb25vdXNseSB3aWxsIHJ1biBzeW5jaHJvbm91c2x5CmZ1bmN0aW9uIGNyZWF0ZUZ4Tm93KCkgewoJd2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkgewoJCWZ4Tm93ID0gdW5kZWZpbmVkOwoJfSApOwoJcmV0dXJuICggZnhOb3cgPSBEYXRlLm5vdygpICk7Cn0KCi8vIEdlbmVyYXRlIHBhcmFtZXRlcnMgdG8gY3JlYXRlIGEgc3RhbmRhcmQgYW5pbWF0aW9uCmZ1bmN0aW9uIGdlbkZ4KCB0eXBlLCBpbmNsdWRlV2lkdGggKSB7Cgl2YXIgd2hpY2gsCgkJaSA9IDAsCgkJYXR0cnMgPSB7IGhlaWdodDogdHlwZSB9OwoKCS8vIElmIHdlIGluY2x1ZGUgd2lkdGgsIHN0ZXAgdmFsdWUgaXMgMSB0byBkbyBhbGwgY3NzRXhwYW5kIHZhbHVlcywKCS8vIG90aGVyd2lzZSBzdGVwIHZhbHVlIGlzIDIgdG8gc2tpcCBvdmVyIExlZnQgYW5kIFJpZ2h0CglpbmNsdWRlV2lkdGggPSBpbmNsdWRlV2lkdGggPyAxIDogMDsKCWZvciAoIDsgaSA8IDQ7IGkgKz0gMiAtIGluY2x1ZGVXaWR0aCApIHsKCQl3aGljaCA9IGNzc0V4cGFuZFsgaSBdOwoJCWF0dHJzWyAibWFyZ2luIiArIHdoaWNoIF0gPSBhdHRyc1sgInBhZGRpbmciICsgd2hpY2ggXSA9IHR5cGU7Cgl9CgoJaWYgKCBpbmNsdWRlV2lkdGggKSB7CgkJYXR0cnMub3BhY2l0eSA9IGF0dHJzLndpZHRoID0gdHlwZTsKCX0KCglyZXR1cm4gYXR0cnM7Cn0KCmZ1bmN0aW9uIGNyZWF0ZVR3ZWVuKCB2YWx1ZSwgcHJvcCwgYW5pbWF0aW9uICkgewoJdmFyIHR3ZWVuLAoJCWNvbGxlY3Rpb24gPSAoIEFuaW1hdGlvbi50d2VlbmVyc1sgcHJvcCBdIHx8IFtdICkuY29uY2F0KCBBbmltYXRpb24udHdlZW5lcnNbICIqIiBdICksCgkJaW5kZXggPSAwLAoJCWxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoOwoJZm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHsKCQlpZiAoICggdHdlZW4gPSBjb2xsZWN0aW9uWyBpbmRleCBdLmNhbGwoIGFuaW1hdGlvbiwgcHJvcCwgdmFsdWUgKSApICkgewoKCQkJLy8gV2UncmUgZG9uZSB3aXRoIHRoaXMgcHJvcGVydHkKCQkJcmV0dXJuIHR3ZWVuOwoJCX0KCX0KfQoKZnVuY3Rpb24gZGVmYXVsdFByZWZpbHRlciggZWxlbSwgcHJvcHMsIG9wdHMgKSB7Cgl2YXIgcHJvcCwgdmFsdWUsIHRvZ2dsZSwgaG9va3MsIG9sZGZpcmUsIHByb3BUd2VlbiwgcmVzdG9yZURpc3BsYXksIGRpc3BsYXksCgkJaXNCb3ggPSAid2lkdGgiIGluIHByb3BzIHx8ICJoZWlnaHQiIGluIHByb3BzLAoJCWFuaW0gPSB0aGlzLAoJCW9yaWcgPSB7fSwKCQlzdHlsZSA9IGVsZW0uc3R5bGUsCgkJaGlkZGVuID0gZWxlbS5ub2RlVHlwZSAmJiBpc0hpZGRlbldpdGhpblRyZWUoIGVsZW0gKSwKCQlkYXRhU2hvdyA9IGRhdGFQcml2LmdldCggZWxlbSwgImZ4c2hvdyIgKTsKCgkvLyBRdWV1ZS1za2lwcGluZyBhbmltYXRpb25zIGhpamFjayB0aGUgZnggaG9va3MKCWlmICggIW9wdHMucXVldWUgKSB7CgkJaG9va3MgPSBqUXVlcnkuX3F1ZXVlSG9va3MoIGVsZW0sICJmeCIgKTsKCQlpZiAoIGhvb2tzLnVucXVldWVkID09IG51bGwgKSB7CgkJCWhvb2tzLnVucXVldWVkID0gMDsKCQkJb2xkZmlyZSA9IGhvb2tzLmVtcHR5LmZpcmU7CgkJCWhvb2tzLmVtcHR5LmZpcmUgPSBmdW5jdGlvbigpIHsKCQkJCWlmICggIWhvb2tzLnVucXVldWVkICkgewoJCQkJCW9sZGZpcmUoKTsKCQkJCX0KCQkJfTsKCQl9CgkJaG9va3MudW5xdWV1ZWQrKzsKCgkJYW5pbS5hbHdheXMoIGZ1bmN0aW9uKCkgewoKCQkJLy8gRW5zdXJlIHRoZSBjb21wbGV0ZSBoYW5kbGVyIGlzIGNhbGxlZCBiZWZvcmUgdGhpcyBjb21wbGV0ZXMKCQkJYW5pbS5hbHdheXMoIGZ1bmN0aW9uKCkgewoJCQkJaG9va3MudW5xdWV1ZWQtLTsKCQkJCWlmICggIWpRdWVyeS5xdWV1ZSggZWxlbSwgImZ4IiApLmxlbmd0aCApIHsKCQkJCQlob29rcy5lbXB0eS5maXJlKCk7CgkJCQl9CgkJCX0gKTsKCQl9ICk7Cgl9CgoJLy8gRGV0ZWN0IHNob3cvaGlkZSBhbmltYXRpb25zCglmb3IgKCBwcm9wIGluIHByb3BzICkgewoJCXZhbHVlID0gcHJvcHNbIHByb3AgXTsKCQlpZiAoIHJmeHR5cGVzLnRlc3QoIHZhbHVlICkgKSB7CgkJCWRlbGV0ZSBwcm9wc1sgcHJvcCBdOwoJCQl0b2dnbGUgPSB0b2dnbGUgfHwgdmFsdWUgPT09ICJ0b2dnbGUiOwoJCQlpZiAoIHZhbHVlID09PSAoIGhpZGRlbiA/ICJoaWRlIiA6ICJzaG93IiApICkgewoKCQkJCS8vIFByZXRlbmQgdG8gYmUgaGlkZGVuIGlmIHRoaXMgaXMgYSAic2hvdyIgYW5kCgkJCQkvLyB0aGVyZSBpcyBzdGlsbCBkYXRhIGZyb20gYSBzdG9wcGVkIHNob3cvaGlkZQoJCQkJaWYgKCB2YWx1ZSA9PT0gInNob3ciICYmIGRhdGFTaG93ICYmIGRhdGFTaG93WyBwcm9wIF0gIT09IHVuZGVmaW5lZCApIHsKCQkJCQloaWRkZW4gPSB0cnVlOwoKCQkJCS8vIElnbm9yZSBhbGwgb3RoZXIgbm8tb3Agc2hvdy9oaWRlIGRhdGEKCQkJCX0gZWxzZSB7CgkJCQkJY29udGludWU7CgkJCQl9CgkJCX0KCQkJb3JpZ1sgcHJvcCBdID0gZGF0YVNob3cgJiYgZGF0YVNob3dbIHByb3AgXSB8fCBqUXVlcnkuc3R5bGUoIGVsZW0sIHByb3AgKTsKCQl9Cgl9CgoJLy8gQmFpbCBvdXQgaWYgdGhpcyBpcyBhIG5vLW9wIGxpa2UgLmhpZGUoKS5oaWRlKCkKCXByb3BUd2VlbiA9ICFqUXVlcnkuaXNFbXB0eU9iamVjdCggcHJvcHMgKTsKCWlmICggIXByb3BUd2VlbiAmJiBqUXVlcnkuaXNFbXB0eU9iamVjdCggb3JpZyApICkgewoJCXJldHVybjsKCX0KCgkvLyBSZXN0cmljdCAib3ZlcmZsb3ciIGFuZCAiZGlzcGxheSIgc3R5bGVzIGR1cmluZyBib3ggYW5pbWF0aW9ucwoJaWYgKCBpc0JveCAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkgewoKCQkvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSwgRWRnZSAxMiAtIDE1CgkJLy8gUmVjb3JkIGFsbCAzIG92ZXJmbG93IGF0dHJpYnV0ZXMgYmVjYXVzZSBJRSBkb2VzIG5vdCBpbmZlciB0aGUgc2hvcnRoYW5kCgkJLy8gZnJvbSBpZGVudGljYWxseS12YWx1ZWQgb3ZlcmZsb3dYIGFuZCBvdmVyZmxvd1kgYW5kIEVkZ2UganVzdCBtaXJyb3JzCgkJLy8gdGhlIG92ZXJmbG93WCB2YWx1ZSB0aGVyZS4KCQlvcHRzLm92ZXJmbG93ID0gWyBzdHlsZS5vdmVyZmxvdywgc3R5bGUub3ZlcmZsb3dYLCBzdHlsZS5vdmVyZmxvd1kgXTsKCgkJLy8gSWRlbnRpZnkgYSBkaXNwbGF5IHR5cGUsIHByZWZlcnJpbmcgb2xkIHNob3cvaGlkZSBkYXRhIG92ZXIgdGhlIENTUyBjYXNjYWRlCgkJcmVzdG9yZURpc3BsYXkgPSBkYXRhU2hvdyAmJiBkYXRhU2hvdy5kaXNwbGF5OwoJCWlmICggcmVzdG9yZURpc3BsYXkgPT0gbnVsbCApIHsKCQkJcmVzdG9yZURpc3BsYXkgPSBkYXRhUHJpdi5nZXQoIGVsZW0sICJkaXNwbGF5IiApOwoJCX0KCQlkaXNwbGF5ID0galF1ZXJ5LmNzcyggZWxlbSwgImRpc3BsYXkiICk7CgkJaWYgKCBkaXNwbGF5ID09PSAibm9uZSIgKSB7CgkJCWlmICggcmVzdG9yZURpc3BsYXkgKSB7CgkJCQlkaXNwbGF5ID0gcmVzdG9yZURpc3BsYXk7CgkJCX0gZWxzZSB7CgoJCQkJLy8gR2V0IG5vbmVtcHR5IHZhbHVlKHMpIGJ5IHRlbXBvcmFyaWx5IGZvcmNpbmcgdmlzaWJpbGl0eQoJCQkJc2hvd0hpZGUoIFsgZWxlbSBdLCB0cnVlICk7CgkJCQlyZXN0b3JlRGlzcGxheSA9IGVsZW0uc3R5bGUuZGlzcGxheSB8fCByZXN0b3JlRGlzcGxheTsKCQkJCWRpc3BsYXkgPSBqUXVlcnkuY3NzKCBlbGVtLCAiZGlzcGxheSIgKTsKCQkJCXNob3dIaWRlKCBbIGVsZW0gXSApOwoJCQl9CgkJfQoKCQkvLyBBbmltYXRlIGlubGluZSBlbGVtZW50cyBhcyBpbmxpbmUtYmxvY2sKCQlpZiAoIGRpc3BsYXkgPT09ICJpbmxpbmUiIHx8IGRpc3BsYXkgPT09ICJpbmxpbmUtYmxvY2siICYmIHJlc3RvcmVEaXNwbGF5ICE9IG51bGwgKSB7CgkJCWlmICggalF1ZXJ5LmNzcyggZWxlbSwgImZsb2F0IiApID09PSAibm9uZSIgKSB7CgoJCQkJLy8gUmVzdG9yZSB0aGUgb3JpZ2luYWwgZGlzcGxheSB2YWx1ZSBhdCB0aGUgZW5kIG9mIHB1cmUgc2hvdy9oaWRlIGFuaW1hdGlvbnMKCQkJCWlmICggIXByb3BUd2VlbiApIHsKCQkJCQlhbmltLmRvbmUoIGZ1bmN0aW9uKCkgewoJCQkJCQlzdHlsZS5kaXNwbGF5ID0gcmVzdG9yZURpc3BsYXk7CgkJCQkJfSApOwoJCQkJCWlmICggcmVzdG9yZURpc3BsYXkgPT0gbnVsbCApIHsKCQkJCQkJZGlzcGxheSA9IHN0eWxlLmRpc3BsYXk7CgkJCQkJCXJlc3RvcmVEaXNwbGF5ID0gZGlzcGxheSA9PT0gIm5vbmUiID8gIiIgOiBkaXNwbGF5OwoJCQkJCX0KCQkJCX0KCQkJCXN0eWxlLmRpc3BsYXkgPSAiaW5saW5lLWJsb2NrIjsKCQkJfQoJCX0KCX0KCglpZiAoIG9wdHMub3ZlcmZsb3cgKSB7CgkJc3R5bGUub3ZlcmZsb3cgPSAiaGlkZGVuIjsKCQlhbmltLmFsd2F5cyggZnVuY3Rpb24oKSB7CgkJCXN0eWxlLm92ZXJmbG93ID0gb3B0cy5vdmVyZmxvd1sgMCBdOwoJCQlzdHlsZS5vdmVyZmxvd1ggPSBvcHRzLm92ZXJmbG93WyAxIF07CgkJCXN0eWxlLm92ZXJmbG93WSA9IG9wdHMub3ZlcmZsb3dbIDIgXTsKCQl9ICk7Cgl9CgoJLy8gSW1wbGVtZW50IHNob3cvaGlkZSBhbmltYXRpb25zCglwcm9wVHdlZW4gPSBmYWxzZTsKCWZvciAoIHByb3AgaW4gb3JpZyApIHsKCgkJLy8gR2VuZXJhbCBzaG93L2hpZGUgc2V0dXAgZm9yIHRoaXMgZWxlbWVudCBhbmltYXRpb24KCQlpZiAoICFwcm9wVHdlZW4gKSB7CgkJCWlmICggZGF0YVNob3cgKSB7CgkJCQlpZiAoICJoaWRkZW4iIGluIGRhdGFTaG93ICkgewoJCQkJCWhpZGRlbiA9IGRhdGFTaG93LmhpZGRlbjsKCQkJCX0KCQkJfSBlbHNlIHsKCQkJCWRhdGFTaG93ID0gZGF0YVByaXYuYWNjZXNzKCBlbGVtLCAiZnhzaG93IiwgeyBkaXNwbGF5OiByZXN0b3JlRGlzcGxheSB9ICk7CgkJCX0KCgkJCS8vIFN0b3JlIGhpZGRlbi92aXNpYmxlIGZvciB0b2dnbGUgc28gYC5zdG9wKCkudG9nZ2xlKClgICJyZXZlcnNlcyIKCQkJaWYgKCB0b2dnbGUgKSB7CgkJCQlkYXRhU2hvdy5oaWRkZW4gPSAhaGlkZGVuOwoJCQl9CgoJCQkvLyBTaG93IGVsZW1lbnRzIGJlZm9yZSBhbmltYXRpbmcgdGhlbQoJCQlpZiAoIGhpZGRlbiApIHsKCQkJCXNob3dIaWRlKCBbIGVsZW0gXSwgdHJ1ZSApOwoJCQl9CgoJCQkvKiBlc2xpbnQtZGlzYWJsZSBuby1sb29wLWZ1bmMgKi8KCgkJCWFuaW0uZG9uZSggZnVuY3Rpb24oKSB7CgoJCQkJLyogZXNsaW50LWVuYWJsZSBuby1sb29wLWZ1bmMgKi8KCgkJCQkvLyBUaGUgZmluYWwgc3RlcCBvZiBhICJoaWRlIiBhbmltYXRpb24gaXMgYWN0dWFsbHkgaGlkaW5nIHRoZSBlbGVtZW50CgkJCQlpZiAoICFoaWRkZW4gKSB7CgkJCQkJc2hvd0hpZGUoIFsgZWxlbSBdICk7CgkJCQl9CgkJCQlkYXRhUHJpdi5yZW1vdmUoIGVsZW0sICJmeHNob3ciICk7CgkJCQlmb3IgKCBwcm9wIGluIG9yaWcgKSB7CgkJCQkJalF1ZXJ5LnN0eWxlKCBlbGVtLCBwcm9wLCBvcmlnWyBwcm9wIF0gKTsKCQkJCX0KCQkJfSApOwoJCX0KCgkJLy8gUGVyLXByb3BlcnR5IHNldHVwCgkJcHJvcFR3ZWVuID0gY3JlYXRlVHdlZW4oIGhpZGRlbiA/IGRhdGFTaG93WyBwcm9wIF0gOiAwLCBwcm9wLCBhbmltICk7CgkJaWYgKCAhKCBwcm9wIGluIGRhdGFTaG93ICkgKSB7CgkJCWRhdGFTaG93WyBwcm9wIF0gPSBwcm9wVHdlZW4uc3RhcnQ7CgkJCWlmICggaGlkZGVuICkgewoJCQkJcHJvcFR3ZWVuLmVuZCA9IHByb3BUd2Vlbi5zdGFydDsKCQkJCXByb3BUd2Vlbi5zdGFydCA9IDA7CgkJCX0KCQl9Cgl9Cn0KCmZ1bmN0aW9uIHByb3BGaWx0ZXIoIHByb3BzLCBzcGVjaWFsRWFzaW5nICkgewoJdmFyIGluZGV4LCBuYW1lLCBlYXNpbmcsIHZhbHVlLCBob29rczsKCgkvLyBjYW1lbENhc2UsIHNwZWNpYWxFYXNpbmcgYW5kIGV4cGFuZCBjc3NIb29rIHBhc3MKCWZvciAoIGluZGV4IGluIHByb3BzICkgewoJCW5hbWUgPSBjYW1lbENhc2UoIGluZGV4ICk7CgkJZWFzaW5nID0gc3BlY2lhbEVhc2luZ1sgbmFtZSBdOwoJCXZhbHVlID0gcHJvcHNbIGluZGV4IF07CgkJaWYgKCBBcnJheS5pc0FycmF5KCB2YWx1ZSApICkgewoJCQllYXNpbmcgPSB2YWx1ZVsgMSBdOwoJCQl2YWx1ZSA9IHByb3BzWyBpbmRleCBdID0gdmFsdWVbIDAgXTsKCQl9CgoJCWlmICggaW5kZXggIT09IG5hbWUgKSB7CgkJCXByb3BzWyBuYW1lIF0gPSB2YWx1ZTsKCQkJZGVsZXRlIHByb3BzWyBpbmRleCBdOwoJCX0KCgkJaG9va3MgPSBqUXVlcnkuY3NzSG9va3NbIG5hbWUgXTsKCQlpZiAoIGhvb2tzICYmICJleHBhbmQiIGluIGhvb2tzICkgewoJCQl2YWx1ZSA9IGhvb2tzLmV4cGFuZCggdmFsdWUgKTsKCQkJZGVsZXRlIHByb3BzWyBuYW1lIF07CgoJCQkvLyBOb3QgcXVpdGUgJC5leHRlbmQsIHRoaXMgd29uJ3Qgb3ZlcndyaXRlIGV4aXN0aW5nIGtleXMuCgkJCS8vIFJldXNpbmcgJ2luZGV4JyBiZWNhdXNlIHdlIGhhdmUgdGhlIGNvcnJlY3QgIm5hbWUiCgkJCWZvciAoIGluZGV4IGluIHZhbHVlICkgewoJCQkJaWYgKCAhKCBpbmRleCBpbiBwcm9wcyApICkgewoJCQkJCXByb3BzWyBpbmRleCBdID0gdmFsdWVbIGluZGV4IF07CgkJCQkJc3BlY2lhbEVhc2luZ1sgaW5kZXggXSA9IGVhc2luZzsKCQkJCX0KCQkJfQoJCX0gZWxzZSB7CgkJCXNwZWNpYWxFYXNpbmdbIG5hbWUgXSA9IGVhc2luZzsKCQl9Cgl9Cn0KCmZ1bmN0aW9uIEFuaW1hdGlvbiggZWxlbSwgcHJvcGVydGllcywgb3B0aW9ucyApIHsKCXZhciByZXN1bHQsCgkJc3RvcHBlZCwKCQlpbmRleCA9IDAsCgkJbGVuZ3RoID0gQW5pbWF0aW9uLnByZWZpbHRlcnMubGVuZ3RoLAoJCWRlZmVycmVkID0galF1ZXJ5LkRlZmVycmVkKCkuYWx3YXlzKCBmdW5jdGlvbigpIHsKCgkJCS8vIERvbid0IG1hdGNoIGVsZW0gaW4gdGhlIDphbmltYXRlZCBzZWxlY3RvcgoJCQlkZWxldGUgdGljay5lbGVtOwoJCX0gKSwKCQl0aWNrID0gZnVuY3Rpb24oKSB7CgkJCWlmICggc3RvcHBlZCApIHsKCQkJCXJldHVybiBmYWxzZTsKCQkJfQoJCQl2YXIgY3VycmVudFRpbWUgPSBmeE5vdyB8fCBjcmVhdGVGeE5vdygpLAoJCQkJcmVtYWluaW5nID0gTWF0aC5tYXgoIDAsIGFuaW1hdGlvbi5zdGFydFRpbWUgKyBhbmltYXRpb24uZHVyYXRpb24gLSBjdXJyZW50VGltZSApLAoKCQkJCS8vIFN1cHBvcnQ6IEFuZHJvaWQgMi4zIG9ubHkKCQkJCS8vIEFyY2hhaWMgY3Jhc2ggYnVnIHdvbid0IGFsbG93IHVzIHRvIHVzZSBgMSAtICggMC41IHx8IDAgKWAgKHRyYWMtMTI0OTcpCgkJCQl0ZW1wID0gcmVtYWluaW5nIC8gYW5pbWF0aW9uLmR1cmF0aW9uIHx8IDAsCgkJCQlwZXJjZW50ID0gMSAtIHRlbXAsCgkJCQlpbmRleCA9IDAsCgkJCQlsZW5ndGggPSBhbmltYXRpb24udHdlZW5zLmxlbmd0aDsKCgkJCWZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7CgkJCQlhbmltYXRpb24udHdlZW5zWyBpbmRleCBdLnJ1biggcGVyY2VudCApOwoJCQl9CgoJCQlkZWZlcnJlZC5ub3RpZnlXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgcGVyY2VudCwgcmVtYWluaW5nIF0gKTsKCgkJCS8vIElmIHRoZXJlJ3MgbW9yZSB0byBkbywgeWllbGQKCQkJaWYgKCBwZXJjZW50IDwgMSAmJiBsZW5ndGggKSB7CgkJCQlyZXR1cm4gcmVtYWluaW5nOwoJCQl9CgoJCQkvLyBJZiB0aGlzIHdhcyBhbiBlbXB0eSBhbmltYXRpb24sIHN5bnRoZXNpemUgYSBmaW5hbCBwcm9ncmVzcyBub3RpZmljYXRpb24KCQkJaWYgKCAhbGVuZ3RoICkgewoJCQkJZGVmZXJyZWQubm90aWZ5V2l0aCggZWxlbSwgWyBhbmltYXRpb24sIDEsIDAgXSApOwoJCQl9CgoJCQkvLyBSZXNvbHZlIHRoZSBhbmltYXRpb24gYW5kIHJlcG9ydCBpdHMgY29uY2x1c2lvbgoJCQlkZWZlcnJlZC5yZXNvbHZlV2l0aCggZWxlbSwgWyBhbmltYXRpb24gXSApOwoJCQlyZXR1cm4gZmFsc2U7CgkJfSwKCQlhbmltYXRpb24gPSBkZWZlcnJlZC5wcm9taXNlKCB7CgkJCWVsZW06IGVsZW0sCgkJCXByb3BzOiBqUXVlcnkuZXh0ZW5kKCB7fSwgcHJvcGVydGllcyApLAoJCQlvcHRzOiBqUXVlcnkuZXh0ZW5kKCB0cnVlLCB7CgkJCQlzcGVjaWFsRWFzaW5nOiB7fSwKCQkJCWVhc2luZzogalF1ZXJ5LmVhc2luZy5fZGVmYXVsdAoJCQl9LCBvcHRpb25zICksCgkJCW9yaWdpbmFsUHJvcGVydGllczogcHJvcGVydGllcywKCQkJb3JpZ2luYWxPcHRpb25zOiBvcHRpb25zLAoJCQlzdGFydFRpbWU6IGZ4Tm93IHx8IGNyZWF0ZUZ4Tm93KCksCgkJCWR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uLAoJCQl0d2VlbnM6IFtdLAoJCQljcmVhdGVUd2VlbjogZnVuY3Rpb24oIHByb3AsIGVuZCApIHsKCQkJCXZhciB0d2VlbiA9IGpRdWVyeS5Ud2VlbiggZWxlbSwgYW5pbWF0aW9uLm9wdHMsIHByb3AsIGVuZCwKCQkJCQlhbmltYXRpb24ub3B0cy5zcGVjaWFsRWFzaW5nWyBwcm9wIF0gfHwgYW5pbWF0aW9uLm9wdHMuZWFzaW5nICk7CgkJCQlhbmltYXRpb24udHdlZW5zLnB1c2goIHR3ZWVuICk7CgkJCQlyZXR1cm4gdHdlZW47CgkJCX0sCgkJCXN0b3A6IGZ1bmN0aW9uKCBnb3RvRW5kICkgewoJCQkJdmFyIGluZGV4ID0gMCwKCgkJCQkJLy8gSWYgd2UgYXJlIGdvaW5nIHRvIHRoZSBlbmQsIHdlIHdhbnQgdG8gcnVuIGFsbCB0aGUgdHdlZW5zCgkJCQkJLy8gb3RoZXJ3aXNlIHdlIHNraXAgdGhpcyBwYXJ0CgkJCQkJbGVuZ3RoID0gZ290b0VuZCA/IGFuaW1hdGlvbi50d2VlbnMubGVuZ3RoIDogMDsKCQkJCWlmICggc3RvcHBlZCApIHsKCQkJCQlyZXR1cm4gdGhpczsKCQkJCX0KCQkJCXN0b3BwZWQgPSB0cnVlOwoJCQkJZm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHsKCQkJCQlhbmltYXRpb24udHdlZW5zWyBpbmRleCBdLnJ1biggMSApOwoJCQkJfQoKCQkJCS8vIFJlc29sdmUgd2hlbiB3ZSBwbGF5ZWQgdGhlIGxhc3QgZnJhbWU7IG90aGVyd2lzZSwgcmVqZWN0CgkJCQlpZiAoIGdvdG9FbmQgKSB7CgkJCQkJZGVmZXJyZWQubm90aWZ5V2l0aCggZWxlbSwgWyBhbmltYXRpb24sIDEsIDAgXSApOwoJCQkJCWRlZmVycmVkLnJlc29sdmVXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgZ290b0VuZCBdICk7CgkJCQl9IGVsc2UgewoJCQkJCWRlZmVycmVkLnJlamVjdFdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCBnb3RvRW5kIF0gKTsKCQkJCX0KCQkJCXJldHVybiB0aGlzOwoJCQl9CgkJfSApLAoJCXByb3BzID0gYW5pbWF0aW9uLnByb3BzOwoKCXByb3BGaWx0ZXIoIHByb3BzLCBhbmltYXRpb24ub3B0cy5zcGVjaWFsRWFzaW5nICk7CgoJZm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHsKCQlyZXN1bHQgPSBBbmltYXRpb24ucHJlZmlsdGVyc1sgaW5kZXggXS5jYWxsKCBhbmltYXRpb24sIGVsZW0sIHByb3BzLCBhbmltYXRpb24ub3B0cyApOwoJCWlmICggcmVzdWx0ICkgewoJCQlpZiAoIGlzRnVuY3Rpb24oIHJlc3VsdC5zdG9wICkgKSB7CgkJCQlqUXVlcnkuX3F1ZXVlSG9va3MoIGFuaW1hdGlvbi5lbGVtLCBhbmltYXRpb24ub3B0cy5xdWV1ZSApLnN0b3AgPQoJCQkJCXJlc3VsdC5zdG9wLmJpbmQoIHJlc3VsdCApOwoJCQl9CgkJCXJldHVybiByZXN1bHQ7CgkJfQoJfQoKCWpRdWVyeS5tYXAoIHByb3BzLCBjcmVhdGVUd2VlbiwgYW5pbWF0aW9uICk7CgoJaWYgKCBpc0Z1bmN0aW9uKCBhbmltYXRpb24ub3B0cy5zdGFydCApICkgewoJCWFuaW1hdGlvbi5vcHRzLnN0YXJ0LmNhbGwoIGVsZW0sIGFuaW1hdGlvbiApOwoJfQoKCS8vIEF0dGFjaCBjYWxsYmFja3MgZnJvbSBvcHRpb25zCglhbmltYXRpb24KCQkucHJvZ3Jlc3MoIGFuaW1hdGlvbi5vcHRzLnByb2dyZXNzICkKCQkuZG9uZSggYW5pbWF0aW9uLm9wdHMuZG9uZSwgYW5pbWF0aW9uLm9wdHMuY29tcGxldGUgKQoJCS5mYWlsKCBhbmltYXRpb24ub3B0cy5mYWlsICkKCQkuYWx3YXlzKCBhbmltYXRpb24ub3B0cy5hbHdheXMgKTsKCglqUXVlcnkuZngudGltZXIoCgkJalF1ZXJ5LmV4dGVuZCggdGljaywgewoJCQllbGVtOiBlbGVtLAoJCQlhbmltOiBhbmltYXRpb24sCgkJCXF1ZXVlOiBhbmltYXRpb24ub3B0cy5xdWV1ZQoJCX0gKQoJKTsKCglyZXR1cm4gYW5pbWF0aW9uOwp9CgpqUXVlcnkuQW5pbWF0aW9uID0galF1ZXJ5LmV4dGVuZCggQW5pbWF0aW9uLCB7CgoJdHdlZW5lcnM6IHsKCQkiKiI6IFsgZnVuY3Rpb24oIHByb3AsIHZhbHVlICkgewoJCQl2YXIgdHdlZW4gPSB0aGlzLmNyZWF0ZVR3ZWVuKCBwcm9wLCB2YWx1ZSApOwoJCQlhZGp1c3RDU1MoIHR3ZWVuLmVsZW0sIHByb3AsIHJjc3NOdW0uZXhlYyggdmFsdWUgKSwgdHdlZW4gKTsKCQkJcmV0dXJuIHR3ZWVuOwoJCX0gXQoJfSwKCgl0d2VlbmVyOiBmdW5jdGlvbiggcHJvcHMsIGNhbGxiYWNrICkgewoJCWlmICggaXNGdW5jdGlvbiggcHJvcHMgKSApIHsKCQkJY2FsbGJhY2sgPSBwcm9wczsKCQkJcHJvcHMgPSBbICIqIiBdOwoJCX0gZWxzZSB7CgkJCXByb3BzID0gcHJvcHMubWF0Y2goIHJub3RodG1sd2hpdGUgKTsKCQl9CgoJCXZhciBwcm9wLAoJCQlpbmRleCA9IDAsCgkJCWxlbmd0aCA9IHByb3BzLmxlbmd0aDsKCgkJZm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHsKCQkJcHJvcCA9IHByb3BzWyBpbmRleCBdOwoJCQlBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXSA9IEFuaW1hdGlvbi50d2VlbmVyc1sgcHJvcCBdIHx8IFtdOwoJCQlBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXS51bnNoaWZ0KCBjYWxsYmFjayApOwoJCX0KCX0sCgoJcHJlZmlsdGVyczogWyBkZWZhdWx0UHJlZmlsdGVyIF0sCgoJcHJlZmlsdGVyOiBmdW5jdGlvbiggY2FsbGJhY2ssIHByZXBlbmQgKSB7CgkJaWYgKCBwcmVwZW5kICkgewoJCQlBbmltYXRpb24ucHJlZmlsdGVycy51bnNoaWZ0KCBjYWxsYmFjayApOwoJCX0gZWxzZSB7CgkJCUFuaW1hdGlvbi5wcmVmaWx0ZXJzLnB1c2goIGNhbGxiYWNrICk7CgkJfQoJfQp9ICk7CgpqUXVlcnkuc3BlZWQgPSBmdW5jdGlvbiggc3BlZWQsIGVhc2luZywgZm4gKSB7Cgl2YXIgb3B0ID0gc3BlZWQgJiYgdHlwZW9mIHNwZWVkID09PSAib2JqZWN0IiA/IGpRdWVyeS5leHRlbmQoIHt9LCBzcGVlZCApIDogewoJCWNvbXBsZXRlOiBmbiB8fCAhZm4gJiYgZWFzaW5nIHx8CgkJCWlzRnVuY3Rpb24oIHNwZWVkICkgJiYgc3BlZWQsCgkJZHVyYXRpb246IHNwZWVkLAoJCWVhc2luZzogZm4gJiYgZWFzaW5nIHx8IGVhc2luZyAmJiAhaXNGdW5jdGlvbiggZWFzaW5nICkgJiYgZWFzaW5nCgl9OwoKCS8vIEdvIHRvIHRoZSBlbmQgc3RhdGUgaWYgZnggYXJlIG9mZgoJaWYgKCBqUXVlcnkuZngub2ZmICkgewoJCW9wdC5kdXJhdGlvbiA9IDA7CgoJfSBlbHNlIHsKCQlpZiAoIHR5cGVvZiBvcHQuZHVyYXRpb24gIT09ICJudW1iZXIiICkgewoJCQlpZiAoIG9wdC5kdXJhdGlvbiBpbiBqUXVlcnkuZnguc3BlZWRzICkgewoJCQkJb3B0LmR1cmF0aW9uID0galF1ZXJ5LmZ4LnNwZWVkc1sgb3B0LmR1cmF0aW9uIF07CgoJCQl9IGVsc2UgewoJCQkJb3B0LmR1cmF0aW9uID0galF1ZXJ5LmZ4LnNwZWVkcy5fZGVmYXVsdDsKCQkJfQoJCX0KCX0KCgkvLyBOb3JtYWxpemUgb3B0LnF1ZXVlIC0gdHJ1ZS91bmRlZmluZWQvbnVsbCAtPiAiZngiCglpZiAoIG9wdC5xdWV1ZSA9PSBudWxsIHx8IG9wdC5xdWV1ZSA9PT0gdHJ1ZSApIHsKCQlvcHQucXVldWUgPSAiZngiOwoJfQoKCS8vIFF1ZXVlaW5nCglvcHQub2xkID0gb3B0LmNvbXBsZXRlOwoKCW9wdC5jb21wbGV0ZSA9IGZ1bmN0aW9uKCkgewoJCWlmICggaXNGdW5jdGlvbiggb3B0Lm9sZCApICkgewoJCQlvcHQub2xkLmNhbGwoIHRoaXMgKTsKCQl9CgoJCWlmICggb3B0LnF1ZXVlICkgewoJCQlqUXVlcnkuZGVxdWV1ZSggdGhpcywgb3B0LnF1ZXVlICk7CgkJfQoJfTsKCglyZXR1cm4gb3B0Owp9OwoKalF1ZXJ5LmZuLmV4dGVuZCggewoJZmFkZVRvOiBmdW5jdGlvbiggc3BlZWQsIHRvLCBlYXNpbmcsIGNhbGxiYWNrICkgewoKCQkvLyBTaG93IGFueSBoaWRkZW4gZWxlbWVudHMgYWZ0ZXIgc2V0dGluZyBvcGFjaXR5IHRvIDAKCQlyZXR1cm4gdGhpcy5maWx0ZXIoIGlzSGlkZGVuV2l0aGluVHJlZSApLmNzcyggIm9wYWNpdHkiLCAwICkuc2hvdygpCgoJCQkvLyBBbmltYXRlIHRvIHRoZSB2YWx1ZSBzcGVjaWZpZWQKCQkJLmVuZCgpLmFuaW1hdGUoIHsgb3BhY2l0eTogdG8gfSwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKTsKCX0sCglhbmltYXRlOiBmdW5jdGlvbiggcHJvcCwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSB7CgkJdmFyIGVtcHR5ID0galF1ZXJ5LmlzRW1wdHlPYmplY3QoIHByb3AgKSwKCQkJb3B0YWxsID0galF1ZXJ5LnNwZWVkKCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApLAoJCQlkb0FuaW1hdGlvbiA9IGZ1bmN0aW9uKCkgewoKCQkJCS8vIE9wZXJhdGUgb24gYSBjb3B5IG9mIHByb3Agc28gcGVyLXByb3BlcnR5IGVhc2luZyB3b24ndCBiZSBsb3N0CgkJCQl2YXIgYW5pbSA9IEFuaW1hdGlvbiggdGhpcywgalF1ZXJ5LmV4dGVuZCgge30sIHByb3AgKSwgb3B0YWxsICk7CgoJCQkJLy8gRW1wdHkgYW5pbWF0aW9ucywgb3IgZmluaXNoaW5nIHJlc29sdmVzIGltbWVkaWF0ZWx5CgkJCQlpZiAoIGVtcHR5IHx8IGRhdGFQcml2LmdldCggdGhpcywgImZpbmlzaCIgKSApIHsKCQkJCQlhbmltLnN0b3AoIHRydWUgKTsKCQkJCX0KCQkJfTsKCgkJZG9BbmltYXRpb24uZmluaXNoID0gZG9BbmltYXRpb247CgoJCXJldHVybiBlbXB0eSB8fCBvcHRhbGwucXVldWUgPT09IGZhbHNlID8KCQkJdGhpcy5lYWNoKCBkb0FuaW1hdGlvbiApIDoKCQkJdGhpcy5xdWV1ZSggb3B0YWxsLnF1ZXVlLCBkb0FuaW1hdGlvbiApOwoJfSwKCXN0b3A6IGZ1bmN0aW9uKCB0eXBlLCBjbGVhclF1ZXVlLCBnb3RvRW5kICkgewoJCXZhciBzdG9wUXVldWUgPSBmdW5jdGlvbiggaG9va3MgKSB7CgkJCXZhciBzdG9wID0gaG9va3Muc3RvcDsKCQkJZGVsZXRlIGhvb2tzLnN0b3A7CgkJCXN0b3AoIGdvdG9FbmQgKTsKCQl9OwoKCQlpZiAoIHR5cGVvZiB0eXBlICE9PSAic3RyaW5nIiApIHsKCQkJZ290b0VuZCA9IGNsZWFyUXVldWU7CgkJCWNsZWFyUXVldWUgPSB0eXBlOwoJCQl0eXBlID0gdW5kZWZpbmVkOwoJCX0KCQlpZiAoIGNsZWFyUXVldWUgKSB7CgkJCXRoaXMucXVldWUoIHR5cGUgfHwgImZ4IiwgW10gKTsKCQl9CgoJCXJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkgewoJCQl2YXIgZGVxdWV1ZSA9IHRydWUsCgkJCQlpbmRleCA9IHR5cGUgIT0gbnVsbCAmJiB0eXBlICsgInF1ZXVlSG9va3MiLAoJCQkJdGltZXJzID0galF1ZXJ5LnRpbWVycywKCQkJCWRhdGEgPSBkYXRhUHJpdi5nZXQoIHRoaXMgKTsKCgkJCWlmICggaW5kZXggKSB7CgkJCQlpZiAoIGRhdGFbIGluZGV4IF0gJiYgZGF0YVsgaW5kZXggXS5zdG9wICkgewoJCQkJCXN0b3BRdWV1ZSggZGF0YVsgaW5kZXggXSApOwoJCQkJfQoJCQl9IGVsc2UgewoJCQkJZm9yICggaW5kZXggaW4gZGF0YSApIHsKCQkJCQlpZiAoIGRhdGFbIGluZGV4IF0gJiYgZGF0YVsgaW5kZXggXS5zdG9wICYmIHJydW4udGVzdCggaW5kZXggKSApIHsKCQkJCQkJc3RvcFF1ZXVlKCBkYXRhWyBpbmRleCBdICk7CgkJCQkJfQoJCQkJfQoJCQl9CgoJCQlmb3IgKCBpbmRleCA9IHRpbWVycy5sZW5ndGg7IGluZGV4LS07ICkgewoJCQkJaWYgKCB0aW1lcnNbIGluZGV4IF0uZWxlbSA9PT0gdGhpcyAmJgoJCQkJCSggdHlwZSA9PSBudWxsIHx8IHRpbWVyc1sgaW5kZXggXS5xdWV1ZSA9PT0gdHlwZSApICkgewoKCQkJCQl0aW1lcnNbIGluZGV4IF0uYW5pbS5zdG9wKCBnb3RvRW5kICk7CgkJCQkJZGVxdWV1ZSA9IGZhbHNlOwoJCQkJCXRpbWVycy5zcGxpY2UoIGluZGV4LCAxICk7CgkJCQl9CgkJCX0KCgkJCS8vIFN0YXJ0IHRoZSBuZXh0IGluIHRoZSBxdWV1ZSBpZiB0aGUgbGFzdCBzdGVwIHdhc24ndCBmb3JjZWQuCgkJCS8vIFRpbWVycyBjdXJyZW50bHkgd2lsbCBjYWxsIHRoZWlyIGNvbXBsZXRlIGNhbGxiYWNrcywgd2hpY2gKCQkJLy8gd2lsbCBkZXF1ZXVlIGJ1dCBvbmx5IGlmIHRoZXkgd2VyZSBnb3RvRW5kLgoJCQlpZiAoIGRlcXVldWUgfHwgIWdvdG9FbmQgKSB7CgkJCQlqUXVlcnkuZGVxdWV1ZSggdGhpcywgdHlwZSApOwoJCQl9CgkJfSApOwoJfSwKCWZpbmlzaDogZnVuY3Rpb24oIHR5cGUgKSB7CgkJaWYgKCB0eXBlICE9PSBmYWxzZSApIHsKCQkJdHlwZSA9IHR5cGUgfHwgImZ4IjsKCQl9CgkJcmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7CgkJCXZhciBpbmRleCwKCQkJCWRhdGEgPSBkYXRhUHJpdi5nZXQoIHRoaXMgKSwKCQkJCXF1ZXVlID0gZGF0YVsgdHlwZSArICJxdWV1ZSIgXSwKCQkJCWhvb2tzID0gZGF0YVsgdHlwZSArICJxdWV1ZUhvb2tzIiBdLAoJCQkJdGltZXJzID0galF1ZXJ5LnRpbWVycywKCQkJCWxlbmd0aCA9IHF1ZXVlID8gcXVldWUubGVuZ3RoIDogMDsKCgkJCS8vIEVuYWJsZSBmaW5pc2hpbmcgZmxhZyBvbiBwcml2YXRlIGRhdGEKCQkJZGF0YS5maW5pc2ggPSB0cnVlOwoKCQkJLy8gRW1wdHkgdGhlIHF1ZXVlIGZpcnN0CgkJCWpRdWVyeS5xdWV1ZSggdGhpcywgdHlwZSwgW10gKTsKCgkJCWlmICggaG9va3MgJiYgaG9va3Muc3RvcCApIHsKCQkJCWhvb2tzLnN0b3AuY2FsbCggdGhpcywgdHJ1ZSApOwoJCQl9CgoJCQkvLyBMb29rIGZvciBhbnkgYWN0aXZlIGFuaW1hdGlvbnMsIGFuZCBmaW5pc2ggdGhlbQoJCQlmb3IgKCBpbmRleCA9IHRpbWVycy5sZW5ndGg7IGluZGV4LS07ICkgewoJCQkJaWYgKCB0aW1lcnNbIGluZGV4IF0uZWxlbSA9PT0gdGhpcyAmJiB0aW1lcnNbIGluZGV4IF0ucXVldWUgPT09IHR5cGUgKSB7CgkJCQkJdGltZXJzWyBpbmRleCBdLmFuaW0uc3RvcCggdHJ1ZSApOwoJCQkJCXRpbWVycy5zcGxpY2UoIGluZGV4LCAxICk7CgkJCQl9CgkJCX0KCgkJCS8vIExvb2sgZm9yIGFueSBhbmltYXRpb25zIGluIHRoZSBvbGQgcXVldWUgYW5kIGZpbmlzaCB0aGVtCgkJCWZvciAoIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7CgkJCQlpZiAoIHF1ZXVlWyBpbmRleCBdICYmIHF1ZXVlWyBpbmRleCBdLmZpbmlzaCApIHsKCQkJCQlxdWV1ZVsgaW5kZXggXS5maW5pc2guY2FsbCggdGhpcyApOwoJCQkJfQoJCQl9CgoJCQkvLyBUdXJuIG9mZiBmaW5pc2hpbmcgZmxhZwoJCQlkZWxldGUgZGF0YS5maW5pc2g7CgkJfSApOwoJfQp9ICk7CgpqUXVlcnkuZWFjaCggWyAidG9nZ2xlIiwgInNob3ciLCAiaGlkZSIgXSwgZnVuY3Rpb24oIF9pLCBuYW1lICkgewoJdmFyIGNzc0ZuID0galF1ZXJ5LmZuWyBuYW1lIF07CglqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHsKCQlyZXR1cm4gc3BlZWQgPT0gbnVsbCB8fCB0eXBlb2Ygc3BlZWQgPT09ICJib29sZWFuIiA/CgkJCWNzc0ZuLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKSA6CgkJCXRoaXMuYW5pbWF0ZSggZ2VuRngoIG5hbWUsIHRydWUgKSwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKTsKCX07Cn0gKTsKCi8vIEdlbmVyYXRlIHNob3J0Y3V0cyBmb3IgY3VzdG9tIGFuaW1hdGlvbnMKalF1ZXJ5LmVhY2goIHsKCXNsaWRlRG93bjogZ2VuRngoICJzaG93IiApLAoJc2xpZGVVcDogZ2VuRngoICJoaWRlIiApLAoJc2xpZGVUb2dnbGU6IGdlbkZ4KCAidG9nZ2xlIiApLAoJZmFkZUluOiB7IG9wYWNpdHk6ICJzaG93IiB9LAoJZmFkZU91dDogeyBvcGFjaXR5OiAiaGlkZSIgfSwKCWZhZGVUb2dnbGU6IHsgb3BhY2l0eTogInRvZ2dsZSIgfQp9LCBmdW5jdGlvbiggbmFtZSwgcHJvcHMgKSB7CglqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHsKCQlyZXR1cm4gdGhpcy5hbmltYXRlKCBwcm9wcywgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKTsKCX07Cn0gKTsKCmpRdWVyeS50aW1lcnMgPSBbXTsKalF1ZXJ5LmZ4LnRpY2sgPSBmdW5jdGlvbigpIHsKCXZhciB0aW1lciwKCQlpID0gMCwKCQl0aW1lcnMgPSBqUXVlcnkudGltZXJzOwoKCWZ4Tm93ID0gRGF0ZS5ub3coKTsKCglmb3IgKCA7IGkgPCB0aW1lcnMubGVuZ3RoOyBpKysgKSB7CgkJdGltZXIgPSB0aW1lcnNbIGkgXTsKCgkJLy8gUnVuIHRoZSB0aW1lciBhbmQgc2FmZWx5IHJlbW92ZSBpdCB3aGVuIGRvbmUgKGFsbG93aW5nIGZvciBleHRlcm5hbCByZW1vdmFsKQoJCWlmICggIXRpbWVyKCkgJiYgdGltZXJzWyBpIF0gPT09IHRpbWVyICkgewoJCQl0aW1lcnMuc3BsaWNlKCBpLS0sIDEgKTsKCQl9Cgl9CgoJaWYgKCAhdGltZXJzLmxlbmd0aCApIHsKCQlqUXVlcnkuZnguc3RvcCgpOwoJfQoJZnhOb3cgPSB1bmRlZmluZWQ7Cn07CgpqUXVlcnkuZngudGltZXIgPSBmdW5jdGlvbiggdGltZXIgKSB7CglqUXVlcnkudGltZXJzLnB1c2goIHRpbWVyICk7CglqUXVlcnkuZnguc3RhcnQoKTsKfTsKCmpRdWVyeS5meC5pbnRlcnZhbCA9IDEzOwpqUXVlcnkuZnguc3RhcnQgPSBmdW5jdGlvbigpIHsKCWlmICggaW5Qcm9ncmVzcyApIHsKCQlyZXR1cm47Cgl9CgoJaW5Qcm9ncmVzcyA9IHRydWU7CglzY2hlZHVsZSgpOwp9OwoKalF1ZXJ5LmZ4LnN0b3AgPSBmdW5jdGlvbigpIHsKCWluUHJvZ3Jlc3MgPSBudWxsOwp9OwoKalF1ZXJ5LmZ4LnNwZWVkcyA9IHsKCXNsb3c6IDYwMCwKCWZhc3Q6IDIwMCwKCgkvLyBEZWZhdWx0IHNwZWVkCglfZGVmYXVsdDogNDAwCn07CgoKLy8gQmFzZWQgb2ZmIG9mIHRoZSBwbHVnaW4gYnkgQ2xpbnQgSGVsZmVycywgd2l0aCBwZXJtaXNzaW9uLgpqUXVlcnkuZm4uZGVsYXkgPSBmdW5jdGlvbiggdGltZSwgdHlwZSApIHsKCXRpbWUgPSBqUXVlcnkuZnggPyBqUXVlcnkuZnguc3BlZWRzWyB0aW1lIF0gfHwgdGltZSA6IHRpbWU7Cgl0eXBlID0gdHlwZSB8fCAiZngiOwoKCXJldHVybiB0aGlzLnF1ZXVlKCB0eXBlLCBmdW5jdGlvbiggbmV4dCwgaG9va3MgKSB7CgkJdmFyIHRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCggbmV4dCwgdGltZSApOwoJCWhvb2tzLnN0b3AgPSBmdW5jdGlvbigpIHsKCQkJd2luZG93LmNsZWFyVGltZW91dCggdGltZW91dCApOwoJCX07Cgl9ICk7Cn07CgoKKCBmdW5jdGlvbigpIHsKCXZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICJpbnB1dCIgKSwKCQlzZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAic2VsZWN0IiApLAoJCW9wdCA9IHNlbGVjdC5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggIm9wdGlvbiIgKSApOwoKCWlucHV0LnR5cGUgPSAiY2hlY2tib3giOwoKCS8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjMgb25seQoJLy8gRGVmYXVsdCB2YWx1ZSBmb3IgYSBjaGVja2JveCBzaG91bGQgYmUgIm9uIgoJc3VwcG9ydC5jaGVja09uID0gaW5wdXQudmFsdWUgIT09ICIiOwoKCS8vIFN1cHBvcnQ6IElFIDw9MTEgb25seQoJLy8gTXVzdCBhY2Nlc3Mgc2VsZWN0ZWRJbmRleCB0byBtYWtlIGRlZmF1bHQgb3B0aW9ucyBzZWxlY3QKCXN1cHBvcnQub3B0U2VsZWN0ZWQgPSBvcHQuc2VsZWN0ZWQ7CgoJLy8gU3VwcG9ydDogSUUgPD0xMSBvbmx5CgkvLyBBbiBpbnB1dCBsb3NlcyBpdHMgdmFsdWUgYWZ0ZXIgYmVjb21pbmcgYSByYWRpbwoJaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAiaW5wdXQiICk7CglpbnB1dC52YWx1ZSA9ICJ0IjsKCWlucHV0LnR5cGUgPSAicmFkaW8iOwoJc3VwcG9ydC5yYWRpb1ZhbHVlID0gaW5wdXQudmFsdWUgPT09ICJ0IjsKfSApKCk7CgoKdmFyIGJvb2xIb29rLAoJYXR0ckhhbmRsZSA9IGpRdWVyeS5leHByLmF0dHJIYW5kbGU7CgpqUXVlcnkuZm4uZXh0ZW5kKCB7CglhdHRyOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7CgkJcmV0dXJuIGFjY2VzcyggdGhpcywgalF1ZXJ5LmF0dHIsIG5hbWUsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSApOwoJfSwKCglyZW1vdmVBdHRyOiBmdW5jdGlvbiggbmFtZSApIHsKCQlyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHsKCQkJalF1ZXJ5LnJlbW92ZUF0dHIoIHRoaXMsIG5hbWUgKTsKCQl9ICk7Cgl9Cn0gKTsKCmpRdWVyeS5leHRlbmQoIHsKCWF0dHI6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSApIHsKCQl2YXIgcmV0LCBob29rcywKCQkJblR5cGUgPSBlbGVtLm5vZGVUeXBlOwoKCQkvLyBEb24ndCBnZXQvc2V0IGF0dHJpYnV0ZXMgb24gdGV4dCwgY29tbWVudCBhbmQgYXR0cmlidXRlIG5vZGVzCgkJaWYgKCBuVHlwZSA9PT0gMyB8fCBuVHlwZSA9PT0gOCB8fCBuVHlwZSA9PT0gMiApIHsKCQkJcmV0dXJuOwoJCX0KCgkJLy8gRmFsbGJhY2sgdG8gcHJvcCB3aGVuIGF0dHJpYnV0ZXMgYXJlIG5vdCBzdXBwb3J0ZWQKCQlpZiAoIHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZSA9PT0gInVuZGVmaW5lZCIgKSB7CgkJCXJldHVybiBqUXVlcnkucHJvcCggZWxlbSwgbmFtZSwgdmFsdWUgKTsKCQl9CgoJCS8vIEF0dHJpYnV0ZSBob29rcyBhcmUgZGV0ZXJtaW5lZCBieSB0aGUgbG93ZXJjYXNlIHZlcnNpb24KCQkvLyBHcmFiIG5lY2Vzc2FyeSBob29rIGlmIG9uZSBpcyBkZWZpbmVkCgkJaWYgKCBuVHlwZSAhPT0gMSB8fCAhalF1ZXJ5LmlzWE1MRG9jKCBlbGVtICkgKSB7CgkJCWhvb2tzID0galF1ZXJ5LmF0dHJIb29rc1sgbmFtZS50b0xvd2VyQ2FzZSgpIF0gfHwKCQkJCSggalF1ZXJ5LmV4cHIubWF0Y2guYm9vbC50ZXN0KCBuYW1lICkgPyBib29sSG9vayA6IHVuZGVmaW5lZCApOwoJCX0KCgkJaWYgKCB2YWx1ZSAhPT0gdW5kZWZpbmVkICkgewoJCQlpZiAoIHZhbHVlID09PSBudWxsICkgewoJCQkJalF1ZXJ5LnJlbW92ZUF0dHIoIGVsZW0sIG5hbWUgKTsKCQkJCXJldHVybjsKCQkJfQoKCQkJaWYgKCBob29rcyAmJiAic2V0IiBpbiBob29rcyAmJgoJCQkJKCByZXQgPSBob29rcy5zZXQoIGVsZW0sIHZhbHVlLCBuYW1lICkgKSAhPT0gdW5kZWZpbmVkICkgewoJCQkJcmV0dXJuIHJldDsKCQkJfQoKCQkJZWxlbS5zZXRBdHRyaWJ1dGUoIG5hbWUsIHZhbHVlICsgIiIgKTsKCQkJcmV0dXJuIHZhbHVlOwoJCX0KCgkJaWYgKCBob29rcyAmJiAiZ2V0IiBpbiBob29rcyAmJiAoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgbmFtZSApICkgIT09IG51bGwgKSB7CgkJCXJldHVybiByZXQ7CgkJfQoKCQlyZXQgPSBqUXVlcnkuZmluZC5hdHRyKCBlbGVtLCBuYW1lICk7CgoJCS8vIE5vbi1leGlzdGVudCBhdHRyaWJ1dGVzIHJldHVybiBudWxsLCB3ZSBub3JtYWxpemUgdG8gdW5kZWZpbmVkCgkJcmV0dXJuIHJldCA9PSBudWxsID8gdW5kZWZpbmVkIDogcmV0OwoJfSwKCglhdHRySG9va3M6IHsKCQl0eXBlOiB7CgkJCXNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkgewoJCQkJaWYgKCAhc3VwcG9ydC5yYWRpb1ZhbHVlICYmIHZhbHVlID09PSAicmFkaW8iICYmCgkJCQkJbm9kZU5hbWUoIGVsZW0sICJpbnB1dCIgKSApIHsKCQkJCQl2YXIgdmFsID0gZWxlbS52YWx1ZTsKCQkJCQllbGVtLnNldEF0dHJpYnV0ZSggInR5cGUiLCB2YWx1ZSApOwoJCQkJCWlmICggdmFsICkgewoJCQkJCQllbGVtLnZhbHVlID0gdmFsOwoJCQkJCX0KCQkJCQlyZXR1cm4gdmFsdWU7CgkJCQl9CgkJCX0KCQl9Cgl9LAoKCXJlbW92ZUF0dHI6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHsKCQl2YXIgbmFtZSwKCQkJaSA9IDAsCgoJCQkvLyBBdHRyaWJ1dGUgbmFtZXMgY2FuIGNvbnRhaW4gbm9uLUhUTUwgd2hpdGVzcGFjZSBjaGFyYWN0ZXJzCgkJCS8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI2F0dHJpYnV0ZXMtMgoJCQlhdHRyTmFtZXMgPSB2YWx1ZSAmJiB2YWx1ZS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApOwoKCQlpZiAoIGF0dHJOYW1lcyAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkgewoJCQl3aGlsZSAoICggbmFtZSA9IGF0dHJOYW1lc1sgaSsrIF0gKSApIHsKCQkJCWVsZW0ucmVtb3ZlQXR0cmlidXRlKCBuYW1lICk7CgkJCX0KCQl9Cgl9Cn0gKTsKCi8vIEhvb2tzIGZvciBib29sZWFuIGF0dHJpYnV0ZXMKYm9vbEhvb2sgPSB7CglzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSwgbmFtZSApIHsKCQlpZiAoIHZhbHVlID09PSBmYWxzZSApIHsKCgkJCS8vIFJlbW92ZSBib29sZWFuIGF0dHJpYnV0ZXMgd2hlbiBzZXQgdG8gZmFsc2UKCQkJalF1ZXJ5LnJlbW92ZUF0dHIoIGVsZW0sIG5hbWUgKTsKCQl9IGVsc2UgewoJCQllbGVtLnNldEF0dHJpYnV0ZSggbmFtZSwgbmFtZSApOwoJCX0KCQlyZXR1cm4gbmFtZTsKCX0KfTsKCmpRdWVyeS5lYWNoKCBqUXVlcnkuZXhwci5tYXRjaC5ib29sLnNvdXJjZS5tYXRjaCggL1x3Ky9nICksIGZ1bmN0aW9uKCBfaSwgbmFtZSApIHsKCXZhciBnZXR0ZXIgPSBhdHRySGFuZGxlWyBuYW1lIF0gfHwgalF1ZXJ5LmZpbmQuYXR0cjsKCglhdHRySGFuZGxlWyBuYW1lIF0gPSBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7CgkJdmFyIHJldCwgaGFuZGxlLAoJCQlsb3dlcmNhc2VOYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpOwoKCQlpZiAoICFpc1hNTCApIHsKCgkJCS8vIEF2b2lkIGFuIGluZmluaXRlIGxvb3AgYnkgdGVtcG9yYXJpbHkgcmVtb3ZpbmcgdGhpcyBmdW5jdGlvbiBmcm9tIHRoZSBnZXR0ZXIKCQkJaGFuZGxlID0gYXR0ckhhbmRsZVsgbG93ZXJjYXNlTmFtZSBdOwoJCQlhdHRySGFuZGxlWyBsb3dlcmNhc2VOYW1lIF0gPSByZXQ7CgkJCXJldCA9IGdldHRlciggZWxlbSwgbmFtZSwgaXNYTUwgKSAhPSBudWxsID8KCQkJCWxvd2VyY2FzZU5hbWUgOgoJCQkJbnVsbDsKCQkJYXR0ckhhbmRsZVsgbG93ZXJjYXNlTmFtZSBdID0gaGFuZGxlOwoJCX0KCQlyZXR1cm4gcmV0OwoJfTsKfSApOwoKCgoKdmFyIHJmb2N1c2FibGUgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLAoJcmNsaWNrYWJsZSA9IC9eKD86YXxhcmVhKSQvaTsKCmpRdWVyeS5mbi5leHRlbmQoIHsKCXByb3A6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHsKCQlyZXR1cm4gYWNjZXNzKCB0aGlzLCBqUXVlcnkucHJvcCwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7Cgl9LAoKCXJlbW92ZVByb3A6IGZ1bmN0aW9uKCBuYW1lICkgewoJCXJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkgewoJCQlkZWxldGUgdGhpc1sgalF1ZXJ5LnByb3BGaXhbIG5hbWUgXSB8fCBuYW1lIF07CgkJfSApOwoJfQp9ICk7CgpqUXVlcnkuZXh0ZW5kKCB7Cglwcm9wOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUgKSB7CgkJdmFyIHJldCwgaG9va3MsCgkJCW5UeXBlID0gZWxlbS5ub2RlVHlwZTsKCgkJLy8gRG9uJ3QgZ2V0L3NldCBwcm9wZXJ0aWVzIG9uIHRleHQsIGNvbW1lbnQgYW5kIGF0dHJpYnV0ZSBub2RlcwoJCWlmICggblR5cGUgPT09IDMgfHwgblR5cGUgPT09IDggfHwgblR5cGUgPT09IDIgKSB7CgkJCXJldHVybjsKCQl9CgoJCWlmICggblR5cGUgIT09IDEgfHwgIWpRdWVyeS5pc1hNTERvYyggZWxlbSApICkgewoKCQkJLy8gRml4IG5hbWUgYW5kIGF0dGFjaCBob29rcwoJCQluYW1lID0galF1ZXJ5LnByb3BGaXhbIG5hbWUgXSB8fCBuYW1lOwoJCQlob29rcyA9IGpRdWVyeS5wcm9wSG9va3NbIG5hbWUgXTsKCQl9CgoJCWlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHsKCQkJaWYgKCBob29rcyAmJiAic2V0IiBpbiBob29rcyAmJgoJCQkJKCByZXQgPSBob29rcy5zZXQoIGVsZW0sIHZhbHVlLCBuYW1lICkgKSAhPT0gdW5kZWZpbmVkICkgewoJCQkJcmV0dXJuIHJldDsKCQkJfQoKCQkJcmV0dXJuICggZWxlbVsgbmFtZSBdID0gdmFsdWUgKTsKCQl9CgoJCWlmICggaG9va3MgJiYgImdldCIgaW4gaG9va3MgJiYgKCByZXQgPSBob29rcy5nZXQoIGVsZW0sIG5hbWUgKSApICE9PSBudWxsICkgewoJCQlyZXR1cm4gcmV0OwoJCX0KCgkJcmV0dXJuIGVsZW1bIG5hbWUgXTsKCX0sCgoJcHJvcEhvb2tzOiB7CgkJdGFiSW5kZXg6IHsKCQkJZ2V0OiBmdW5jdGlvbiggZWxlbSApIHsKCgkJCQkvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSBvbmx5CgkJCQkvLyBlbGVtLnRhYkluZGV4IGRvZXNuJ3QgYWx3YXlzIHJldHVybiB0aGUKCQkJCS8vIGNvcnJlY3QgdmFsdWUgd2hlbiBpdCBoYXNuJ3QgYmVlbiBleHBsaWNpdGx5IHNldAoJCQkJLy8gVXNlIHByb3BlciBhdHRyaWJ1dGUgcmV0cmlldmFsICh0cmFjLTEyMDcyKQoJCQkJdmFyIHRhYmluZGV4ID0galF1ZXJ5LmZpbmQuYXR0ciggZWxlbSwgInRhYmluZGV4IiApOwoKCQkJCWlmICggdGFiaW5kZXggKSB7CgkJCQkJcmV0dXJuIHBhcnNlSW50KCB0YWJpbmRleCwgMTAgKTsKCQkJCX0KCgkJCQlpZiAoCgkJCQkJcmZvY3VzYWJsZS50ZXN0KCBlbGVtLm5vZGVOYW1lICkgfHwKCQkJCQlyY2xpY2thYmxlLnRlc3QoIGVsZW0ubm9kZU5hbWUgKSAmJgoJCQkJCWVsZW0uaHJlZgoJCQkJKSB7CgkJCQkJcmV0dXJuIDA7CgkJCQl9CgoJCQkJcmV0dXJuIC0xOwoJCQl9CgkJfQoJfSwKCglwcm9wRml4OiB7CgkJImZvciI6ICJodG1sRm9yIiwKCQkiY2xhc3MiOiAiY2xhc3NOYW1lIgoJfQp9ICk7CgovLyBTdXBwb3J0OiBJRSA8PTExIG9ubHkKLy8gQWNjZXNzaW5nIHRoZSBzZWxlY3RlZEluZGV4IHByb3BlcnR5Ci8vIGZvcmNlcyB0aGUgYnJvd3NlciB0byByZXNwZWN0IHNldHRpbmcgc2VsZWN0ZWQKLy8gb24gdGhlIG9wdGlvbgovLyBUaGUgZ2V0dGVyIGVuc3VyZXMgYSBkZWZhdWx0IG9wdGlvbiBpcyBzZWxlY3RlZAovLyB3aGVuIGluIGFuIG9wdGdyb3VwCi8vIGVzbGludCBydWxlICJuby11bnVzZWQtZXhwcmVzc2lvbnMiIGlzIGRpc2FibGVkIGZvciB0aGlzIGNvZGUKLy8gc2luY2UgaXQgY29uc2lkZXJzIHN1Y2ggYWNjZXNzaW9ucyBub29wCmlmICggIXN1cHBvcnQub3B0U2VsZWN0ZWQgKSB7CglqUXVlcnkucHJvcEhvb2tzLnNlbGVjdGVkID0gewoJCWdldDogZnVuY3Rpb24oIGVsZW0gKSB7CgoJCQkvKiBlc2xpbnQgbm8tdW51c2VkLWV4cHJlc3Npb25zOiAib2ZmIiAqLwoKCQkJdmFyIHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZTsKCQkJaWYgKCBwYXJlbnQgJiYgcGFyZW50LnBhcmVudE5vZGUgKSB7CgkJCQlwYXJlbnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4OwoJCQl9CgkJCXJldHVybiBudWxsOwoJCX0sCgkJc2V0OiBmdW5jdGlvbiggZWxlbSApIHsKCgkJCS8qIGVzbGludCBuby11bnVzZWQtZXhwcmVzc2lvbnM6ICJvZmYiICovCgoJCQl2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlOwoJCQlpZiAoIHBhcmVudCApIHsKCQkJCXBhcmVudC5zZWxlY3RlZEluZGV4OwoKCQkJCWlmICggcGFyZW50LnBhcmVudE5vZGUgKSB7CgkJCQkJcGFyZW50LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDsKCQkJCX0KCQkJfQoJCX0KCX07Cn0KCmpRdWVyeS5lYWNoKCBbCgkidGFiSW5kZXgiLAoJInJlYWRPbmx5IiwKCSJtYXhMZW5ndGgiLAoJImNlbGxTcGFjaW5nIiwKCSJjZWxsUGFkZGluZyIsCgkicm93U3BhbiIsCgkiY29sU3BhbiIsCgkidXNlTWFwIiwKCSJmcmFtZUJvcmRlciIsCgkiY29udGVudEVkaXRhYmxlIgpdLCBmdW5jdGlvbigpIHsKCWpRdWVyeS5wcm9wRml4WyB0aGlzLnRvTG93ZXJDYXNlKCkgXSA9IHRoaXM7Cn0gKTsKCgoKCgkvLyBTdHJpcCBhbmQgY29sbGFwc2Ugd2hpdGVzcGFjZSBhY2NvcmRpbmcgdG8gSFRNTCBzcGVjCgkvLyBodHRwczovL2luZnJhLnNwZWMud2hhdHdnLm9yZy8jc3RyaXAtYW5kLWNvbGxhcHNlLWFzY2lpLXdoaXRlc3BhY2UKCWZ1bmN0aW9uIHN0cmlwQW5kQ29sbGFwc2UoIHZhbHVlICkgewoJCXZhciB0b2tlbnMgPSB2YWx1ZS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFtdOwoJCXJldHVybiB0b2tlbnMuam9pbiggIiAiICk7Cgl9CgoKZnVuY3Rpb24gZ2V0Q2xhc3MoIGVsZW0gKSB7CglyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUgJiYgZWxlbS5nZXRBdHRyaWJ1dGUoICJjbGFzcyIgKSB8fCAiIjsKfQoKZnVuY3Rpb24gY2xhc3Nlc1RvQXJyYXkoIHZhbHVlICkgewoJaWYgKCBBcnJheS5pc0FycmF5KCB2YWx1ZSApICkgewoJCXJldHVybiB2YWx1ZTsKCX0KCWlmICggdHlwZW9mIHZhbHVlID09PSAic3RyaW5nIiApIHsKCQlyZXR1cm4gdmFsdWUubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbXTsKCX0KCXJldHVybiBbXTsKfQoKalF1ZXJ5LmZuLmV4dGVuZCggewoJYWRkQ2xhc3M6IGZ1bmN0aW9uKCB2YWx1ZSApIHsKCQl2YXIgY2xhc3NOYW1lcywgY3VyLCBjdXJWYWx1ZSwgY2xhc3NOYW1lLCBpLCBmaW5hbFZhbHVlOwoKCQlpZiAoIGlzRnVuY3Rpb24oIHZhbHVlICkgKSB7CgkJCXJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBqICkgewoJCQkJalF1ZXJ5KCB0aGlzICkuYWRkQ2xhc3MoIHZhbHVlLmNhbGwoIHRoaXMsIGosIGdldENsYXNzKCB0aGlzICkgKSApOwoJCQl9ICk7CgkJfQoKCQljbGFzc05hbWVzID0gY2xhc3Nlc1RvQXJyYXkoIHZhbHVlICk7CgoJCWlmICggY2xhc3NOYW1lcy5sZW5ndGggKSB7CgkJCXJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkgewoJCQkJY3VyVmFsdWUgPSBnZXRDbGFzcyggdGhpcyApOwoJCQkJY3VyID0gdGhpcy5ub2RlVHlwZSA9PT0gMSAmJiAoICIgIiArIHN0cmlwQW5kQ29sbGFwc2UoIGN1clZhbHVlICkgKyAiICIgKTsKCgkJCQlpZiAoIGN1ciApIHsKCQkJCQlmb3IgKCBpID0gMDsgaSA8IGNsYXNzTmFtZXMubGVuZ3RoOyBpKysgKSB7CgkJCQkJCWNsYXNzTmFtZSA9IGNsYXNzTmFtZXNbIGkgXTsKCQkJCQkJaWYgKCBjdXIuaW5kZXhPZiggIiAiICsgY2xhc3NOYW1lICsgIiAiICkgPCAwICkgewoJCQkJCQkJY3VyICs9IGNsYXNzTmFtZSArICIgIjsKCQkJCQkJfQoJCQkJCX0KCgkJCQkJLy8gT25seSBhc3NpZ24gaWYgZGlmZmVyZW50IHRvIGF2b2lkIHVubmVlZGVkIHJlbmRlcmluZy4KCQkJCQlmaW5hbFZhbHVlID0gc3RyaXBBbmRDb2xsYXBzZSggY3VyICk7CgkJCQkJaWYgKCBjdXJWYWx1ZSAhPT0gZmluYWxWYWx1ZSApIHsKCQkJCQkJdGhpcy5zZXRBdHRyaWJ1dGUoICJjbGFzcyIsIGZpbmFsVmFsdWUgKTsKCQkJCQl9CgkJCQl9CgkJCX0gKTsKCQl9CgoJCXJldHVybiB0aGlzOwoJfSwKCglyZW1vdmVDbGFzczogZnVuY3Rpb24oIHZhbHVlICkgewoJCXZhciBjbGFzc05hbWVzLCBjdXIsIGN1clZhbHVlLCBjbGFzc05hbWUsIGksIGZpbmFsVmFsdWU7CgoJCWlmICggaXNGdW5jdGlvbiggdmFsdWUgKSApIHsKCQkJcmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGogKSB7CgkJCQlqUXVlcnkoIHRoaXMgKS5yZW1vdmVDbGFzcyggdmFsdWUuY2FsbCggdGhpcywgaiwgZ2V0Q2xhc3MoIHRoaXMgKSApICk7CgkJCX0gKTsKCQl9CgoJCWlmICggIWFyZ3VtZW50cy5sZW5ndGggKSB7CgkJCXJldHVybiB0aGlzLmF0dHIoICJjbGFzcyIsICIiICk7CgkJfQoKCQljbGFzc05hbWVzID0gY2xhc3Nlc1RvQXJyYXkoIHZhbHVlICk7CgoJCWlmICggY2xhc3NOYW1lcy5sZW5ndGggKSB7CgkJCXJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkgewoJCQkJY3VyVmFsdWUgPSBnZXRDbGFzcyggdGhpcyApOwoKCQkJCS8vIFRoaXMgZXhwcmVzc2lvbiBpcyBoZXJlIGZvciBiZXR0ZXIgY29tcHJlc3NpYmlsaXR5IChzZWUgYWRkQ2xhc3MpCgkJCQljdXIgPSB0aGlzLm5vZGVUeXBlID09PSAxICYmICggIiAiICsgc3RyaXBBbmRDb2xsYXBzZSggY3VyVmFsdWUgKSArICIgIiApOwoKCQkJCWlmICggY3VyICkgewoJCQkJCWZvciAoIGkgPSAwOyBpIDwgY2xhc3NOYW1lcy5sZW5ndGg7IGkrKyApIHsKCQkJCQkJY2xhc3NOYW1lID0gY2xhc3NOYW1lc1sgaSBdOwoKCQkJCQkJLy8gUmVtb3ZlICphbGwqIGluc3RhbmNlcwoJCQkJCQl3aGlsZSAoIGN1ci5pbmRleE9mKCAiICIgKyBjbGFzc05hbWUgKyAiICIgKSA+IC0xICkgewoJCQkJCQkJY3VyID0gY3VyLnJlcGxhY2UoICIgIiArIGNsYXNzTmFtZSArICIgIiwgIiAiICk7CgkJCQkJCX0KCQkJCQl9CgoJCQkJCS8vIE9ubHkgYXNzaWduIGlmIGRpZmZlcmVudCB0byBhdm9pZCB1bm5lZWRlZCByZW5kZXJpbmcuCgkJCQkJZmluYWxWYWx1ZSA9IHN0cmlwQW5kQ29sbGFwc2UoIGN1ciApOwoJCQkJCWlmICggY3VyVmFsdWUgIT09IGZpbmFsVmFsdWUgKSB7CgkJCQkJCXRoaXMuc2V0QXR0cmlidXRlKCAiY2xhc3MiLCBmaW5hbFZhbHVlICk7CgkJCQkJfQoJCQkJfQoJCQl9ICk7CgkJfQoKCQlyZXR1cm4gdGhpczsKCX0sCgoJdG9nZ2xlQ2xhc3M6IGZ1bmN0aW9uKCB2YWx1ZSwgc3RhdGVWYWwgKSB7CgkJdmFyIGNsYXNzTmFtZXMsIGNsYXNzTmFtZSwgaSwgc2VsZiwKCQkJdHlwZSA9IHR5cGVvZiB2YWx1ZSwKCQkJaXNWYWxpZFZhbHVlID0gdHlwZSA9PT0gInN0cmluZyIgfHwgQXJyYXkuaXNBcnJheSggdmFsdWUgKTsKCgkJaWYgKCBpc0Z1bmN0aW9uKCB2YWx1ZSApICkgewoJCQlyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHsKCQkJCWpRdWVyeSggdGhpcyApLnRvZ2dsZUNsYXNzKAoJCQkJCXZhbHVlLmNhbGwoIHRoaXMsIGksIGdldENsYXNzKCB0aGlzICksIHN0YXRlVmFsICksCgkJCQkJc3RhdGVWYWwKCQkJCSk7CgkJCX0gKTsKCQl9CgoJCWlmICggdHlwZW9mIHN0YXRlVmFsID09PSAiYm9vbGVhbiIgJiYgaXNWYWxpZFZhbHVlICkgewoJCQlyZXR1cm4gc3RhdGVWYWwgPyB0aGlzLmFkZENsYXNzKCB2YWx1ZSApIDogdGhpcy5yZW1vdmVDbGFzcyggdmFsdWUgKTsKCQl9CgoJCWNsYXNzTmFtZXMgPSBjbGFzc2VzVG9BcnJheSggdmFsdWUgKTsKCgkJcmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7CgkJCWlmICggaXNWYWxpZFZhbHVlICkgewoKCQkJCS8vIFRvZ2dsZSBpbmRpdmlkdWFsIGNsYXNzIG5hbWVzCgkJCQlzZWxmID0galF1ZXJ5KCB0aGlzICk7CgoJCQkJZm9yICggaSA9IDA7IGkgPCBjbGFzc05hbWVzLmxlbmd0aDsgaSsrICkgewoJCQkJCWNsYXNzTmFtZSA9IGNsYXNzTmFtZXNbIGkgXTsKCgkJCQkJLy8gQ2hlY2sgZWFjaCBjbGFzc05hbWUgZ2l2ZW4sIHNwYWNlIHNlcGFyYXRlZCBsaXN0CgkJCQkJaWYgKCBzZWxmLmhhc0NsYXNzKCBjbGFzc05hbWUgKSApIHsKCQkJCQkJc2VsZi5yZW1vdmVDbGFzcyggY2xhc3NOYW1lICk7CgkJCQkJfSBlbHNlIHsKCQkJCQkJc2VsZi5hZGRDbGFzcyggY2xhc3NOYW1lICk7CgkJCQkJfQoJCQkJfQoKCQkJLy8gVG9nZ2xlIHdob2xlIGNsYXNzIG5hbWUKCQkJfSBlbHNlIGlmICggdmFsdWUgPT09IHVuZGVmaW5lZCB8fCB0eXBlID09PSAiYm9vbGVhbiIgKSB7CgkJCQljbGFzc05hbWUgPSBnZXRDbGFzcyggdGhpcyApOwoJCQkJaWYgKCBjbGFzc05hbWUgKSB7CgoJCQkJCS8vIFN0b3JlIGNsYXNzTmFtZSBpZiBzZXQKCQkJCQlkYXRhUHJpdi5zZXQoIHRoaXMsICJfX2NsYXNzTmFtZV9fIiwgY2xhc3NOYW1lICk7CgkJCQl9CgoJCQkJLy8gSWYgdGhlIGVsZW1lbnQgaGFzIGEgY2xhc3MgbmFtZSBvciBpZiB3ZSdyZSBwYXNzZWQgYGZhbHNlYCwKCQkJCS8vIHRoZW4gcmVtb3ZlIHRoZSB3aG9sZSBjbGFzc25hbWUgKGlmIHRoZXJlIHdhcyBvbmUsIHRoZSBhYm92ZSBzYXZlZCBpdCkuCgkJCQkvLyBPdGhlcndpc2UgYnJpbmcgYmFjayB3aGF0ZXZlciB3YXMgcHJldmlvdXNseSBzYXZlZCAoaWYgYW55dGhpbmcpLAoJCQkJLy8gZmFsbGluZyBiYWNrIHRvIHRoZSBlbXB0eSBzdHJpbmcgaWYgbm90aGluZyB3YXMgc3RvcmVkLgoJCQkJaWYgKCB0aGlzLnNldEF0dHJpYnV0ZSApIHsKCQkJCQl0aGlzLnNldEF0dHJpYnV0ZSggImNsYXNzIiwKCQkJCQkJY2xhc3NOYW1lIHx8IHZhbHVlID09PSBmYWxzZSA/CgkJCQkJCQkiIiA6CgkJCQkJCQlkYXRhUHJpdi5nZXQoIHRoaXMsICJfX2NsYXNzTmFtZV9fIiApIHx8ICIiCgkJCQkJKTsKCQkJCX0KCQkJfQoJCX0gKTsKCX0sCgoJaGFzQ2xhc3M6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHsKCQl2YXIgY2xhc3NOYW1lLCBlbGVtLAoJCQlpID0gMDsKCgkJY2xhc3NOYW1lID0gIiAiICsgc2VsZWN0b3IgKyAiICI7CgkJd2hpbGUgKCAoIGVsZW0gPSB0aGlzWyBpKysgXSApICkgewoJCQlpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgJiYKCQkJCSggIiAiICsgc3RyaXBBbmRDb2xsYXBzZSggZ2V0Q2xhc3MoIGVsZW0gKSApICsgIiAiICkuaW5kZXhPZiggY2xhc3NOYW1lICkgPiAtMSApIHsKCQkJCXJldHVybiB0cnVlOwoJCQl9CgkJfQoKCQlyZXR1cm4gZmFsc2U7Cgl9Cn0gKTsKCgoKCnZhciBycmV0dXJuID0gL1xyL2c7CgpqUXVlcnkuZm4uZXh0ZW5kKCB7Cgl2YWw6IGZ1bmN0aW9uKCB2YWx1ZSApIHsKCQl2YXIgaG9va3MsIHJldCwgdmFsdWVJc0Z1bmN0aW9uLAoJCQllbGVtID0gdGhpc1sgMCBdOwoKCQlpZiAoICFhcmd1bWVudHMubGVuZ3RoICkgewoJCQlpZiAoIGVsZW0gKSB7CgkJCQlob29rcyA9IGpRdWVyeS52YWxIb29rc1sgZWxlbS50eXBlIF0gfHwKCQkJCQlqUXVlcnkudmFsSG9va3NbIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSBdOwoKCQkJCWlmICggaG9va3MgJiYKCQkJCQkiZ2V0IiBpbiBob29rcyAmJgoJCQkJCSggcmV0ID0gaG9va3MuZ2V0KCBlbGVtLCAidmFsdWUiICkgKSAhPT0gdW5kZWZpbmVkCgkJCQkpIHsKCQkJCQlyZXR1cm4gcmV0OwoJCQkJfQoKCQkJCXJldCA9IGVsZW0udmFsdWU7CgoJCQkJLy8gSGFuZGxlIG1vc3QgY29tbW9uIHN0cmluZyBjYXNlcwoJCQkJaWYgKCB0eXBlb2YgcmV0ID09PSAic3RyaW5nIiApIHsKCQkJCQlyZXR1cm4gcmV0LnJlcGxhY2UoIHJyZXR1cm4sICIiICk7CgkJCQl9CgoJCQkJLy8gSGFuZGxlIGNhc2VzIHdoZXJlIHZhbHVlIGlzIG51bGwvdW5kZWYgb3IgbnVtYmVyCgkJCQlyZXR1cm4gcmV0ID09IG51bGwgPyAiIiA6IHJldDsKCQkJfQoKCQkJcmV0dXJuOwoJCX0KCgkJdmFsdWVJc0Z1bmN0aW9uID0gaXNGdW5jdGlvbiggdmFsdWUgKTsKCgkJcmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7CgkJCXZhciB2YWw7CgoJCQlpZiAoIHRoaXMubm9kZVR5cGUgIT09IDEgKSB7CgkJCQlyZXR1cm47CgkJCX0KCgkJCWlmICggdmFsdWVJc0Z1bmN0aW9uICkgewoJCQkJdmFsID0gdmFsdWUuY2FsbCggdGhpcywgaSwgalF1ZXJ5KCB0aGlzICkudmFsKCkgKTsKCQkJfSBlbHNlIHsKCQkJCXZhbCA9IHZhbHVlOwoJCQl9CgoJCQkvLyBUcmVhdCBudWxsL3VuZGVmaW5lZCBhcyAiIjsgY29udmVydCBudW1iZXJzIHRvIHN0cmluZwoJCQlpZiAoIHZhbCA9PSBudWxsICkgewoJCQkJdmFsID0gIiI7CgoJCQl9IGVsc2UgaWYgKCB0eXBlb2YgdmFsID09PSAibnVtYmVyIiApIHsKCQkJCXZhbCArPSAiIjsKCgkJCX0gZWxzZSBpZiAoIEFycmF5LmlzQXJyYXkoIHZhbCApICkgewoJCQkJdmFsID0galF1ZXJ5Lm1hcCggdmFsLCBmdW5jdGlvbiggdmFsdWUgKSB7CgkJCQkJcmV0dXJuIHZhbHVlID09IG51bGwgPyAiIiA6IHZhbHVlICsgIiI7CgkJCQl9ICk7CgkJCX0KCgkJCWhvb2tzID0galF1ZXJ5LnZhbEhvb2tzWyB0aGlzLnR5cGUgXSB8fCBqUXVlcnkudmFsSG9va3NbIHRoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKSBdOwoKCQkJLy8gSWYgc2V0IHJldHVybnMgdW5kZWZpbmVkLCBmYWxsIGJhY2sgdG8gbm9ybWFsIHNldHRpbmcKCQkJaWYgKCAhaG9va3MgfHwgISggInNldCIgaW4gaG9va3MgKSB8fCBob29rcy5zZXQoIHRoaXMsIHZhbCwgInZhbHVlIiApID09PSB1bmRlZmluZWQgKSB7CgkJCQl0aGlzLnZhbHVlID0gdmFsOwoJCQl9CgkJfSApOwoJfQp9ICk7CgpqUXVlcnkuZXh0ZW5kKCB7Cgl2YWxIb29rczogewoJCW9wdGlvbjogewoJCQlnZXQ6IGZ1bmN0aW9uKCBlbGVtICkgewoKCQkJCXZhciB2YWwgPSBqUXVlcnkuZmluZC5hdHRyKCBlbGVtLCAidmFsdWUiICk7CgkJCQlyZXR1cm4gdmFsICE9IG51bGwgPwoJCQkJCXZhbCA6CgoJCQkJCS8vIFN1cHBvcnQ6IElFIDw9MTAgLSAxMSBvbmx5CgkJCQkJLy8gb3B0aW9uLnRleHQgdGhyb3dzIGV4Y2VwdGlvbnMgKHRyYWMtMTQ2ODYsIHRyYWMtMTQ4NTgpCgkJCQkJLy8gU3RyaXAgYW5kIGNvbGxhcHNlIHdoaXRlc3BhY2UKCQkJCQkvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyNzdHJpcC1hbmQtY29sbGFwc2Utd2hpdGVzcGFjZQoJCQkJCXN0cmlwQW5kQ29sbGFwc2UoIGpRdWVyeS50ZXh0KCBlbGVtICkgKTsKCQkJfQoJCX0sCgkJc2VsZWN0OiB7CgkJCWdldDogZnVuY3Rpb24oIGVsZW0gKSB7CgkJCQl2YXIgdmFsdWUsIG9wdGlvbiwgaSwKCQkJCQlvcHRpb25zID0gZWxlbS5vcHRpb25zLAoJCQkJCWluZGV4ID0gZWxlbS5zZWxlY3RlZEluZGV4LAoJCQkJCW9uZSA9IGVsZW0udHlwZSA9PT0gInNlbGVjdC1vbmUiLAoJCQkJCXZhbHVlcyA9IG9uZSA/IG51bGwgOiBbXSwKCQkJCQltYXggPSBvbmUgPyBpbmRleCArIDEgOiBvcHRpb25zLmxlbmd0aDsKCgkJCQlpZiAoIGluZGV4IDwgMCApIHsKCQkJCQlpID0gbWF4OwoKCQkJCX0gZWxzZSB7CgkJCQkJaSA9IG9uZSA/IGluZGV4IDogMDsKCQkJCX0KCgkJCQkvLyBMb29wIHRocm91Z2ggYWxsIHRoZSBzZWxlY3RlZCBvcHRpb25zCgkJCQlmb3IgKCA7IGkgPCBtYXg7IGkrKyApIHsKCQkJCQlvcHRpb24gPSBvcHRpb25zWyBpIF07CgoJCQkJCS8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5CgkJCQkJLy8gSUU4LTkgZG9lc24ndCB1cGRhdGUgc2VsZWN0ZWQgYWZ0ZXIgZm9ybSByZXNldCAodHJhYy0yNTUxKQoJCQkJCWlmICggKCBvcHRpb24uc2VsZWN0ZWQgfHwgaSA9PT0gaW5kZXggKSAmJgoKCQkJCQkJCS8vIERvbid0IHJldHVybiBvcHRpb25zIHRoYXQgYXJlIGRpc2FibGVkIG9yIGluIGEgZGlzYWJsZWQgb3B0Z3JvdXAKCQkJCQkJCSFvcHRpb24uZGlzYWJsZWQgJiYKCQkJCQkJCSggIW9wdGlvbi5wYXJlbnROb2RlLmRpc2FibGVkIHx8CgkJCQkJCQkJIW5vZGVOYW1lKCBvcHRpb24ucGFyZW50Tm9kZSwgIm9wdGdyb3VwIiApICkgKSB7CgoJCQkJCQkvLyBHZXQgdGhlIHNwZWNpZmljIHZhbHVlIGZvciB0aGUgb3B0aW9uCgkJCQkJCXZhbHVlID0galF1ZXJ5KCBvcHRpb24gKS52YWwoKTsKCgkJCQkJCS8vIFdlIGRvbid0IG5lZWQgYW4gYXJyYXkgZm9yIG9uZSBzZWxlY3RzCgkJCQkJCWlmICggb25lICkgewoJCQkJCQkJcmV0dXJuIHZhbHVlOwoJCQkJCQl9CgoJCQkJCQkvLyBNdWx0aS1TZWxlY3RzIHJldHVybiBhbiBhcnJheQoJCQkJCQl2YWx1ZXMucHVzaCggdmFsdWUgKTsKCQkJCQl9CgkJCQl9CgoJCQkJcmV0dXJuIHZhbHVlczsKCQkJfSwKCgkJCXNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkgewoJCQkJdmFyIG9wdGlvblNldCwgb3B0aW9uLAoJCQkJCW9wdGlvbnMgPSBlbGVtLm9wdGlvbnMsCgkJCQkJdmFsdWVzID0galF1ZXJ5Lm1ha2VBcnJheSggdmFsdWUgKSwKCQkJCQlpID0gb3B0aW9ucy5sZW5ndGg7CgoJCQkJd2hpbGUgKCBpLS0gKSB7CgkJCQkJb3B0aW9uID0gb3B0aW9uc1sgaSBdOwoKCQkJCQkvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25kLWFzc2lnbiAqLwoKCQkJCQlpZiAoIG9wdGlvbi5zZWxlY3RlZCA9CgkJCQkJCWpRdWVyeS5pbkFycmF5KCBqUXVlcnkudmFsSG9va3Mub3B0aW9uLmdldCggb3B0aW9uICksIHZhbHVlcyApID4gLTEKCQkJCQkpIHsKCQkJCQkJb3B0aW9uU2V0ID0gdHJ1ZTsKCQkJCQl9CgoJCQkJCS8qIGVzbGludC1lbmFibGUgbm8tY29uZC1hc3NpZ24gKi8KCQkJCX0KCgkJCQkvLyBGb3JjZSBicm93c2VycyB0byBiZWhhdmUgY29uc2lzdGVudGx5IHdoZW4gbm9uLW1hdGNoaW5nIHZhbHVlIGlzIHNldAoJCQkJaWYgKCAhb3B0aW9uU2V0ICkgewoJCQkJCWVsZW0uc2VsZWN0ZWRJbmRleCA9IC0xOwoJCQkJfQoJCQkJcmV0dXJuIHZhbHVlczsKCQkJfQoJCX0KCX0KfSApOwoKLy8gUmFkaW9zIGFuZCBjaGVja2JveGVzIGdldHRlci9zZXR0ZXIKalF1ZXJ5LmVhY2goIFsgInJhZGlvIiwgImNoZWNrYm94IiBdLCBmdW5jdGlvbigpIHsKCWpRdWVyeS52YWxIb29rc1sgdGhpcyBdID0gewoJCXNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkgewoJCQlpZiAoIEFycmF5LmlzQXJyYXkoIHZhbHVlICkgKSB7CgkJCQlyZXR1cm4gKCBlbGVtLmNoZWNrZWQgPSBqUXVlcnkuaW5BcnJheSggalF1ZXJ5KCBlbGVtICkudmFsKCksIHZhbHVlICkgPiAtMSApOwoJCQl9CgkJfQoJfTsKCWlmICggIXN1cHBvcnQuY2hlY2tPbiApIHsKCQlqUXVlcnkudmFsSG9va3NbIHRoaXMgXS5nZXQgPSBmdW5jdGlvbiggZWxlbSApIHsKCQkJcmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKCAidmFsdWUiICkgPT09IG51bGwgPyAib24iIDogZWxlbS52YWx1ZTsKCQl9OwoJfQp9ICk7CgoKCgovLyBSZXR1cm4galF1ZXJ5IGZvciBhdHRyaWJ1dGVzLW9ubHkgaW5jbHVzaW9uCnZhciBsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbjsKCnZhciBub25jZSA9IHsgZ3VpZDogRGF0ZS5ub3coKSB9OwoKdmFyIHJxdWVyeSA9ICggL1w/LyApOwoKCgovLyBDcm9zcy1icm93c2VyIHhtbCBwYXJzaW5nCmpRdWVyeS5wYXJzZVhNTCA9IGZ1bmN0aW9uKCBkYXRhICkgewoJdmFyIHhtbCwgcGFyc2VyRXJyb3JFbGVtOwoJaWYgKCAhZGF0YSB8fCB0eXBlb2YgZGF0YSAhPT0gInN0cmluZyIgKSB7CgkJcmV0dXJuIG51bGw7Cgl9CgoJLy8gU3VwcG9ydDogSUUgOSAtIDExIG9ubHkKCS8vIElFIHRocm93cyBvbiBwYXJzZUZyb21TdHJpbmcgd2l0aCBpbnZhbGlkIGlucHV0LgoJdHJ5IHsKCQl4bWwgPSAoIG5ldyB3aW5kb3cuRE9NUGFyc2VyKCkgKS5wYXJzZUZyb21TdHJpbmcoIGRhdGEsICJ0ZXh0L3htbCIgKTsKCX0gY2F0Y2ggKCBlICkge30KCglwYXJzZXJFcnJvckVsZW0gPSB4bWwgJiYgeG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCAicGFyc2VyZXJyb3IiIClbIDAgXTsKCWlmICggIXhtbCB8fCBwYXJzZXJFcnJvckVsZW0gKSB7CgkJalF1ZXJ5LmVycm9yKCAiSW52YWxpZCBYTUw6ICIgKyAoCgkJCXBhcnNlckVycm9yRWxlbSA/CgkJCQlqUXVlcnkubWFwKCBwYXJzZXJFcnJvckVsZW0uY2hpbGROb2RlcywgZnVuY3Rpb24oIGVsICkgewoJCQkJCXJldHVybiBlbC50ZXh0Q29udGVudDsKCQkJCX0gKS5qb2luKCAiXG4iICkgOgoJCQkJZGF0YQoJCSkgKTsKCX0KCXJldHVybiB4bWw7Cn07CgoKdmFyIHJmb2N1c01vcnBoID0gL14oPzpmb2N1c2luZm9jdXN8Zm9jdXNvdXRibHVyKSQvLAoJc3RvcFByb3BhZ2F0aW9uQ2FsbGJhY2sgPSBmdW5jdGlvbiggZSApIHsKCQllLnN0b3BQcm9wYWdhdGlvbigpOwoJfTsKCmpRdWVyeS5leHRlbmQoIGpRdWVyeS5ldmVudCwgewoKCXRyaWdnZXI6IGZ1bmN0aW9uKCBldmVudCwgZGF0YSwgZWxlbSwgb25seUhhbmRsZXJzICkgewoKCQl2YXIgaSwgY3VyLCB0bXAsIGJ1YmJsZVR5cGUsIG9udHlwZSwgaGFuZGxlLCBzcGVjaWFsLCBsYXN0RWxlbWVudCwKCQkJZXZlbnRQYXRoID0gWyBlbGVtIHx8IGRvY3VtZW50IF0sCgkJCXR5cGUgPSBoYXNPd24uY2FsbCggZXZlbnQsICJ0eXBlIiApID8gZXZlbnQudHlwZSA6IGV2ZW50LAoJCQluYW1lc3BhY2VzID0gaGFzT3duLmNhbGwoIGV2ZW50LCAibmFtZXNwYWNlIiApID8gZXZlbnQubmFtZXNwYWNlLnNwbGl0KCAiLiIgKSA6IFtdOwoKCQljdXIgPSBsYXN0RWxlbWVudCA9IHRtcCA9IGVsZW0gPSBlbGVtIHx8IGRvY3VtZW50OwoKCQkvLyBEb24ndCBkbyBldmVudHMgb24gdGV4dCBhbmQgY29tbWVudCBub2RlcwoJCWlmICggZWxlbS5ub2RlVHlwZSA9PT0gMyB8fCBlbGVtLm5vZGVUeXBlID09PSA4ICkgewoJCQlyZXR1cm47CgkJfQoKCQkvLyBmb2N1cy9ibHVyIG1vcnBocyB0byBmb2N1c2luL291dDsgZW5zdXJlIHdlJ3JlIG5vdCBmaXJpbmcgdGhlbSByaWdodCBub3cKCQlpZiAoIHJmb2N1c01vcnBoLnRlc3QoIHR5cGUgKyBqUXVlcnkuZXZlbnQudHJpZ2dlcmVkICkgKSB7CgkJCXJldHVybjsKCQl9CgoJCWlmICggdHlwZS5pbmRleE9mKCAiLiIgKSA+IC0xICkgewoKCQkJLy8gTmFtZXNwYWNlZCB0cmlnZ2VyOyBjcmVhdGUgYSByZWdleHAgdG8gbWF0Y2ggZXZlbnQgdHlwZSBpbiBoYW5kbGUoKQoJCQluYW1lc3BhY2VzID0gdHlwZS5zcGxpdCggIi4iICk7CgkJCXR5cGUgPSBuYW1lc3BhY2VzLnNoaWZ0KCk7CgkJCW5hbWVzcGFjZXMuc29ydCgpOwoJCX0KCQlvbnR5cGUgPSB0eXBlLmluZGV4T2YoICI6IiApIDwgMCAmJiAib24iICsgdHlwZTsKCgkJLy8gQ2FsbGVyIGNhbiBwYXNzIGluIGEgalF1ZXJ5LkV2ZW50IG9iamVjdCwgT2JqZWN0LCBvciBqdXN0IGFuIGV2ZW50IHR5cGUgc3RyaW5nCgkJZXZlbnQgPSBldmVudFsgalF1ZXJ5LmV4cGFuZG8gXSA/CgkJCWV2ZW50IDoKCQkJbmV3IGpRdWVyeS5FdmVudCggdHlwZSwgdHlwZW9mIGV2ZW50ID09PSAib2JqZWN0IiAmJiBldmVudCApOwoKCQkvLyBUcmlnZ2VyIGJpdG1hc2s6ICYgMSBmb3IgbmF0aXZlIGhhbmRsZXJzOyAmIDIgZm9yIGpRdWVyeSAoYWx3YXlzIHRydWUpCgkJZXZlbnQuaXNUcmlnZ2VyID0gb25seUhhbmRsZXJzID8gMiA6IDM7CgkJZXZlbnQubmFtZXNwYWNlID0gbmFtZXNwYWNlcy5qb2luKCAiLiIgKTsKCQlldmVudC5ybmFtZXNwYWNlID0gZXZlbnQubmFtZXNwYWNlID8KCQkJbmV3IFJlZ0V4cCggIihefFxcLikiICsgbmFtZXNwYWNlcy5qb2luKCAiXFwuKD86LipcXC58KSIgKSArICIoXFwufCQpIiApIDoKCQkJbnVsbDsKCgkJLy8gQ2xlYW4gdXAgdGhlIGV2ZW50IGluIGNhc2UgaXQgaXMgYmVpbmcgcmV1c2VkCgkJZXZlbnQucmVzdWx0ID0gdW5kZWZpbmVkOwoJCWlmICggIWV2ZW50LnRhcmdldCApIHsKCQkJZXZlbnQudGFyZ2V0ID0gZWxlbTsKCQl9CgoJCS8vIENsb25lIGFueSBpbmNvbWluZyBkYXRhIGFuZCBwcmVwZW5kIHRoZSBldmVudCwgY3JlYXRpbmcgdGhlIGhhbmRsZXIgYXJnIGxpc3QKCQlkYXRhID0gZGF0YSA9PSBudWxsID8KCQkJWyBldmVudCBdIDoKCQkJalF1ZXJ5Lm1ha2VBcnJheSggZGF0YSwgWyBldmVudCBdICk7CgoJCS8vIEFsbG93IHNwZWNpYWwgZXZlbnRzIHRvIGRyYXcgb3V0c2lkZSB0aGUgbGluZXMKCQlzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTsKCQlpZiAoICFvbmx5SGFuZGxlcnMgJiYgc3BlY2lhbC50cmlnZ2VyICYmIHNwZWNpYWwudHJpZ2dlci5hcHBseSggZWxlbSwgZGF0YSApID09PSBmYWxzZSApIHsKCQkJcmV0dXJuOwoJCX0KCgkJLy8gRGV0ZXJtaW5lIGV2ZW50IHByb3BhZ2F0aW9uIHBhdGggaW4gYWR2YW5jZSwgcGVyIFczQyBldmVudHMgc3BlYyAodHJhYy05OTUxKQoJCS8vIEJ1YmJsZSB1cCB0byBkb2N1bWVudCwgdGhlbiB0byB3aW5kb3c7IHdhdGNoIGZvciBhIGdsb2JhbCBvd25lckRvY3VtZW50IHZhciAodHJhYy05NzI0KQoJCWlmICggIW9ubHlIYW5kbGVycyAmJiAhc3BlY2lhbC5ub0J1YmJsZSAmJiAhaXNXaW5kb3coIGVsZW0gKSApIHsKCgkJCWJ1YmJsZVR5cGUgPSBzcGVjaWFsLmRlbGVnYXRlVHlwZSB8fCB0eXBlOwoJCQlpZiAoICFyZm9jdXNNb3JwaC50ZXN0KCBidWJibGVUeXBlICsgdHlwZSApICkgewoJCQkJY3VyID0gY3VyLnBhcmVudE5vZGU7CgkJCX0KCQkJZm9yICggOyBjdXI7IGN1ciA9IGN1ci5wYXJlbnROb2RlICkgewoJCQkJZXZlbnRQYXRoLnB1c2goIGN1ciApOwoJCQkJdG1wID0gY3VyOwoJCQl9CgoJCQkvLyBPbmx5IGFkZCB3aW5kb3cgaWYgd2UgZ290IHRvIGRvY3VtZW50IChlLmcuLCBub3QgcGxhaW4gb2JqIG9yIGRldGFjaGVkIERPTSkKCQkJaWYgKCB0bXAgPT09ICggZWxlbS5vd25lckRvY3VtZW50IHx8IGRvY3VtZW50ICkgKSB7CgkJCQlldmVudFBhdGgucHVzaCggdG1wLmRlZmF1bHRWaWV3IHx8IHRtcC5wYXJlbnRXaW5kb3cgfHwgd2luZG93ICk7CgkJCX0KCQl9CgoJCS8vIEZpcmUgaGFuZGxlcnMgb24gdGhlIGV2ZW50IHBhdGgKCQlpID0gMDsKCQl3aGlsZSAoICggY3VyID0gZXZlbnRQYXRoWyBpKysgXSApICYmICFldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpICkgewoJCQlsYXN0RWxlbWVudCA9IGN1cjsKCQkJZXZlbnQudHlwZSA9IGkgPiAxID8KCQkJCWJ1YmJsZVR5cGUgOgoJCQkJc3BlY2lhbC5iaW5kVHlwZSB8fCB0eXBlOwoKCQkJLy8galF1ZXJ5IGhhbmRsZXIKCQkJaGFuZGxlID0gKCBkYXRhUHJpdi5nZXQoIGN1ciwgImV2ZW50cyIgKSB8fCBPYmplY3QuY3JlYXRlKCBudWxsICkgKVsgZXZlbnQudHlwZSBdICYmCgkJCQlkYXRhUHJpdi5nZXQoIGN1ciwgImhhbmRsZSIgKTsKCQkJaWYgKCBoYW5kbGUgKSB7CgkJCQloYW5kbGUuYXBwbHkoIGN1ciwgZGF0YSApOwoJCQl9CgoJCQkvLyBOYXRpdmUgaGFuZGxlcgoJCQloYW5kbGUgPSBvbnR5cGUgJiYgY3VyWyBvbnR5cGUgXTsKCQkJaWYgKCBoYW5kbGUgJiYgaGFuZGxlLmFwcGx5ICYmIGFjY2VwdERhdGEoIGN1ciApICkgewoJCQkJZXZlbnQucmVzdWx0ID0gaGFuZGxlLmFwcGx5KCBjdXIsIGRhdGEgKTsKCQkJCWlmICggZXZlbnQucmVzdWx0ID09PSBmYWxzZSApIHsKCQkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJfQoJCQl9CgkJfQoJCWV2ZW50LnR5cGUgPSB0eXBlOwoKCQkvLyBJZiBub2JvZHkgcHJldmVudGVkIHRoZSBkZWZhdWx0IGFjdGlvbiwgZG8gaXQgbm93CgkJaWYgKCAhb25seUhhbmRsZXJzICYmICFldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSApIHsKCgkJCWlmICggKCAhc3BlY2lhbC5fZGVmYXVsdCB8fAoJCQkJc3BlY2lhbC5fZGVmYXVsdC5hcHBseSggZXZlbnRQYXRoLnBvcCgpLCBkYXRhICkgPT09IGZhbHNlICkgJiYKCQkJCWFjY2VwdERhdGEoIGVsZW0gKSApIHsKCgkJCQkvLyBDYWxsIGEgbmF0aXZlIERPTSBtZXRob2Qgb24gdGhlIHRhcmdldCB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgdGhlIGV2ZW50LgoJCQkJLy8gRG9uJ3QgZG8gZGVmYXVsdCBhY3Rpb25zIG9uIHdpbmRvdywgdGhhdCdzIHdoZXJlIGdsb2JhbCB2YXJpYWJsZXMgYmUgKHRyYWMtNjE3MCkKCQkJCWlmICggb250eXBlICYmIGlzRnVuY3Rpb24oIGVsZW1bIHR5cGUgXSApICYmICFpc1dpbmRvdyggZWxlbSApICkgewoKCQkJCQkvLyBEb24ndCByZS10cmlnZ2VyIGFuIG9uRk9PIGV2ZW50IHdoZW4gd2UgY2FsbCBpdHMgRk9PKCkgbWV0aG9kCgkJCQkJdG1wID0gZWxlbVsgb250eXBlIF07CgoJCQkJCWlmICggdG1wICkgewoJCQkJCQllbGVtWyBvbnR5cGUgXSA9IG51bGw7CgkJCQkJfQoKCQkJCQkvLyBQcmV2ZW50IHJlLXRyaWdnZXJpbmcgb2YgdGhlIHNhbWUgZXZlbnQsIHNpbmNlIHdlIGFscmVhZHkgYnViYmxlZCBpdCBhYm92ZQoJCQkJCWpRdWVyeS5ldmVudC50cmlnZ2VyZWQgPSB0eXBlOwoKCQkJCQlpZiAoIGV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7CgkJCQkJCWxhc3RFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoIHR5cGUsIHN0b3BQcm9wYWdhdGlvbkNhbGxiYWNrICk7CgkJCQkJfQoKCQkJCQllbGVtWyB0eXBlIF0oKTsKCgkJCQkJaWYgKCBldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpICkgewoJCQkJCQlsYXN0RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCB0eXBlLCBzdG9wUHJvcGFnYXRpb25DYWxsYmFjayApOwoJCQkJCX0KCgkJCQkJalF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCA9IHVuZGVmaW5lZDsKCgkJCQkJaWYgKCB0bXAgKSB7CgkJCQkJCWVsZW1bIG9udHlwZSBdID0gdG1wOwoJCQkJCX0KCQkJCX0KCQkJfQoJCX0KCgkJcmV0dXJuIGV2ZW50LnJlc3VsdDsKCX0sCgoJLy8gUGlnZ3liYWNrIG9uIGEgZG9ub3IgZXZlbnQgdG8gc2ltdWxhdGUgYSBkaWZmZXJlbnQgb25lCgkvLyBVc2VkIG9ubHkgZm9yIGBmb2N1cyhpbiB8IG91dClgIGV2ZW50cwoJc2ltdWxhdGU6IGZ1bmN0aW9uKCB0eXBlLCBlbGVtLCBldmVudCApIHsKCQl2YXIgZSA9IGpRdWVyeS5leHRlbmQoCgkJCW5ldyBqUXVlcnkuRXZlbnQoKSwKCQkJZXZlbnQsCgkJCXsKCQkJCXR5cGU6IHR5cGUsCgkJCQlpc1NpbXVsYXRlZDogdHJ1ZQoJCQl9CgkJKTsKCgkJalF1ZXJ5LmV2ZW50LnRyaWdnZXIoIGUsIG51bGwsIGVsZW0gKTsKCX0KCn0gKTsKCmpRdWVyeS5mbi5leHRlbmQoIHsKCgl0cmlnZ2VyOiBmdW5jdGlvbiggdHlwZSwgZGF0YSApIHsKCQlyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHsKCQkJalF1ZXJ5LmV2ZW50LnRyaWdnZXIoIHR5cGUsIGRhdGEsIHRoaXMgKTsKCQl9ICk7Cgl9LAoJdHJpZ2dlckhhbmRsZXI6IGZ1bmN0aW9uKCB0eXBlLCBkYXRhICkgewoJCXZhciBlbGVtID0gdGhpc1sgMCBdOwoJCWlmICggZWxlbSApIHsKCQkJcmV0dXJuIGpRdWVyeS5ldmVudC50cmlnZ2VyKCB0eXBlLCBkYXRhLCBlbGVtLCB0cnVlICk7CgkJfQoJfQp9ICk7CgoKdmFyCglyYnJhY2tldCA9IC9cW1xdJC8sCglyQ1JMRiA9IC9ccj9cbi9nLAoJcnN1Ym1pdHRlclR5cGVzID0gL14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLAoJcnN1Ym1pdHRhYmxlID0gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pOwoKZnVuY3Rpb24gYnVpbGRQYXJhbXMoIHByZWZpeCwgb2JqLCB0cmFkaXRpb25hbCwgYWRkICkgewoJdmFyIG5hbWU7CgoJaWYgKCBBcnJheS5pc0FycmF5KCBvYmogKSApIHsKCgkJLy8gU2VyaWFsaXplIGFycmF5IGl0ZW0uCgkJalF1ZXJ5LmVhY2goIG9iaiwgZnVuY3Rpb24oIGksIHYgKSB7CgkJCWlmICggdHJhZGl0aW9uYWwgfHwgcmJyYWNrZXQudGVzdCggcHJlZml4ICkgKSB7CgoJCQkJLy8gVHJlYXQgZWFjaCBhcnJheSBpdGVtIGFzIGEgc2NhbGFyLgoJCQkJYWRkKCBwcmVmaXgsIHYgKTsKCgkJCX0gZWxzZSB7CgoJCQkJLy8gSXRlbSBpcyBub24tc2NhbGFyIChhcnJheSBvciBvYmplY3QpLCBlbmNvZGUgaXRzIG51bWVyaWMgaW5kZXguCgkJCQlidWlsZFBhcmFtcygKCQkJCQlwcmVmaXggKyAiWyIgKyAoIHR5cGVvZiB2ID09PSAib2JqZWN0IiAmJiB2ICE9IG51bGwgPyBpIDogIiIgKSArICJdIiwKCQkJCQl2LAoJCQkJCXRyYWRpdGlvbmFsLAoJCQkJCWFkZAoJCQkJKTsKCQkJfQoJCX0gKTsKCgl9IGVsc2UgaWYgKCAhdHJhZGl0aW9uYWwgJiYgdG9UeXBlKCBvYmogKSA9PT0gIm9iamVjdCIgKSB7CgoJCS8vIFNlcmlhbGl6ZSBvYmplY3QgaXRlbS4KCQlmb3IgKCBuYW1lIGluIG9iaiApIHsKCQkJYnVpbGRQYXJhbXMoIHByZWZpeCArICJbIiArIG5hbWUgKyAiXSIsIG9ialsgbmFtZSBdLCB0cmFkaXRpb25hbCwgYWRkICk7CgkJfQoKCX0gZWxzZSB7CgoJCS8vIFNlcmlhbGl6ZSBzY2FsYXIgaXRlbS4KCQlhZGQoIHByZWZpeCwgb2JqICk7Cgl9Cn0KCi8vIFNlcmlhbGl6ZSBhbiBhcnJheSBvZiBmb3JtIGVsZW1lbnRzIG9yIGEgc2V0IG9mCi8vIGtleS92YWx1ZXMgaW50byBhIHF1ZXJ5IHN0cmluZwpqUXVlcnkucGFyYW0gPSBmdW5jdGlvbiggYSwgdHJhZGl0aW9uYWwgKSB7Cgl2YXIgcHJlZml4LAoJCXMgPSBbXSwKCQlhZGQgPSBmdW5jdGlvbigga2V5LCB2YWx1ZU9yRnVuY3Rpb24gKSB7CgoJCQkvLyBJZiB2YWx1ZSBpcyBhIGZ1bmN0aW9uLCBpbnZva2UgaXQgYW5kIHVzZSBpdHMgcmV0dXJuIHZhbHVlCgkJCXZhciB2YWx1ZSA9IGlzRnVuY3Rpb24oIHZhbHVlT3JGdW5jdGlvbiApID8KCQkJCXZhbHVlT3JGdW5jdGlvbigpIDoKCQkJCXZhbHVlT3JGdW5jdGlvbjsKCgkJCXNbIHMubGVuZ3RoIF0gPSBlbmNvZGVVUklDb21wb25lbnQoIGtleSApICsgIj0iICsKCQkJCWVuY29kZVVSSUNvbXBvbmVudCggdmFsdWUgPT0gbnVsbCA/ICIiIDogdmFsdWUgKTsKCQl9OwoKCWlmICggYSA9PSBudWxsICkgewoJCXJldHVybiAiIjsKCX0KCgkvLyBJZiBhbiBhcnJheSB3YXMgcGFzc2VkIGluLCBhc3N1bWUgdGhhdCBpdCBpcyBhbiBhcnJheSBvZiBmb3JtIGVsZW1lbnRzLgoJaWYgKCBBcnJheS5pc0FycmF5KCBhICkgfHwgKCBhLmpxdWVyeSAmJiAhalF1ZXJ5LmlzUGxhaW5PYmplY3QoIGEgKSApICkgewoKCQkvLyBTZXJpYWxpemUgdGhlIGZvcm0gZWxlbWVudHMKCQlqUXVlcnkuZWFjaCggYSwgZnVuY3Rpb24oKSB7CgkJCWFkZCggdGhpcy5uYW1lLCB0aGlzLnZhbHVlICk7CgkJfSApOwoKCX0gZWxzZSB7CgoJCS8vIElmIHRyYWRpdGlvbmFsLCBlbmNvZGUgdGhlICJvbGQiIHdheSAodGhlIHdheSAxLjMuMiBvciBvbGRlcgoJCS8vIGRpZCBpdCksIG90aGVyd2lzZSBlbmNvZGUgcGFyYW1zIHJlY3Vyc2l2ZWx5LgoJCWZvciAoIHByZWZpeCBpbiBhICkgewoJCQlidWlsZFBhcmFtcyggcHJlZml4LCBhWyBwcmVmaXggXSwgdHJhZGl0aW9uYWwsIGFkZCApOwoJCX0KCX0KCgkvLyBSZXR1cm4gdGhlIHJlc3VsdGluZyBzZXJpYWxpemF0aW9uCglyZXR1cm4gcy5qb2luKCAiJiIgKTsKfTsKCmpRdWVyeS5mbi5leHRlbmQoIHsKCXNlcmlhbGl6ZTogZnVuY3Rpb24oKSB7CgkJcmV0dXJuIGpRdWVyeS5wYXJhbSggdGhpcy5zZXJpYWxpemVBcnJheSgpICk7Cgl9LAoJc2VyaWFsaXplQXJyYXk6IGZ1bmN0aW9uKCkgewoJCXJldHVybiB0aGlzLm1hcCggZnVuY3Rpb24oKSB7CgoJCQkvLyBDYW4gYWRkIHByb3BIb29rIGZvciAiZWxlbWVudHMiIHRvIGZpbHRlciBvciBhZGQgZm9ybSBlbGVtZW50cwoJCQl2YXIgZWxlbWVudHMgPSBqUXVlcnkucHJvcCggdGhpcywgImVsZW1lbnRzIiApOwoJCQlyZXR1cm4gZWxlbWVudHMgPyBqUXVlcnkubWFrZUFycmF5KCBlbGVtZW50cyApIDogdGhpczsKCQl9ICkuZmlsdGVyKCBmdW5jdGlvbigpIHsKCQkJdmFyIHR5cGUgPSB0aGlzLnR5cGU7CgoJCQkvLyBVc2UgLmlzKCAiOmRpc2FibGVkIiApIHNvIHRoYXQgZmllbGRzZXRbZGlzYWJsZWRdIHdvcmtzCgkJCXJldHVybiB0aGlzLm5hbWUgJiYgIWpRdWVyeSggdGhpcyApLmlzKCAiOmRpc2FibGVkIiApICYmCgkJCQlyc3VibWl0dGFibGUudGVzdCggdGhpcy5ub2RlTmFtZSApICYmICFyc3VibWl0dGVyVHlwZXMudGVzdCggdHlwZSApICYmCgkJCQkoIHRoaXMuY2hlY2tlZCB8fCAhcmNoZWNrYWJsZVR5cGUudGVzdCggdHlwZSApICk7CgkJfSApLm1hcCggZnVuY3Rpb24oIF9pLCBlbGVtICkgewoJCQl2YXIgdmFsID0galF1ZXJ5KCB0aGlzICkudmFsKCk7CgoJCQlpZiAoIHZhbCA9PSBudWxsICkgewoJCQkJcmV0dXJuIG51bGw7CgkJCX0KCgkJCWlmICggQXJyYXkuaXNBcnJheSggdmFsICkgKSB7CgkJCQlyZXR1cm4galF1ZXJ5Lm1hcCggdmFsLCBmdW5jdGlvbiggdmFsICkgewoJCQkJCXJldHVybiB7IG5hbWU6IGVsZW0ubmFtZSwgdmFsdWU6IHZhbC5yZXBsYWNlKCByQ1JMRiwgIlxyXG4iICkgfTsKCQkJCX0gKTsKCQkJfQoKCQkJcmV0dXJuIHsgbmFtZTogZWxlbS5uYW1lLCB2YWx1ZTogdmFsLnJlcGxhY2UoIHJDUkxGLCAiXHJcbiIgKSB9OwoJCX0gKS5nZXQoKTsKCX0KfSApOwoKCnZhcgoJcjIwID0gLyUyMC9nLAoJcmhhc2ggPSAvIy4qJC8sCglyYW50aUNhY2hlID0gLyhbPyZdKV89W14mXSovLAoJcmhlYWRlcnMgPSAvXiguKj8pOlsgXHRdKihbXlxyXG5dKikkL21nLAoKCS8vIHRyYWMtNzY1MywgdHJhYy04MTI1LCB0cmFjLTgxNTI6IGxvY2FsIHByb3RvY29sIGRldGVjdGlvbgoJcmxvY2FsUHJvdG9jb2wgPSAvXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLywKCXJub0NvbnRlbnQgPSAvXig/OkdFVHxIRUFEKSQvLAoJcnByb3RvY29sID0gL15cL1wvLywKCgkvKiBQcmVmaWx0ZXJzCgkgKiAxKSBUaGV5IGFyZSB1c2VmdWwgdG8gaW50cm9kdWNlIGN1c3RvbSBkYXRhVHlwZXMgKHNlZSBhamF4L2pzb25wLmpzIGZvciBhbiBleGFtcGxlKQoJICogMikgVGhlc2UgYXJlIGNhbGxlZDoKCSAqICAgIC0gQkVGT1JFIGFza2luZyBmb3IgYSB0cmFuc3BvcnQKCSAqICAgIC0gQUZURVIgcGFyYW0gc2VyaWFsaXphdGlvbiAocy5kYXRhIGlzIGEgc3RyaW5nIGlmIHMucHJvY2Vzc0RhdGEgaXMgdHJ1ZSkKCSAqIDMpIGtleSBpcyB0aGUgZGF0YVR5cGUKCSAqIDQpIHRoZSBjYXRjaGFsbCBzeW1ib2wgIioiIGNhbiBiZSB1c2VkCgkgKiA1KSBleGVjdXRpb24gd2lsbCBzdGFydCB3aXRoIHRyYW5zcG9ydCBkYXRhVHlwZSBhbmQgVEhFTiBjb250aW51ZSBkb3duIHRvICIqIiBpZiBuZWVkZWQKCSAqLwoJcHJlZmlsdGVycyA9IHt9LAoKCS8qIFRyYW5zcG9ydHMgYmluZGluZ3MKCSAqIDEpIGtleSBpcyB0aGUgZGF0YVR5cGUKCSAqIDIpIHRoZSBjYXRjaGFsbCBzeW1ib2wgIioiIGNhbiBiZSB1c2VkCgkgKiAzKSBzZWxlY3Rpb24gd2lsbCBzdGFydCB3aXRoIHRyYW5zcG9ydCBkYXRhVHlwZSBhbmQgVEhFTiBnbyB0byAiKiIgaWYgbmVlZGVkCgkgKi8KCXRyYW5zcG9ydHMgPSB7fSwKCgkvLyBBdm9pZCBjb21tZW50LXByb2xvZyBjaGFyIHNlcXVlbmNlICh0cmFjLTEwMDk4KTsgbXVzdCBhcHBlYXNlIGxpbnQgYW5kIGV2YWRlIGNvbXByZXNzaW9uCglhbGxUeXBlcyA9ICIqLyIuY29uY2F0KCAiKiIgKSwKCgkvLyBBbmNob3IgdGFnIGZvciBwYXJzaW5nIHRoZSBkb2N1bWVudCBvcmlnaW4KCW9yaWdpbkFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICJhIiApOwoKb3JpZ2luQW5jaG9yLmhyZWYgPSBsb2NhdGlvbi5ocmVmOwoKLy8gQmFzZSAiY29uc3RydWN0b3IiIGZvciBqUXVlcnkuYWpheFByZWZpbHRlciBhbmQgalF1ZXJ5LmFqYXhUcmFuc3BvcnQKZnVuY3Rpb24gYWRkVG9QcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBzdHJ1Y3R1cmUgKSB7CgoJLy8gZGF0YVR5cGVFeHByZXNzaW9uIGlzIG9wdGlvbmFsIGFuZCBkZWZhdWx0cyB0byAiKiIKCXJldHVybiBmdW5jdGlvbiggZGF0YVR5cGVFeHByZXNzaW9uLCBmdW5jICkgewoKCQlpZiAoIHR5cGVvZiBkYXRhVHlwZUV4cHJlc3Npb24gIT09ICJzdHJpbmciICkgewoJCQlmdW5jID0gZGF0YVR5cGVFeHByZXNzaW9uOwoJCQlkYXRhVHlwZUV4cHJlc3Npb24gPSAiKiI7CgkJfQoKCQl2YXIgZGF0YVR5cGUsCgkJCWkgPSAwLAoJCQlkYXRhVHlwZXMgPSBkYXRhVHlwZUV4cHJlc3Npb24udG9Mb3dlckNhc2UoKS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFtdOwoKCQlpZiAoIGlzRnVuY3Rpb24oIGZ1bmMgKSApIHsKCgkJCS8vIEZvciBlYWNoIGRhdGFUeXBlIGluIHRoZSBkYXRhVHlwZUV4cHJlc3Npb24KCQkJd2hpbGUgKCAoIGRhdGFUeXBlID0gZGF0YVR5cGVzWyBpKysgXSApICkgewoKCQkJCS8vIFByZXBlbmQgaWYgcmVxdWVzdGVkCgkJCQlpZiAoIGRhdGFUeXBlWyAwIF0gPT09ICIrIiApIHsKCQkJCQlkYXRhVHlwZSA9IGRhdGFUeXBlLnNsaWNlKCAxICkgfHwgIioiOwoJCQkJCSggc3RydWN0dXJlWyBkYXRhVHlwZSBdID0gc3RydWN0dXJlWyBkYXRhVHlwZSBdIHx8IFtdICkudW5zaGlmdCggZnVuYyApOwoKCQkJCS8vIE90aGVyd2lzZSBhcHBlbmQKCQkJCX0gZWxzZSB7CgkJCQkJKCBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gPSBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gfHwgW10gKS5wdXNoKCBmdW5jICk7CgkJCQl9CgkJCX0KCQl9Cgl9Owp9CgovLyBCYXNlIGluc3BlY3Rpb24gZnVuY3Rpb24gZm9yIHByZWZpbHRlcnMgYW5kIHRyYW5zcG9ydHMKZnVuY3Rpb24gaW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHN0cnVjdHVyZSwgb3B0aW9ucywgb3JpZ2luYWxPcHRpb25zLCBqcVhIUiApIHsKCgl2YXIgaW5zcGVjdGVkID0ge30sCgkJc2Vla2luZ1RyYW5zcG9ydCA9ICggc3RydWN0dXJlID09PSB0cmFuc3BvcnRzICk7CgoJZnVuY3Rpb24gaW5zcGVjdCggZGF0YVR5cGUgKSB7CgkJdmFyIHNlbGVjdGVkOwoJCWluc3BlY3RlZFsgZGF0YVR5cGUgXSA9IHRydWU7CgkJalF1ZXJ5LmVhY2goIHN0cnVjdHVyZVsgZGF0YVR5cGUgXSB8fCBbXSwgZnVuY3Rpb24oIF8sIHByZWZpbHRlck9yRmFjdG9yeSApIHsKCQkJdmFyIGRhdGFUeXBlT3JUcmFuc3BvcnQgPSBwcmVmaWx0ZXJPckZhY3RvcnkoIG9wdGlvbnMsIG9yaWdpbmFsT3B0aW9ucywganFYSFIgKTsKCQkJaWYgKCB0eXBlb2YgZGF0YVR5cGVPclRyYW5zcG9ydCA9PT0gInN0cmluZyIgJiYKCQkJCSFzZWVraW5nVHJhbnNwb3J0ICYmICFpbnNwZWN0ZWRbIGRhdGFUeXBlT3JUcmFuc3BvcnQgXSApIHsKCgkJCQlvcHRpb25zLmRhdGFUeXBlcy51bnNoaWZ0KCBkYXRhVHlwZU9yVHJhbnNwb3J0ICk7CgkJCQlpbnNwZWN0KCBkYXRhVHlwZU9yVHJhbnNwb3J0ICk7CgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0gZWxzZSBpZiAoIHNlZWtpbmdUcmFuc3BvcnQgKSB7CgkJCQlyZXR1cm4gISggc2VsZWN0ZWQgPSBkYXRhVHlwZU9yVHJhbnNwb3J0ICk7CgkJCX0KCQl9ICk7CgkJcmV0dXJuIHNlbGVjdGVkOwoJfQoKCXJldHVybiBpbnNwZWN0KCBvcHRpb25zLmRhdGFUeXBlc1sgMCBdICkgfHwgIWluc3BlY3RlZFsgIioiIF0gJiYgaW5zcGVjdCggIioiICk7Cn0KCi8vIEEgc3BlY2lhbCBleHRlbmQgZm9yIGFqYXggb3B0aW9ucwovLyB0aGF0IHRha2VzICJmbGF0IiBvcHRpb25zIChub3QgdG8gYmUgZGVlcCBleHRlbmRlZCkKLy8gRml4ZXMgdHJhYy05ODg3CmZ1bmN0aW9uIGFqYXhFeHRlbmQoIHRhcmdldCwgc3JjICkgewoJdmFyIGtleSwgZGVlcCwKCQlmbGF0T3B0aW9ucyA9IGpRdWVyeS5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnMgfHwge307CgoJZm9yICgga2V5IGluIHNyYyApIHsKCQlpZiAoIHNyY1sga2V5IF0gIT09IHVuZGVmaW5lZCApIHsKCQkJKCBmbGF0T3B0aW9uc1sga2V5IF0gPyB0YXJnZXQgOiAoIGRlZXAgfHwgKCBkZWVwID0ge30gKSApIClbIGtleSBdID0gc3JjWyBrZXkgXTsKCQl9Cgl9CglpZiAoIGRlZXAgKSB7CgkJalF1ZXJ5LmV4dGVuZCggdHJ1ZSwgdGFyZ2V0LCBkZWVwICk7Cgl9CgoJcmV0dXJuIHRhcmdldDsKfQoKLyogSGFuZGxlcyByZXNwb25zZXMgdG8gYW4gYWpheCByZXF1ZXN0OgogKiAtIGZpbmRzIHRoZSByaWdodCBkYXRhVHlwZSAobWVkaWF0ZXMgYmV0d2VlbiBjb250ZW50LXR5cGUgYW5kIGV4cGVjdGVkIGRhdGFUeXBlKQogKiAtIHJldHVybnMgdGhlIGNvcnJlc3BvbmRpbmcgcmVzcG9uc2UKICovCmZ1bmN0aW9uIGFqYXhIYW5kbGVSZXNwb25zZXMoIHMsIGpxWEhSLCByZXNwb25zZXMgKSB7CgoJdmFyIGN0LCB0eXBlLCBmaW5hbERhdGFUeXBlLCBmaXJzdERhdGFUeXBlLAoJCWNvbnRlbnRzID0gcy5jb250ZW50cywKCQlkYXRhVHlwZXMgPSBzLmRhdGFUeXBlczsKCgkvLyBSZW1vdmUgYXV0byBkYXRhVHlwZSBhbmQgZ2V0IGNvbnRlbnQtdHlwZSBpbiB0aGUgcHJvY2VzcwoJd2hpbGUgKCBkYXRhVHlwZXNbIDAgXSA9PT0gIioiICkgewoJCWRhdGFUeXBlcy5zaGlmdCgpOwoJCWlmICggY3QgPT09IHVuZGVmaW5lZCApIHsKCQkJY3QgPSBzLm1pbWVUeXBlIHx8IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKCAiQ29udGVudC1UeXBlIiApOwoJCX0KCX0KCgkvLyBDaGVjayBpZiB3ZSdyZSBkZWFsaW5nIHdpdGggYSBrbm93biBjb250ZW50LXR5cGUKCWlmICggY3QgKSB7CgkJZm9yICggdHlwZSBpbiBjb250ZW50cyApIHsKCQkJaWYgKCBjb250ZW50c1sgdHlwZSBdICYmIGNvbnRlbnRzWyB0eXBlIF0udGVzdCggY3QgKSApIHsKCQkJCWRhdGFUeXBlcy51bnNoaWZ0KCB0eXBlICk7CgkJCQlicmVhazsKCQkJfQoJCX0KCX0KCgkvLyBDaGVjayB0byBzZWUgaWYgd2UgaGF2ZSBhIHJlc3BvbnNlIGZvciB0aGUgZXhwZWN0ZWQgZGF0YVR5cGUKCWlmICggZGF0YVR5cGVzWyAwIF0gaW4gcmVzcG9uc2VzICkgewoJCWZpbmFsRGF0YVR5cGUgPSBkYXRhVHlwZXNbIDAgXTsKCX0gZWxzZSB7CgoJCS8vIFRyeSBjb252ZXJ0aWJsZSBkYXRhVHlwZXMKCQlmb3IgKCB0eXBlIGluIHJlc3BvbnNlcyApIHsKCQkJaWYgKCAhZGF0YVR5cGVzWyAwIF0gfHwgcy5jb252ZXJ0ZXJzWyB0eXBlICsgIiAiICsgZGF0YVR5cGVzWyAwIF0gXSApIHsKCQkJCWZpbmFsRGF0YVR5cGUgPSB0eXBlOwoJCQkJYnJlYWs7CgkJCX0KCQkJaWYgKCAhZmlyc3REYXRhVHlwZSApIHsKCQkJCWZpcnN0RGF0YVR5cGUgPSB0eXBlOwoJCQl9CgkJfQoKCQkvLyBPciBqdXN0IHVzZSBmaXJzdCBvbmUKCQlmaW5hbERhdGFUeXBlID0gZmluYWxEYXRhVHlwZSB8fCBmaXJzdERhdGFUeXBlOwoJfQoKCS8vIElmIHdlIGZvdW5kIGEgZGF0YVR5cGUKCS8vIFdlIGFkZCB0aGUgZGF0YVR5cGUgdG8gdGhlIGxpc3QgaWYgbmVlZGVkCgkvLyBhbmQgcmV0dXJuIHRoZSBjb3JyZXNwb25kaW5nIHJlc3BvbnNlCglpZiAoIGZpbmFsRGF0YVR5cGUgKSB7CgkJaWYgKCBmaW5hbERhdGFUeXBlICE9PSBkYXRhVHlwZXNbIDAgXSApIHsKCQkJZGF0YVR5cGVzLnVuc2hpZnQoIGZpbmFsRGF0YVR5cGUgKTsKCQl9CgkJcmV0dXJuIHJlc3BvbnNlc1sgZmluYWxEYXRhVHlwZSBdOwoJfQp9CgovKiBDaGFpbiBjb252ZXJzaW9ucyBnaXZlbiB0aGUgcmVxdWVzdCBhbmQgdGhlIG9yaWdpbmFsIHJlc3BvbnNlCiAqIEFsc28gc2V0cyB0aGUgcmVzcG9uc2VYWFggZmllbGRzIG9uIHRoZSBqcVhIUiBpbnN0YW5jZQogKi8KZnVuY3Rpb24gYWpheENvbnZlcnQoIHMsIHJlc3BvbnNlLCBqcVhIUiwgaXNTdWNjZXNzICkgewoJdmFyIGNvbnYyLCBjdXJyZW50LCBjb252LCB0bXAsIHByZXYsCgkJY29udmVydGVycyA9IHt9LAoKCQkvLyBXb3JrIHdpdGggYSBjb3B5IG9mIGRhdGFUeXBlcyBpbiBjYXNlIHdlIG5lZWQgdG8gbW9kaWZ5IGl0IGZvciBjb252ZXJzaW9uCgkJZGF0YVR5cGVzID0gcy5kYXRhVHlwZXMuc2xpY2UoKTsKCgkvLyBDcmVhdGUgY29udmVydGVycyBtYXAgd2l0aCBsb3dlcmNhc2VkIGtleXMKCWlmICggZGF0YVR5cGVzWyAxIF0gKSB7CgkJZm9yICggY29udiBpbiBzLmNvbnZlcnRlcnMgKSB7CgkJCWNvbnZlcnRlcnNbIGNvbnYudG9Mb3dlckNhc2UoKSBdID0gcy5jb252ZXJ0ZXJzWyBjb252IF07CgkJfQoJfQoKCWN1cnJlbnQgPSBkYXRhVHlwZXMuc2hpZnQoKTsKCgkvLyBDb252ZXJ0IHRvIGVhY2ggc2VxdWVudGlhbCBkYXRhVHlwZQoJd2hpbGUgKCBjdXJyZW50ICkgewoKCQlpZiAoIHMucmVzcG9uc2VGaWVsZHNbIGN1cnJlbnQgXSApIHsKCQkJanFYSFJbIHMucmVzcG9uc2VGaWVsZHNbIGN1cnJlbnQgXSBdID0gcmVzcG9uc2U7CgkJfQoKCQkvLyBBcHBseSB0aGUgZGF0YUZpbHRlciBpZiBwcm92aWRlZAoJCWlmICggIXByZXYgJiYgaXNTdWNjZXNzICYmIHMuZGF0YUZpbHRlciApIHsKCQkJcmVzcG9uc2UgPSBzLmRhdGFGaWx0ZXIoIHJlc3BvbnNlLCBzLmRhdGFUeXBlICk7CgkJfQoKCQlwcmV2ID0gY3VycmVudDsKCQljdXJyZW50ID0gZGF0YVR5cGVzLnNoaWZ0KCk7CgoJCWlmICggY3VycmVudCApIHsKCgkJCS8vIFRoZXJlJ3Mgb25seSB3b3JrIHRvIGRvIGlmIGN1cnJlbnQgZGF0YVR5cGUgaXMgbm9uLWF1dG8KCQkJaWYgKCBjdXJyZW50ID09PSAiKiIgKSB7CgoJCQkJY3VycmVudCA9IHByZXY7CgoJCQkvLyBDb252ZXJ0IHJlc3BvbnNlIGlmIHByZXYgZGF0YVR5cGUgaXMgbm9uLWF1dG8gYW5kIGRpZmZlcnMgZnJvbSBjdXJyZW50CgkJCX0gZWxzZSBpZiAoIHByZXYgIT09ICIqIiAmJiBwcmV2ICE9PSBjdXJyZW50ICkgewoKCQkJCS8vIFNlZWsgYSBkaXJlY3QgY29udmVydGVyCgkJCQljb252ID0gY29udmVydGVyc1sgcHJldiArICIgIiArIGN1cnJlbnQgXSB8fCBjb252ZXJ0ZXJzWyAiKiAiICsgY3VycmVudCBdOwoKCQkJCS8vIElmIG5vbmUgZm91bmQsIHNlZWsgYSBwYWlyCgkJCQlpZiAoICFjb252ICkgewoJCQkJCWZvciAoIGNvbnYyIGluIGNvbnZlcnRlcnMgKSB7CgoJCQkJCQkvLyBJZiBjb252MiBvdXRwdXRzIGN1cnJlbnQKCQkJCQkJdG1wID0gY29udjIuc3BsaXQoICIgIiApOwoJCQkJCQlpZiAoIHRtcFsgMSBdID09PSBjdXJyZW50ICkgewoKCQkJCQkJCS8vIElmIHByZXYgY2FuIGJlIGNvbnZlcnRlZCB0byBhY2NlcHRlZCBpbnB1dAoJCQkJCQkJY29udiA9IGNvbnZlcnRlcnNbIHByZXYgKyAiICIgKyB0bXBbIDAgXSBdIHx8CgkJCQkJCQkJY29udmVydGVyc1sgIiogIiArIHRtcFsgMCBdIF07CgkJCQkJCQlpZiAoIGNvbnYgKSB7CgoJCQkJCQkJCS8vIENvbmRlbnNlIGVxdWl2YWxlbmNlIGNvbnZlcnRlcnMKCQkJCQkJCQlpZiAoIGNvbnYgPT09IHRydWUgKSB7CgkJCQkJCQkJCWNvbnYgPSBjb252ZXJ0ZXJzWyBjb252MiBdOwoKCQkJCQkJCQkvLyBPdGhlcndpc2UsIGluc2VydCB0aGUgaW50ZXJtZWRpYXRlIGRhdGFUeXBlCgkJCQkJCQkJfSBlbHNlIGlmICggY29udmVydGVyc1sgY29udjIgXSAhPT0gdHJ1ZSApIHsKCQkJCQkJCQkJY3VycmVudCA9IHRtcFsgMCBdOwoJCQkJCQkJCQlkYXRhVHlwZXMudW5zaGlmdCggdG1wWyAxIF0gKTsKCQkJCQkJCQl9CgkJCQkJCQkJYnJlYWs7CgkJCQkJCQl9CgkJCQkJCX0KCQkJCQl9CgkJCQl9CgoJCQkJLy8gQXBwbHkgY29udmVydGVyIChpZiBub3QgYW4gZXF1aXZhbGVuY2UpCgkJCQlpZiAoIGNvbnYgIT09IHRydWUgKSB7CgoJCQkJCS8vIFVubGVzcyBlcnJvcnMgYXJlIGFsbG93ZWQgdG8gYnViYmxlLCBjYXRjaCBhbmQgcmV0dXJuIHRoZW0KCQkJCQlpZiAoIGNvbnYgJiYgcy50aHJvd3MgKSB7CgkJCQkJCXJlc3BvbnNlID0gY29udiggcmVzcG9uc2UgKTsKCQkJCQl9IGVsc2UgewoJCQkJCQl0cnkgewoJCQkJCQkJcmVzcG9uc2UgPSBjb252KCByZXNwb25zZSApOwoJCQkJCQl9IGNhdGNoICggZSApIHsKCQkJCQkJCXJldHVybiB7CgkJCQkJCQkJc3RhdGU6ICJwYXJzZXJlcnJvciIsCgkJCQkJCQkJZXJyb3I6IGNvbnYgPyBlIDogIk5vIGNvbnZlcnNpb24gZnJvbSAiICsgcHJldiArICIgdG8gIiArIGN1cnJlbnQKCQkJCQkJCX07CgkJCQkJCX0KCQkJCQl9CgkJCQl9CgkJCX0KCQl9Cgl9CgoJcmV0dXJuIHsgc3RhdGU6ICJzdWNjZXNzIiwgZGF0YTogcmVzcG9uc2UgfTsKfQoKalF1ZXJ5LmV4dGVuZCggewoKCS8vIENvdW50ZXIgZm9yIGhvbGRpbmcgdGhlIG51bWJlciBvZiBhY3RpdmUgcXVlcmllcwoJYWN0aXZlOiAwLAoKCS8vIExhc3QtTW9kaWZpZWQgaGVhZGVyIGNhY2hlIGZvciBuZXh0IHJlcXVlc3QKCWxhc3RNb2RpZmllZDoge30sCglldGFnOiB7fSwKCglhamF4U2V0dGluZ3M6IHsKCQl1cmw6IGxvY2F0aW9uLmhyZWYsCgkJdHlwZTogIkdFVCIsCgkJaXNMb2NhbDogcmxvY2FsUHJvdG9jb2wudGVzdCggbG9jYXRpb24ucHJvdG9jb2wgKSwKCQlnbG9iYWw6IHRydWUsCgkJcHJvY2Vzc0RhdGE6IHRydWUsCgkJYXN5bmM6IHRydWUsCgkJY29udGVudFR5cGU6ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgiLAoKCQkvKgoJCXRpbWVvdXQ6IDAsCgkJZGF0YTogbnVsbCwKCQlkYXRhVHlwZTogbnVsbCwKCQl1c2VybmFtZTogbnVsbCwKCQlwYXNzd29yZDogbnVsbCwKCQljYWNoZTogbnVsbCwKCQl0aHJvd3M6IGZhbHNlLAoJCXRyYWRpdGlvbmFsOiBmYWxzZSwKCQloZWFkZXJzOiB7fSwKCQkqLwoKCQlhY2NlcHRzOiB7CgkJCSIqIjogYWxsVHlwZXMsCgkJCXRleHQ6ICJ0ZXh0L3BsYWluIiwKCQkJaHRtbDogInRleHQvaHRtbCIsCgkJCXhtbDogImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwiLAoJCQlqc29uOiAiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0IgoJCX0sCgoJCWNvbnRlbnRzOiB7CgkJCXhtbDogL1xieG1sXGIvLAoJCQlodG1sOiAvXGJodG1sLywKCQkJanNvbjogL1xianNvblxiLwoJCX0sCgoJCXJlc3BvbnNlRmllbGRzOiB7CgkJCXhtbDogInJlc3BvbnNlWE1MIiwKCQkJdGV4dDogInJlc3BvbnNlVGV4dCIsCgkJCWpzb246ICJyZXNwb25zZUpTT04iCgkJfSwKCgkJLy8gRGF0YSBjb252ZXJ0ZXJzCgkJLy8gS2V5cyBzZXBhcmF0ZSBzb3VyY2UgKG9yIGNhdGNoYWxsICIqIikgYW5kIGRlc3RpbmF0aW9uIHR5cGVzIHdpdGggYSBzaW5nbGUgc3BhY2UKCQljb252ZXJ0ZXJzOiB7CgoJCQkvLyBDb252ZXJ0IGFueXRoaW5nIHRvIHRleHQKCQkJIiogdGV4dCI6IFN0cmluZywKCgkJCS8vIFRleHQgdG8gaHRtbCAodHJ1ZSA9IG5vIHRyYW5zZm9ybWF0aW9uKQoJCQkidGV4dCBodG1sIjogdHJ1ZSwKCgkJCS8vIEV2YWx1YXRlIHRleHQgYXMgYSBqc29uIGV4cHJlc3Npb24KCQkJInRleHQganNvbiI6IEpTT04ucGFyc2UsCgoJCQkvLyBQYXJzZSB0ZXh0IGFzIHhtbAoJCQkidGV4dCB4bWwiOiBqUXVlcnkucGFyc2VYTUwKCQl9LAoKCQkvLyBGb3Igb3B0aW9ucyB0aGF0IHNob3VsZG4ndCBiZSBkZWVwIGV4dGVuZGVkOgoJCS8vIHlvdSBjYW4gYWRkIHlvdXIgb3duIGN1c3RvbSBvcHRpb25zIGhlcmUgaWYKCQkvLyBhbmQgd2hlbiB5b3UgY3JlYXRlIG9uZSB0aGF0IHNob3VsZG4ndCBiZQoJCS8vIGRlZXAgZXh0ZW5kZWQgKHNlZSBhamF4RXh0ZW5kKQoJCWZsYXRPcHRpb25zOiB7CgkJCXVybDogdHJ1ZSwKCQkJY29udGV4dDogdHJ1ZQoJCX0KCX0sCgoJLy8gQ3JlYXRlcyBhIGZ1bGwgZmxlZGdlZCBzZXR0aW5ncyBvYmplY3QgaW50byB0YXJnZXQKCS8vIHdpdGggYm90aCBhamF4U2V0dGluZ3MgYW5kIHNldHRpbmdzIGZpZWxkcy4KCS8vIElmIHRhcmdldCBpcyBvbWl0dGVkLCB3cml0ZXMgaW50byBhamF4U2V0dGluZ3MuCglhamF4U2V0dXA6IGZ1bmN0aW9uKCB0YXJnZXQsIHNldHRpbmdzICkgewoJCXJldHVybiBzZXR0aW5ncyA/CgoJCQkvLyBCdWlsZGluZyBhIHNldHRpbmdzIG9iamVjdAoJCQlhamF4RXh0ZW5kKCBhamF4RXh0ZW5kKCB0YXJnZXQsIGpRdWVyeS5hamF4U2V0dGluZ3MgKSwgc2V0dGluZ3MgKSA6CgoJCQkvLyBFeHRlbmRpbmcgYWpheFNldHRpbmdzCgkJCWFqYXhFeHRlbmQoIGpRdWVyeS5hamF4U2V0dGluZ3MsIHRhcmdldCApOwoJfSwKCglhamF4UHJlZmlsdGVyOiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHByZWZpbHRlcnMgKSwKCWFqYXhUcmFuc3BvcnQ6IGFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyggdHJhbnNwb3J0cyApLAoKCS8vIE1haW4gbWV0aG9kCglhamF4OiBmdW5jdGlvbiggdXJsLCBvcHRpb25zICkgewoKCQkvLyBJZiB1cmwgaXMgYW4gb2JqZWN0LCBzaW11bGF0ZSBwcmUtMS41IHNpZ25hdHVyZQoJCWlmICggdHlwZW9mIHVybCA9PT0gIm9iamVjdCIgKSB7CgkJCW9wdGlvbnMgPSB1cmw7CgkJCXVybCA9IHVuZGVmaW5lZDsKCQl9CgoJCS8vIEZvcmNlIG9wdGlvbnMgdG8gYmUgYW4gb2JqZWN0CgkJb3B0aW9ucyA9IG9wdGlvbnMgfHwge307CgoJCXZhciB0cmFuc3BvcnQsCgoJCQkvLyBVUkwgd2l0aG91dCBhbnRpLWNhY2hlIHBhcmFtCgkJCWNhY2hlVVJMLAoKCQkJLy8gUmVzcG9uc2UgaGVhZGVycwoJCQlyZXNwb25zZUhlYWRlcnNTdHJpbmcsCgkJCXJlc3BvbnNlSGVhZGVycywKCgkJCS8vIHRpbWVvdXQgaGFuZGxlCgkJCXRpbWVvdXRUaW1lciwKCgkJCS8vIFVybCBjbGVhbnVwIHZhcgoJCQl1cmxBbmNob3IsCgoJCQkvLyBSZXF1ZXN0IHN0YXRlIChiZWNvbWVzIGZhbHNlIHVwb24gc2VuZCBhbmQgdHJ1ZSB1cG9uIGNvbXBsZXRpb24pCgkJCWNvbXBsZXRlZCwKCgkJCS8vIFRvIGtub3cgaWYgZ2xvYmFsIGV2ZW50cyBhcmUgdG8gYmUgZGlzcGF0Y2hlZAoJCQlmaXJlR2xvYmFscywKCgkJCS8vIExvb3AgdmFyaWFibGUKCQkJaSwKCgkJCS8vIHVuY2FjaGVkIHBhcnQgb2YgdGhlIHVybAoJCQl1bmNhY2hlZCwKCgkJCS8vIENyZWF0ZSB0aGUgZmluYWwgb3B0aW9ucyBvYmplY3QKCQkJcyA9IGpRdWVyeS5hamF4U2V0dXAoIHt9LCBvcHRpb25zICksCgoJCQkvLyBDYWxsYmFja3MgY29udGV4dAoJCQljYWxsYmFja0NvbnRleHQgPSBzLmNvbnRleHQgfHwgcywKCgkJCS8vIENvbnRleHQgZm9yIGdsb2JhbCBldmVudHMgaXMgY2FsbGJhY2tDb250ZXh0IGlmIGl0IGlzIGEgRE9NIG5vZGUgb3IgalF1ZXJ5IGNvbGxlY3Rpb24KCQkJZ2xvYmFsRXZlbnRDb250ZXh0ID0gcy5jb250ZXh0ICYmCgkJCQkoIGNhbGxiYWNrQ29udGV4dC5ub2RlVHlwZSB8fCBjYWxsYmFja0NvbnRleHQuanF1ZXJ5ICkgPwoJCQkJalF1ZXJ5KCBjYWxsYmFja0NvbnRleHQgKSA6CgkJCQlqUXVlcnkuZXZlbnQsCgoJCQkvLyBEZWZlcnJlZHMKCQkJZGVmZXJyZWQgPSBqUXVlcnkuRGVmZXJyZWQoKSwKCQkJY29tcGxldGVEZWZlcnJlZCA9IGpRdWVyeS5DYWxsYmFja3MoICJvbmNlIG1lbW9yeSIgKSwKCgkJCS8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzCgkJCXN0YXR1c0NvZGUgPSBzLnN0YXR1c0NvZGUgfHwge30sCgoJCQkvLyBIZWFkZXJzICh0aGV5IGFyZSBzZW50IGFsbCBhdCBvbmNlKQoJCQlyZXF1ZXN0SGVhZGVycyA9IHt9LAoJCQlyZXF1ZXN0SGVhZGVyc05hbWVzID0ge30sCgoJCQkvLyBEZWZhdWx0IGFib3J0IG1lc3NhZ2UKCQkJc3RyQWJvcnQgPSAiY2FuY2VsZWQiLAoKCQkJLy8gRmFrZSB4aHIKCQkJanFYSFIgPSB7CgkJCQlyZWFkeVN0YXRlOiAwLAoKCQkJCS8vIEJ1aWxkcyBoZWFkZXJzIGhhc2h0YWJsZSBpZiBuZWVkZWQKCQkJCWdldFJlc3BvbnNlSGVhZGVyOiBmdW5jdGlvbigga2V5ICkgewoJCQkJCXZhciBtYXRjaDsKCQkJCQlpZiAoIGNvbXBsZXRlZCApIHsKCQkJCQkJaWYgKCAhcmVzcG9uc2VIZWFkZXJzICkgewoJCQkJCQkJcmVzcG9uc2VIZWFkZXJzID0ge307CgkJCQkJCQl3aGlsZSAoICggbWF0Y2ggPSByaGVhZGVycy5leGVjKCByZXNwb25zZUhlYWRlcnNTdHJpbmcgKSApICkgewoJCQkJCQkJCXJlc3BvbnNlSGVhZGVyc1sgbWF0Y2hbIDEgXS50b0xvd2VyQ2FzZSgpICsgIiAiIF0gPQoJCQkJCQkJCQkoIHJlc3BvbnNlSGVhZGVyc1sgbWF0Y2hbIDEgXS50b0xvd2VyQ2FzZSgpICsgIiAiIF0gfHwgW10gKQoJCQkJCQkJCQkJLmNvbmNhdCggbWF0Y2hbIDIgXSApOwoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJCW1hdGNoID0gcmVzcG9uc2VIZWFkZXJzWyBrZXkudG9Mb3dlckNhc2UoKSArICIgIiBdOwoJCQkJCX0KCQkJCQlyZXR1cm4gbWF0Y2ggPT0gbnVsbCA/IG51bGwgOiBtYXRjaC5qb2luKCAiLCAiICk7CgkJCQl9LAoKCQkJCS8vIFJhdyBzdHJpbmcKCQkJCWdldEFsbFJlc3BvbnNlSGVhZGVyczogZnVuY3Rpb24oKSB7CgkJCQkJcmV0dXJuIGNvbXBsZXRlZCA/IHJlc3BvbnNlSGVhZGVyc1N0cmluZyA6IG51bGw7CgkJCQl9LAoKCQkJCS8vIENhY2hlcyB0aGUgaGVhZGVyCgkJCQlzZXRSZXF1ZXN0SGVhZGVyOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7CgkJCQkJaWYgKCBjb21wbGV0ZWQgPT0gbnVsbCApIHsKCQkJCQkJbmFtZSA9IHJlcXVlc3RIZWFkZXJzTmFtZXNbIG5hbWUudG9Mb3dlckNhc2UoKSBdID0KCQkJCQkJCXJlcXVlc3RIZWFkZXJzTmFtZXNbIG5hbWUudG9Mb3dlckNhc2UoKSBdIHx8IG5hbWU7CgkJCQkJCXJlcXVlc3RIZWFkZXJzWyBuYW1lIF0gPSB2YWx1ZTsKCQkJCQl9CgkJCQkJcmV0dXJuIHRoaXM7CgkJCQl9LAoKCQkJCS8vIE92ZXJyaWRlcyByZXNwb25zZSBjb250ZW50LXR5cGUgaGVhZGVyCgkJCQlvdmVycmlkZU1pbWVUeXBlOiBmdW5jdGlvbiggdHlwZSApIHsKCQkJCQlpZiAoIGNvbXBsZXRlZCA9PSBudWxsICkgewoJCQkJCQlzLm1pbWVUeXBlID0gdHlwZTsKCQkJCQl9CgkJCQkJcmV0dXJuIHRoaXM7CgkJCQl9LAoKCQkJCS8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzCgkJCQlzdGF0dXNDb2RlOiBmdW5jdGlvbiggbWFwICkgewoJCQkJCXZhciBjb2RlOwoJCQkJCWlmICggbWFwICkgewoJCQkJCQlpZiAoIGNvbXBsZXRlZCApIHsKCgkJCQkJCQkvLyBFeGVjdXRlIHRoZSBhcHByb3ByaWF0ZSBjYWxsYmFja3MKCQkJCQkJCWpxWEhSLmFsd2F5cyggbWFwWyBqcVhIUi5zdGF0dXMgXSApOwoJCQkJCQl9IGVsc2UgewoKCQkJCQkJCS8vIExhenktYWRkIHRoZSBuZXcgY2FsbGJhY2tzIGluIGEgd2F5IHRoYXQgcHJlc2VydmVzIG9sZCBvbmVzCgkJCQkJCQlmb3IgKCBjb2RlIGluIG1hcCApIHsKCQkJCQkJCQlzdGF0dXNDb2RlWyBjb2RlIF0gPSBbIHN0YXR1c0NvZGVbIGNvZGUgXSwgbWFwWyBjb2RlIF0gXTsKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCX0KCQkJCQlyZXR1cm4gdGhpczsKCQkJCX0sCgoJCQkJLy8gQ2FuY2VsIHRoZSByZXF1ZXN0CgkJCQlhYm9ydDogZnVuY3Rpb24oIHN0YXR1c1RleHQgKSB7CgkJCQkJdmFyIGZpbmFsVGV4dCA9IHN0YXR1c1RleHQgfHwgc3RyQWJvcnQ7CgkJCQkJaWYgKCB0cmFuc3BvcnQgKSB7CgkJCQkJCXRyYW5zcG9ydC5hYm9ydCggZmluYWxUZXh0ICk7CgkJCQkJfQoJCQkJCWRvbmUoIDAsIGZpbmFsVGV4dCApOwoJCQkJCXJldHVybiB0aGlzOwoJCQkJfQoJCQl9OwoKCQkvLyBBdHRhY2ggZGVmZXJyZWRzCgkJZGVmZXJyZWQucHJvbWlzZSgganFYSFIgKTsKCgkJLy8gQWRkIHByb3RvY29sIGlmIG5vdCBwcm92aWRlZCAocHJlZmlsdGVycyBtaWdodCBleHBlY3QgaXQpCgkJLy8gSGFuZGxlIGZhbHN5IHVybCBpbiB0aGUgc2V0dGluZ3Mgb2JqZWN0ICh0cmFjLTEwMDkzOiBjb25zaXN0ZW5jeSB3aXRoIG9sZCBzaWduYXR1cmUpCgkJLy8gV2UgYWxzbyB1c2UgdGhlIHVybCBwYXJhbWV0ZXIgaWYgYXZhaWxhYmxlCgkJcy51cmwgPSAoICggdXJsIHx8IHMudXJsIHx8IGxvY2F0aW9uLmhyZWYgKSArICIiICkKCQkJLnJlcGxhY2UoIHJwcm90b2NvbCwgbG9jYXRpb24ucHJvdG9jb2wgKyAiLy8iICk7CgoJCS8vIEFsaWFzIG1ldGhvZCBvcHRpb24gdG8gdHlwZSBhcyBwZXIgdGlja2V0IHRyYWMtMTIwMDQKCQlzLnR5cGUgPSBvcHRpb25zLm1ldGhvZCB8fCBvcHRpb25zLnR5cGUgfHwgcy5tZXRob2QgfHwgcy50eXBlOwoKCQkvLyBFeHRyYWN0IGRhdGFUeXBlcyBsaXN0CgkJcy5kYXRhVHlwZXMgPSAoIHMuZGF0YVR5cGUgfHwgIioiICkudG9Mb3dlckNhc2UoKS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFsgIiIgXTsKCgkJLy8gQSBjcm9zcy1kb21haW4gcmVxdWVzdCBpcyBpbiBvcmRlciB3aGVuIHRoZSBvcmlnaW4gZG9lc24ndCBtYXRjaCB0aGUgY3VycmVudCBvcmlnaW4uCgkJaWYgKCBzLmNyb3NzRG9tYWluID09IG51bGwgKSB7CgkJCXVybEFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICJhIiApOwoKCQkJLy8gU3VwcG9ydDogSUUgPD04IC0gMTEsIEVkZ2UgMTIgLSAxNQoJCQkvLyBJRSB0aHJvd3MgZXhjZXB0aW9uIG9uIGFjY2Vzc2luZyB0aGUgaHJlZiBwcm9wZXJ0eSBpZiB1cmwgaXMgbWFsZm9ybWVkLAoJCQkvLyBlLmcuIGh0dHA6Ly9leGFtcGxlLmNvbTo4MHgvCgkJCXRyeSB7CgkJCQl1cmxBbmNob3IuaHJlZiA9IHMudXJsOwoKCQkJCS8vIFN1cHBvcnQ6IElFIDw9OCAtIDExIG9ubHkKCQkJCS8vIEFuY2hvcidzIGhvc3QgcHJvcGVydHkgaXNuJ3QgY29ycmVjdGx5IHNldCB3aGVuIHMudXJsIGlzIHJlbGF0aXZlCgkJCQl1cmxBbmNob3IuaHJlZiA9IHVybEFuY2hvci5ocmVmOwoJCQkJcy5jcm9zc0RvbWFpbiA9IG9yaWdpbkFuY2hvci5wcm90b2NvbCArICIvLyIgKyBvcmlnaW5BbmNob3IuaG9zdCAhPT0KCQkJCQl1cmxBbmNob3IucHJvdG9jb2wgKyAiLy8iICsgdXJsQW5jaG9yLmhvc3Q7CgkJCX0gY2F0Y2ggKCBlICkgewoKCQkJCS8vIElmIHRoZXJlIGlzIGFuIGVycm9yIHBhcnNpbmcgdGhlIFVSTCwgYXNzdW1lIGl0IGlzIGNyb3NzRG9tYWluLAoJCQkJLy8gaXQgY2FuIGJlIHJlamVjdGVkIGJ5IHRoZSB0cmFuc3BvcnQgaWYgaXQgaXMgaW52YWxpZAoJCQkJcy5jcm9zc0RvbWFpbiA9IHRydWU7CgkJCX0KCQl9CgoJCS8vIENvbnZlcnQgZGF0YSBpZiBub3QgYWxyZWFkeSBhIHN0cmluZwoJCWlmICggcy5kYXRhICYmIHMucHJvY2Vzc0RhdGEgJiYgdHlwZW9mIHMuZGF0YSAhPT0gInN0cmluZyIgKSB7CgkJCXMuZGF0YSA9IGpRdWVyeS5wYXJhbSggcy5kYXRhLCBzLnRyYWRpdGlvbmFsICk7CgkJfQoKCQkvLyBBcHBseSBwcmVmaWx0ZXJzCgkJaW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHByZWZpbHRlcnMsIHMsIG9wdGlvbnMsIGpxWEhSICk7CgoJCS8vIElmIHJlcXVlc3Qgd2FzIGFib3J0ZWQgaW5zaWRlIGEgcHJlZmlsdGVyLCBzdG9wIHRoZXJlCgkJaWYgKCBjb21wbGV0ZWQgKSB7CgkJCXJldHVybiBqcVhIUjsKCQl9CgoJCS8vIFdlIGNhbiBmaXJlIGdsb2JhbCBldmVudHMgYXMgb2Ygbm93IGlmIGFza2VkIHRvCgkJLy8gRG9uJ3QgZmlyZSBldmVudHMgaWYgalF1ZXJ5LmV2ZW50IGlzIHVuZGVmaW5lZCBpbiBhbiBBTUQtdXNhZ2Ugc2NlbmFyaW8gKHRyYWMtMTUxMTgpCgkJZmlyZUdsb2JhbHMgPSBqUXVlcnkuZXZlbnQgJiYgcy5nbG9iYWw7CgoJCS8vIFdhdGNoIGZvciBhIG5ldyBzZXQgb2YgcmVxdWVzdHMKCQlpZiAoIGZpcmVHbG9iYWxzICYmIGpRdWVyeS5hY3RpdmUrKyA9PT0gMCApIHsKCQkJalF1ZXJ5LmV2ZW50LnRyaWdnZXIoICJhamF4U3RhcnQiICk7CgkJfQoKCQkvLyBVcHBlcmNhc2UgdGhlIHR5cGUKCQlzLnR5cGUgPSBzLnR5cGUudG9VcHBlckNhc2UoKTsKCgkJLy8gRGV0ZXJtaW5lIGlmIHJlcXVlc3QgaGFzIGNvbnRlbnQKCQlzLmhhc0NvbnRlbnQgPSAhcm5vQ29udGVudC50ZXN0KCBzLnR5cGUgKTsKCgkJLy8gU2F2ZSB0aGUgVVJMIGluIGNhc2Ugd2UncmUgdG95aW5nIHdpdGggdGhlIElmLU1vZGlmaWVkLVNpbmNlCgkJLy8gYW5kL29yIElmLU5vbmUtTWF0Y2ggaGVhZGVyIGxhdGVyIG9uCgkJLy8gUmVtb3ZlIGhhc2ggdG8gc2ltcGxpZnkgdXJsIG1hbmlwdWxhdGlvbgoJCWNhY2hlVVJMID0gcy51cmwucmVwbGFjZSggcmhhc2gsICIiICk7CgoJCS8vIE1vcmUgb3B0aW9ucyBoYW5kbGluZyBmb3IgcmVxdWVzdHMgd2l0aCBubyBjb250ZW50CgkJaWYgKCAhcy5oYXNDb250ZW50ICkgewoKCQkJLy8gUmVtZW1iZXIgdGhlIGhhc2ggc28gd2UgY2FuIHB1dCBpdCBiYWNrCgkJCXVuY2FjaGVkID0gcy51cmwuc2xpY2UoIGNhY2hlVVJMLmxlbmd0aCApOwoKCQkJLy8gSWYgZGF0YSBpcyBhdmFpbGFibGUgYW5kIHNob3VsZCBiZSBwcm9jZXNzZWQsIGFwcGVuZCBkYXRhIHRvIHVybAoJCQlpZiAoIHMuZGF0YSAmJiAoIHMucHJvY2Vzc0RhdGEgfHwgdHlwZW9mIHMuZGF0YSA9PT0gInN0cmluZyIgKSApIHsKCQkJCWNhY2hlVVJMICs9ICggcnF1ZXJ5LnRlc3QoIGNhY2hlVVJMICkgPyAiJiIgOiAiPyIgKSArIHMuZGF0YTsKCgkJCQkvLyB0cmFjLTk2ODI6IHJlbW92ZSBkYXRhIHNvIHRoYXQgaXQncyBub3QgdXNlZCBpbiBhbiBldmVudHVhbCByZXRyeQoJCQkJZGVsZXRlIHMuZGF0YTsKCQkJfQoKCQkJLy8gQWRkIG9yIHVwZGF0ZSBhbnRpLWNhY2hlIHBhcmFtIGlmIG5lZWRlZAoJCQlpZiAoIHMuY2FjaGUgPT09IGZhbHNlICkgewoJCQkJY2FjaGVVUkwgPSBjYWNoZVVSTC5yZXBsYWNlKCByYW50aUNhY2hlLCAiJDEiICk7CgkJCQl1bmNhY2hlZCA9ICggcnF1ZXJ5LnRlc3QoIGNhY2hlVVJMICkgPyAiJiIgOiAiPyIgKSArICJfPSIgKyAoIG5vbmNlLmd1aWQrKyApICsKCQkJCQl1bmNhY2hlZDsKCQkJfQoKCQkJLy8gUHV0IGhhc2ggYW5kIGFudGktY2FjaGUgb24gdGhlIFVSTCB0aGF0IHdpbGwgYmUgcmVxdWVzdGVkIChnaC0xNzMyKQoJCQlzLnVybCA9IGNhY2hlVVJMICsgdW5jYWNoZWQ7CgoJCS8vIENoYW5nZSAnJTIwJyB0byAnKycgaWYgdGhpcyBpcyBlbmNvZGVkIGZvcm0gYm9keSBjb250ZW50IChnaC0yNjU4KQoJCX0gZWxzZSBpZiAoIHMuZGF0YSAmJiBzLnByb2Nlc3NEYXRhICYmCgkJCSggcy5jb250ZW50VHlwZSB8fCAiIiApLmluZGV4T2YoICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiICkgPT09IDAgKSB7CgkJCXMuZGF0YSA9IHMuZGF0YS5yZXBsYWNlKCByMjAsICIrIiApOwoJCX0KCgkJLy8gU2V0IHRoZSBJZi1Nb2RpZmllZC1TaW5jZSBhbmQvb3IgSWYtTm9uZS1NYXRjaCBoZWFkZXIsIGlmIGluIGlmTW9kaWZpZWQgbW9kZS4KCQlpZiAoIHMuaWZNb2RpZmllZCApIHsKCQkJaWYgKCBqUXVlcnkubGFzdE1vZGlmaWVkWyBjYWNoZVVSTCBdICkgewoJCQkJanFYSFIuc2V0UmVxdWVzdEhlYWRlciggIklmLU1vZGlmaWVkLVNpbmNlIiwgalF1ZXJ5Lmxhc3RNb2RpZmllZFsgY2FjaGVVUkwgXSApOwoJCQl9CgkJCWlmICggalF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gKSB7CgkJCQlqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCAiSWYtTm9uZS1NYXRjaCIsIGpRdWVyeS5ldGFnWyBjYWNoZVVSTCBdICk7CgkJCX0KCQl9CgoJCS8vIFNldCB0aGUgY29ycmVjdCBoZWFkZXIsIGlmIGRhdGEgaXMgYmVpbmcgc2VudAoJCWlmICggcy5kYXRhICYmIHMuaGFzQ29udGVudCAmJiBzLmNvbnRlbnRUeXBlICE9PSBmYWxzZSB8fCBvcHRpb25zLmNvbnRlbnRUeXBlICkgewoJCQlqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCAiQ29udGVudC1UeXBlIiwgcy5jb250ZW50VHlwZSApOwoJCX0KCgkJLy8gU2V0IHRoZSBBY2NlcHRzIGhlYWRlciBmb3IgdGhlIHNlcnZlciwgZGVwZW5kaW5nIG9uIHRoZSBkYXRhVHlwZQoJCWpxWEhSLnNldFJlcXVlc3RIZWFkZXIoCgkJCSJBY2NlcHQiLAoJCQlzLmRhdGFUeXBlc1sgMCBdICYmIHMuYWNjZXB0c1sgcy5kYXRhVHlwZXNbIDAgXSBdID8KCQkJCXMuYWNjZXB0c1sgcy5kYXRhVHlwZXNbIDAgXSBdICsKCQkJCQkoIHMuZGF0YVR5cGVzWyAwIF0gIT09ICIqIiA/ICIsICIgKyBhbGxUeXBlcyArICI7IHE9MC4wMSIgOiAiIiApIDoKCQkJCXMuYWNjZXB0c1sgIioiIF0KCQkpOwoKCQkvLyBDaGVjayBmb3IgaGVhZGVycyBvcHRpb24KCQlmb3IgKCBpIGluIHMuaGVhZGVycyApIHsKCQkJanFYSFIuc2V0UmVxdWVzdEhlYWRlciggaSwgcy5oZWFkZXJzWyBpIF0gKTsKCQl9CgoJCS8vIEFsbG93IGN1c3RvbSBoZWFkZXJzL21pbWV0eXBlcyBhbmQgZWFybHkgYWJvcnQKCQlpZiAoIHMuYmVmb3JlU2VuZCAmJgoJCQkoIHMuYmVmb3JlU2VuZC5jYWxsKCBjYWxsYmFja0NvbnRleHQsIGpxWEhSLCBzICkgPT09IGZhbHNlIHx8IGNvbXBsZXRlZCApICkgewoKCQkJLy8gQWJvcnQgaWYgbm90IGRvbmUgYWxyZWFkeSBhbmQgcmV0dXJuCgkJCXJldHVybiBqcVhIUi5hYm9ydCgpOwoJCX0KCgkJLy8gQWJvcnRpbmcgaXMgbm8gbG9uZ2VyIGEgY2FuY2VsbGF0aW9uCgkJc3RyQWJvcnQgPSAiYWJvcnQiOwoKCQkvLyBJbnN0YWxsIGNhbGxiYWNrcyBvbiBkZWZlcnJlZHMKCQljb21wbGV0ZURlZmVycmVkLmFkZCggcy5jb21wbGV0ZSApOwoJCWpxWEhSLmRvbmUoIHMuc3VjY2VzcyApOwoJCWpxWEhSLmZhaWwoIHMuZXJyb3IgKTsKCgkJLy8gR2V0IHRyYW5zcG9ydAoJCXRyYW5zcG9ydCA9IGluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCB0cmFuc3BvcnRzLCBzLCBvcHRpb25zLCBqcVhIUiApOwoKCQkvLyBJZiBubyB0cmFuc3BvcnQsIHdlIGF1dG8tYWJvcnQKCQlpZiAoICF0cmFuc3BvcnQgKSB7CgkJCWRvbmUoIC0xLCAiTm8gVHJhbnNwb3J0IiApOwoJCX0gZWxzZSB7CgkJCWpxWEhSLnJlYWR5U3RhdGUgPSAxOwoKCQkJLy8gU2VuZCBnbG9iYWwgZXZlbnQKCQkJaWYgKCBmaXJlR2xvYmFscyApIHsKCQkJCWdsb2JhbEV2ZW50Q29udGV4dC50cmlnZ2VyKCAiYWpheFNlbmQiLCBbIGpxWEhSLCBzIF0gKTsKCQkJfQoKCQkJLy8gSWYgcmVxdWVzdCB3YXMgYWJvcnRlZCBpbnNpZGUgYWpheFNlbmQsIHN0b3AgdGhlcmUKCQkJaWYgKCBjb21wbGV0ZWQgKSB7CgkJCQlyZXR1cm4ganFYSFI7CgkJCX0KCgkJCS8vIFRpbWVvdXQKCQkJaWYgKCBzLmFzeW5jICYmIHMudGltZW91dCA+IDAgKSB7CgkJCQl0aW1lb3V0VGltZXIgPSB3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKSB7CgkJCQkJanFYSFIuYWJvcnQoICJ0aW1lb3V0IiApOwoJCQkJfSwgcy50aW1lb3V0ICk7CgkJCX0KCgkJCXRyeSB7CgkJCQljb21wbGV0ZWQgPSBmYWxzZTsKCQkJCXRyYW5zcG9ydC5zZW5kKCByZXF1ZXN0SGVhZGVycywgZG9uZSApOwoJCQl9IGNhdGNoICggZSApIHsKCgkJCQkvLyBSZXRocm93IHBvc3QtY29tcGxldGlvbiBleGNlcHRpb25zCgkJCQlpZiAoIGNvbXBsZXRlZCApIHsKCQkJCQl0aHJvdyBlOwoJCQkJfQoKCQkJCS8vIFByb3BhZ2F0ZSBvdGhlcnMgYXMgcmVzdWx0cwoJCQkJZG9uZSggLTEsIGUgKTsKCQkJfQoJCX0KCgkJLy8gQ2FsbGJhY2sgZm9yIHdoZW4gZXZlcnl0aGluZyBpcyBkb25lCgkJZnVuY3Rpb24gZG9uZSggc3RhdHVzLCBuYXRpdmVTdGF0dXNUZXh0LCByZXNwb25zZXMsIGhlYWRlcnMgKSB7CgkJCXZhciBpc1N1Y2Nlc3MsIHN1Y2Nlc3MsIGVycm9yLCByZXNwb25zZSwgbW9kaWZpZWQsCgkJCQlzdGF0dXNUZXh0ID0gbmF0aXZlU3RhdHVzVGV4dDsKCgkJCS8vIElnbm9yZSByZXBlYXQgaW52b2NhdGlvbnMKCQkJaWYgKCBjb21wbGV0ZWQgKSB7CgkJCQlyZXR1cm47CgkJCX0KCgkJCWNvbXBsZXRlZCA9IHRydWU7CgoJCQkvLyBDbGVhciB0aW1lb3V0IGlmIGl0IGV4aXN0cwoJCQlpZiAoIHRpbWVvdXRUaW1lciApIHsKCQkJCXdpbmRvdy5jbGVhclRpbWVvdXQoIHRpbWVvdXRUaW1lciApOwoJCQl9CgoJCQkvLyBEZXJlZmVyZW5jZSB0cmFuc3BvcnQgZm9yIGVhcmx5IGdhcmJhZ2UgY29sbGVjdGlvbgoJCQkvLyAobm8gbWF0dGVyIGhvdyBsb25nIHRoZSBqcVhIUiBvYmplY3Qgd2lsbCBiZSB1c2VkKQoJCQl0cmFuc3BvcnQgPSB1bmRlZmluZWQ7CgoJCQkvLyBDYWNoZSByZXNwb25zZSBoZWFkZXJzCgkJCXJlc3BvbnNlSGVhZGVyc1N0cmluZyA9IGhlYWRlcnMgfHwgIiI7CgoJCQkvLyBTZXQgcmVhZHlTdGF0ZQoJCQlqcVhIUi5yZWFkeVN0YXRlID0gc3RhdHVzID4gMCA/IDQgOiAwOwoKCQkJLy8gRGV0ZXJtaW5lIGlmIHN1Y2Nlc3NmdWwKCQkJaXNTdWNjZXNzID0gc3RhdHVzID49IDIwMCAmJiBzdGF0dXMgPCAzMDAgfHwgc3RhdHVzID09PSAzMDQ7CgoJCQkvLyBHZXQgcmVzcG9uc2UgZGF0YQoJCQlpZiAoIHJlc3BvbnNlcyApIHsKCQkJCXJlc3BvbnNlID0gYWpheEhhbmRsZVJlc3BvbnNlcyggcywganFYSFIsIHJlc3BvbnNlcyApOwoJCQl9CgoJCQkvLyBVc2UgYSBub29wIGNvbnZlcnRlciBmb3IgbWlzc2luZyBzY3JpcHQgYnV0IG5vdCBpZiBqc29ucAoJCQlpZiAoICFpc1N1Y2Nlc3MgJiYKCQkJCWpRdWVyeS5pbkFycmF5KCAic2NyaXB0Iiwgcy5kYXRhVHlwZXMgKSA+IC0xICYmCgkJCQlqUXVlcnkuaW5BcnJheSggImpzb24iLCBzLmRhdGFUeXBlcyApIDwgMCApIHsKCQkJCXMuY29udmVydGVyc1sgInRleHQgc2NyaXB0IiBdID0gZnVuY3Rpb24oKSB7fTsKCQkJfQoKCQkJLy8gQ29udmVydCBubyBtYXR0ZXIgd2hhdCAodGhhdCB3YXkgcmVzcG9uc2VYWFggZmllbGRzIGFyZSBhbHdheXMgc2V0KQoJCQlyZXNwb25zZSA9IGFqYXhDb252ZXJ0KCBzLCByZXNwb25zZSwganFYSFIsIGlzU3VjY2VzcyApOwoKCQkJLy8gSWYgc3VjY2Vzc2Z1bCwgaGFuZGxlIHR5cGUgY2hhaW5pbmcKCQkJaWYgKCBpc1N1Y2Nlc3MgKSB7CgoJCQkJLy8gU2V0IHRoZSBJZi1Nb2RpZmllZC1TaW5jZSBhbmQvb3IgSWYtTm9uZS1NYXRjaCBoZWFkZXIsIGlmIGluIGlmTW9kaWZpZWQgbW9kZS4KCQkJCWlmICggcy5pZk1vZGlmaWVkICkgewoJCQkJCW1vZGlmaWVkID0ganFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoICJMYXN0LU1vZGlmaWVkIiApOwoJCQkJCWlmICggbW9kaWZpZWQgKSB7CgkJCQkJCWpRdWVyeS5sYXN0TW9kaWZpZWRbIGNhY2hlVVJMIF0gPSBtb2RpZmllZDsKCQkJCQl9CgkJCQkJbW9kaWZpZWQgPSBqcVhIUi5nZXRSZXNwb25zZUhlYWRlciggImV0YWciICk7CgkJCQkJaWYgKCBtb2RpZmllZCApIHsKCQkJCQkJalF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gPSBtb2RpZmllZDsKCQkJCQl9CgkJCQl9CgoJCQkJLy8gaWYgbm8gY29udGVudAoJCQkJaWYgKCBzdGF0dXMgPT09IDIwNCB8fCBzLnR5cGUgPT09ICJIRUFEIiApIHsKCQkJCQlzdGF0dXNUZXh0ID0gIm5vY29udGVudCI7CgoJCQkJLy8gaWYgbm90IG1vZGlmaWVkCgkJCQl9IGVsc2UgaWYgKCBzdGF0dXMgPT09IDMwNCApIHsKCQkJCQlzdGF0dXNUZXh0ID0gIm5vdG1vZGlmaWVkIjsKCgkJCQkvLyBJZiB3ZSBoYXZlIGRhdGEsIGxldCdzIGNvbnZlcnQgaXQKCQkJCX0gZWxzZSB7CgkJCQkJc3RhdHVzVGV4dCA9IHJlc3BvbnNlLnN0YXRlOwoJCQkJCXN1Y2Nlc3MgPSByZXNwb25zZS5kYXRhOwoJCQkJCWVycm9yID0gcmVzcG9uc2UuZXJyb3I7CgkJCQkJaXNTdWNjZXNzID0gIWVycm9yOwoJCQkJfQoJCQl9IGVsc2UgewoKCQkJCS8vIEV4dHJhY3QgZXJyb3IgZnJvbSBzdGF0dXNUZXh0IGFuZCBub3JtYWxpemUgZm9yIG5vbi1hYm9ydHMKCQkJCWVycm9yID0gc3RhdHVzVGV4dDsKCQkJCWlmICggc3RhdHVzIHx8ICFzdGF0dXNUZXh0ICkgewoJCQkJCXN0YXR1c1RleHQgPSAiZXJyb3IiOwoJCQkJCWlmICggc3RhdHVzIDwgMCApIHsKCQkJCQkJc3RhdHVzID0gMDsKCQkJCQl9CgkJCQl9CgkJCX0KCgkJCS8vIFNldCBkYXRhIGZvciB0aGUgZmFrZSB4aHIgb2JqZWN0CgkJCWpxWEhSLnN0YXR1cyA9IHN0YXR1czsKCQkJanFYSFIuc3RhdHVzVGV4dCA9ICggbmF0aXZlU3RhdHVzVGV4dCB8fCBzdGF0dXNUZXh0ICkgKyAiIjsKCgkJCS8vIFN1Y2Nlc3MvRXJyb3IKCQkJaWYgKCBpc1N1Y2Nlc3MgKSB7CgkJCQlkZWZlcnJlZC5yZXNvbHZlV2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIHN1Y2Nlc3MsIHN0YXR1c1RleHQsIGpxWEhSIF0gKTsKCQkJfSBlbHNlIHsKCQkJCWRlZmVycmVkLnJlamVjdFdpdGgoIGNhbGxiYWNrQ29udGV4dCwgWyBqcVhIUiwgc3RhdHVzVGV4dCwgZXJyb3IgXSApOwoJCQl9CgoJCQkvLyBTdGF0dXMtZGVwZW5kZW50IGNhbGxiYWNrcwoJCQlqcVhIUi5zdGF0dXNDb2RlKCBzdGF0dXNDb2RlICk7CgkJCXN0YXR1c0NvZGUgPSB1bmRlZmluZWQ7CgoJCQlpZiAoIGZpcmVHbG9iYWxzICkgewoJCQkJZ2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoIGlzU3VjY2VzcyA/ICJhamF4U3VjY2VzcyIgOiAiYWpheEVycm9yIiwKCQkJCQlbIGpxWEhSLCBzLCBpc1N1Y2Nlc3MgPyBzdWNjZXNzIDogZXJyb3IgXSApOwoJCQl9CgoJCQkvLyBDb21wbGV0ZQoJCQljb21wbGV0ZURlZmVycmVkLmZpcmVXaXRoKCBjYWxsYmFja0NvbnRleHQsIFsganFYSFIsIHN0YXR1c1RleHQgXSApOwoKCQkJaWYgKCBmaXJlR2xvYmFscyApIHsKCQkJCWdsb2JhbEV2ZW50Q29udGV4dC50cmlnZ2VyKCAiYWpheENvbXBsZXRlIiwgWyBqcVhIUiwgcyBdICk7CgoJCQkJLy8gSGFuZGxlIHRoZSBnbG9iYWwgQUpBWCBjb3VudGVyCgkJCQlpZiAoICEoIC0talF1ZXJ5LmFjdGl2ZSApICkgewoJCQkJCWpRdWVyeS5ldmVudC50cmlnZ2VyKCAiYWpheFN0b3AiICk7CgkJCQl9CgkJCX0KCQl9CgoJCXJldHVybiBqcVhIUjsKCX0sCgoJZ2V0SlNPTjogZnVuY3Rpb24oIHVybCwgZGF0YSwgY2FsbGJhY2sgKSB7CgkJcmV0dXJuIGpRdWVyeS5nZXQoIHVybCwgZGF0YSwgY2FsbGJhY2ssICJqc29uIiApOwoJfSwKCglnZXRTY3JpcHQ6IGZ1bmN0aW9uKCB1cmwsIGNhbGxiYWNrICkgewoJCXJldHVybiBqUXVlcnkuZ2V0KCB1cmwsIHVuZGVmaW5lZCwgY2FsbGJhY2ssICJzY3JpcHQiICk7Cgl9Cn0gKTsKCmpRdWVyeS5lYWNoKCBbICJnZXQiLCAicG9zdCIgXSwgZnVuY3Rpb24oIF9pLCBtZXRob2QgKSB7CglqUXVlcnlbIG1ldGhvZCBdID0gZnVuY3Rpb24oIHVybCwgZGF0YSwgY2FsbGJhY2ssIHR5cGUgKSB7CgoJCS8vIFNoaWZ0IGFyZ3VtZW50cyBpZiBkYXRhIGFyZ3VtZW50IHdhcyBvbWl0dGVkCgkJaWYgKCBpc0Z1bmN0aW9uKCBkYXRhICkgKSB7CgkJCXR5cGUgPSB0eXBlIHx8IGNhbGxiYWNrOwoJCQljYWxsYmFjayA9IGRhdGE7CgkJCWRhdGEgPSB1bmRlZmluZWQ7CgkJfQoKCQkvLyBUaGUgdXJsIGNhbiBiZSBhbiBvcHRpb25zIG9iamVjdCAod2hpY2ggdGhlbiBtdXN0IGhhdmUgLnVybCkKCQlyZXR1cm4galF1ZXJ5LmFqYXgoIGpRdWVyeS5leHRlbmQoIHsKCQkJdXJsOiB1cmwsCgkJCXR5cGU6IG1ldGhvZCwKCQkJZGF0YVR5cGU6IHR5cGUsCgkJCWRhdGE6IGRhdGEsCgkJCXN1Y2Nlc3M6IGNhbGxiYWNrCgkJfSwgalF1ZXJ5LmlzUGxhaW5PYmplY3QoIHVybCApICYmIHVybCApICk7Cgl9Owp9ICk7CgpqUXVlcnkuYWpheFByZWZpbHRlciggZnVuY3Rpb24oIHMgKSB7Cgl2YXIgaTsKCWZvciAoIGkgaW4gcy5oZWFkZXJzICkgewoJCWlmICggaS50b0xvd2VyQ2FzZSgpID09PSAiY29udGVudC10eXBlIiApIHsKCQkJcy5jb250ZW50VHlwZSA9IHMuaGVhZGVyc1sgaSBdIHx8ICIiOwoJCX0KCX0KfSApOwoKCmpRdWVyeS5fZXZhbFVybCA9IGZ1bmN0aW9uKCB1cmwsIG9wdGlvbnMsIGRvYyApIHsKCXJldHVybiBqUXVlcnkuYWpheCggewoJCXVybDogdXJsLAoKCQkvLyBNYWtlIHRoaXMgZXhwbGljaXQsIHNpbmNlIHVzZXIgY2FuIG92ZXJyaWRlIHRoaXMgdGhyb3VnaCBhamF4U2V0dXAgKHRyYWMtMTEyNjQpCgkJdHlwZTogIkdFVCIsCgkJZGF0YVR5cGU6ICJzY3JpcHQiLAoJCWNhY2hlOiB0cnVlLAoJCWFzeW5jOiBmYWxzZSwKCQlnbG9iYWw6IGZhbHNlLAoKCQkvLyBPbmx5IGV2YWx1YXRlIHRoZSByZXNwb25zZSBpZiBpdCBpcyBzdWNjZXNzZnVsIChnaC00MTI2KQoJCS8vIGRhdGFGaWx0ZXIgaXMgbm90IGludm9rZWQgZm9yIGZhaWx1cmUgcmVzcG9uc2VzLCBzbyB1c2luZyBpdCBpbnN0ZWFkCgkJLy8gb2YgdGhlIGRlZmF1bHQgY29udmVydGVyIGlzIGtsdWRneSBidXQgaXQgd29ya3MuCgkJY29udmVydGVyczogewoJCQkidGV4dCBzY3JpcHQiOiBmdW5jdGlvbigpIHt9CgkJfSwKCQlkYXRhRmlsdGVyOiBmdW5jdGlvbiggcmVzcG9uc2UgKSB7CgkJCWpRdWVyeS5nbG9iYWxFdmFsKCByZXNwb25zZSwgb3B0aW9ucywgZG9jICk7CgkJfQoJfSApOwp9OwoKCmpRdWVyeS5mbi5leHRlbmQoIHsKCXdyYXBBbGw6IGZ1bmN0aW9uKCBodG1sICkgewoJCXZhciB3cmFwOwoKCQlpZiAoIHRoaXNbIDAgXSApIHsKCQkJaWYgKCBpc0Z1bmN0aW9uKCBodG1sICkgKSB7CgkJCQlodG1sID0gaHRtbC5jYWxsKCB0aGlzWyAwIF0gKTsKCQkJfQoKCQkJLy8gVGhlIGVsZW1lbnRzIHRvIHdyYXAgdGhlIHRhcmdldCBhcm91bmQKCQkJd3JhcCA9IGpRdWVyeSggaHRtbCwgdGhpc1sgMCBdLm93bmVyRG9jdW1lbnQgKS5lcSggMCApLmNsb25lKCB0cnVlICk7CgoJCQlpZiAoIHRoaXNbIDAgXS5wYXJlbnROb2RlICkgewoJCQkJd3JhcC5pbnNlcnRCZWZvcmUoIHRoaXNbIDAgXSApOwoJCQl9CgoJCQl3cmFwLm1hcCggZnVuY3Rpb24oKSB7CgkJCQl2YXIgZWxlbSA9IHRoaXM7CgoJCQkJd2hpbGUgKCBlbGVtLmZpcnN0RWxlbWVudENoaWxkICkgewoJCQkJCWVsZW0gPSBlbGVtLmZpcnN0RWxlbWVudENoaWxkOwoJCQkJfQoKCQkJCXJldHVybiBlbGVtOwoJCQl9ICkuYXBwZW5kKCB0aGlzICk7CgkJfQoKCQlyZXR1cm4gdGhpczsKCX0sCgoJd3JhcElubmVyOiBmdW5jdGlvbiggaHRtbCApIHsKCQlpZiAoIGlzRnVuY3Rpb24oIGh0bWwgKSApIHsKCQkJcmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7CgkJCQlqUXVlcnkoIHRoaXMgKS53cmFwSW5uZXIoIGh0bWwuY2FsbCggdGhpcywgaSApICk7CgkJCX0gKTsKCQl9CgoJCXJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkgewoJCQl2YXIgc2VsZiA9IGpRdWVyeSggdGhpcyApLAoJCQkJY29udGVudHMgPSBzZWxmLmNvbnRlbnRzKCk7CgoJCQlpZiAoIGNvbnRlbnRzLmxlbmd0aCApIHsKCQkJCWNvbnRlbnRzLndyYXBBbGwoIGh0bWwgKTsKCgkJCX0gZWxzZSB7CgkJCQlzZWxmLmFwcGVuZCggaHRtbCApOwoJCQl9CgkJfSApOwoJfSwKCgl3cmFwOiBmdW5jdGlvbiggaHRtbCApIHsKCQl2YXIgaHRtbElzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uKCBodG1sICk7CgoJCXJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkgewoJCQlqUXVlcnkoIHRoaXMgKS53cmFwQWxsKCBodG1sSXNGdW5jdGlvbiA/IGh0bWwuY2FsbCggdGhpcywgaSApIDogaHRtbCApOwoJCX0gKTsKCX0sCgoJdW53cmFwOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7CgkJdGhpcy5wYXJlbnQoIHNlbGVjdG9yICkubm90KCAiYm9keSIgKS5lYWNoKCBmdW5jdGlvbigpIHsKCQkJalF1ZXJ5KCB0aGlzICkucmVwbGFjZVdpdGgoIHRoaXMuY2hpbGROb2RlcyApOwoJCX0gKTsKCQlyZXR1cm4gdGhpczsKCX0KfSApOwoKCmpRdWVyeS5leHByLnBzZXVkb3MuaGlkZGVuID0gZnVuY3Rpb24oIGVsZW0gKSB7CglyZXR1cm4gIWpRdWVyeS5leHByLnBzZXVkb3MudmlzaWJsZSggZWxlbSApOwp9OwpqUXVlcnkuZXhwci5wc2V1ZG9zLnZpc2libGUgPSBmdW5jdGlvbiggZWxlbSApIHsKCXJldHVybiAhISggZWxlbS5vZmZzZXRXaWR0aCB8fCBlbGVtLm9mZnNldEhlaWdodCB8fCBlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoICk7Cn07CgoKCgpqUXVlcnkuYWpheFNldHRpbmdzLnhociA9IGZ1bmN0aW9uKCkgewoJdHJ5IHsKCQlyZXR1cm4gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCgpOwoJfSBjYXRjaCAoIGUgKSB7fQp9OwoKdmFyIHhoclN1Y2Nlc3NTdGF0dXMgPSB7CgoJCS8vIEZpbGUgcHJvdG9jb2wgYWx3YXlzIHlpZWxkcyBzdGF0dXMgY29kZSAwLCBhc3N1bWUgMjAwCgkJMDogMjAwLAoKCQkvLyBTdXBwb3J0OiBJRSA8PTkgb25seQoJCS8vIHRyYWMtMTQ1MDogc29tZXRpbWVzIElFIHJldHVybnMgMTIyMyB3aGVuIGl0IHNob3VsZCBiZSAyMDQKCQkxMjIzOiAyMDQKCX0sCgl4aHJTdXBwb3J0ZWQgPSBqUXVlcnkuYWpheFNldHRpbmdzLnhocigpOwoKc3VwcG9ydC5jb3JzID0gISF4aHJTdXBwb3J0ZWQgJiYgKCAid2l0aENyZWRlbnRpYWxzIiBpbiB4aHJTdXBwb3J0ZWQgKTsKc3VwcG9ydC5hamF4ID0geGhyU3VwcG9ydGVkID0gISF4aHJTdXBwb3J0ZWQ7CgpqUXVlcnkuYWpheFRyYW5zcG9ydCggZnVuY3Rpb24oIG9wdGlvbnMgKSB7Cgl2YXIgY2FsbGJhY2ssIGVycm9yQ2FsbGJhY2s7CgoJLy8gQ3Jvc3MgZG9tYWluIG9ubHkgYWxsb3dlZCBpZiBzdXBwb3J0ZWQgdGhyb3VnaCBYTUxIdHRwUmVxdWVzdAoJaWYgKCBzdXBwb3J0LmNvcnMgfHwgeGhyU3VwcG9ydGVkICYmICFvcHRpb25zLmNyb3NzRG9tYWluICkgewoJCXJldHVybiB7CgkJCXNlbmQ6IGZ1bmN0aW9uKCBoZWFkZXJzLCBjb21wbGV0ZSApIHsKCQkJCXZhciBpLAoJCQkJCXhociA9IG9wdGlvbnMueGhyKCk7CgoJCQkJeGhyLm9wZW4oCgkJCQkJb3B0aW9ucy50eXBlLAoJCQkJCW9wdGlvbnMudXJsLAoJCQkJCW9wdGlvbnMuYXN5bmMsCgkJCQkJb3B0aW9ucy51c2VybmFtZSwKCQkJCQlvcHRpb25zLnBhc3N3b3JkCgkJCQkpOwoKCQkJCS8vIEFwcGx5IGN1c3RvbSBmaWVsZHMgaWYgcHJvdmlkZWQKCQkJCWlmICggb3B0aW9ucy54aHJGaWVsZHMgKSB7CgkJCQkJZm9yICggaSBpbiBvcHRpb25zLnhockZpZWxkcyApIHsKCQkJCQkJeGhyWyBpIF0gPSBvcHRpb25zLnhockZpZWxkc1sgaSBdOwoJCQkJCX0KCQkJCX0KCgkJCQkvLyBPdmVycmlkZSBtaW1lIHR5cGUgaWYgbmVlZGVkCgkJCQlpZiAoIG9wdGlvbnMubWltZVR5cGUgJiYgeGhyLm92ZXJyaWRlTWltZVR5cGUgKSB7CgkJCQkJeGhyLm92ZXJyaWRlTWltZVR5cGUoIG9wdGlvbnMubWltZVR5cGUgKTsKCQkJCX0KCgkJCQkvLyBYLVJlcXVlc3RlZC1XaXRoIGhlYWRlcgoJCQkJLy8gRm9yIGNyb3NzLWRvbWFpbiByZXF1ZXN0cywgc2VlaW5nIGFzIGNvbmRpdGlvbnMgZm9yIGEgcHJlZmxpZ2h0IGFyZQoJCQkJLy8gYWtpbiB0byBhIGppZ3NhdyBwdXp6bGUsIHdlIHNpbXBseSBuZXZlciBzZXQgaXQgdG8gYmUgc3VyZS4KCQkJCS8vIChpdCBjYW4gYWx3YXlzIGJlIHNldCBvbiBhIHBlci1yZXF1ZXN0IGJhc2lzIG9yIGV2ZW4gdXNpbmcgYWpheFNldHVwKQoJCQkJLy8gRm9yIHNhbWUtZG9tYWluIHJlcXVlc3RzLCB3b24ndCBjaGFuZ2UgaGVhZGVyIGlmIGFscmVhZHkgcHJvdmlkZWQuCgkJCQlpZiAoICFvcHRpb25zLmNyb3NzRG9tYWluICYmICFoZWFkZXJzWyAiWC1SZXF1ZXN0ZWQtV2l0aCIgXSApIHsKCQkJCQloZWFkZXJzWyAiWC1SZXF1ZXN0ZWQtV2l0aCIgXSA9ICJYTUxIdHRwUmVxdWVzdCI7CgkJCQl9CgoJCQkJLy8gU2V0IGhlYWRlcnMKCQkJCWZvciAoIGkgaW4gaGVhZGVycyApIHsKCQkJCQl4aHIuc2V0UmVxdWVzdEhlYWRlciggaSwgaGVhZGVyc1sgaSBdICk7CgkJCQl9CgoJCQkJLy8gQ2FsbGJhY2sKCQkJCWNhbGxiYWNrID0gZnVuY3Rpb24oIHR5cGUgKSB7CgkJCQkJcmV0dXJuIGZ1bmN0aW9uKCkgewoJCQkJCQlpZiAoIGNhbGxiYWNrICkgewoJCQkJCQkJY2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrID0geGhyLm9ubG9hZCA9CgkJCQkJCQkJeGhyLm9uZXJyb3IgPSB4aHIub25hYm9ydCA9IHhoci5vbnRpbWVvdXQgPQoJCQkJCQkJCQl4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDsKCgkJCQkJCQlpZiAoIHR5cGUgPT09ICJhYm9ydCIgKSB7CgkJCQkJCQkJeGhyLmFib3J0KCk7CgkJCQkJCQl9IGVsc2UgaWYgKCB0eXBlID09PSAiZXJyb3IiICkgewoKCQkJCQkJCQkvLyBTdXBwb3J0OiBJRSA8PTkgb25seQoJCQkJCQkJCS8vIE9uIGEgbWFudWFsIG5hdGl2ZSBhYm9ydCwgSUU5IHRocm93cwoJCQkJCQkJCS8vIGVycm9ycyBvbiBhbnkgcHJvcGVydHkgYWNjZXNzIHRoYXQgaXMgbm90IHJlYWR5U3RhdGUKCQkJCQkJCQlpZiAoIHR5cGVvZiB4aHIuc3RhdHVzICE9PSAibnVtYmVyIiApIHsKCQkJCQkJCQkJY29tcGxldGUoIDAsICJlcnJvciIgKTsKCQkJCQkJCQl9IGVsc2UgewoJCQkJCQkJCQljb21wbGV0ZSgKCgkJCQkJCQkJCQkvLyBGaWxlOiBwcm90b2NvbCBhbHdheXMgeWllbGRzIHN0YXR1cyAwOyBzZWUgdHJhYy04NjA1LCB0cmFjLTE0MjA3CgkJCQkJCQkJCQl4aHIuc3RhdHVzLAoJCQkJCQkJCQkJeGhyLnN0YXR1c1RleHQKCQkJCQkJCQkJKTsKCQkJCQkJCQl9CgkJCQkJCQl9IGVsc2UgewoJCQkJCQkJCWNvbXBsZXRlKAoJCQkJCQkJCQl4aHJTdWNjZXNzU3RhdHVzWyB4aHIuc3RhdHVzIF0gfHwgeGhyLnN0YXR1cywKCQkJCQkJCQkJeGhyLnN0YXR1c1RleHQsCgoJCQkJCQkJCQkvLyBTdXBwb3J0OiBJRSA8PTkgb25seQoJCQkJCQkJCQkvLyBJRTkgaGFzIG5vIFhIUjIgYnV0IHRocm93cyBvbiBiaW5hcnkgKHRyYWMtMTE0MjYpCgkJCQkJCQkJCS8vIEZvciBYSFIyIG5vbi10ZXh0LCBsZXQgdGhlIGNhbGxlciBoYW5kbGUgaXQgKGdoLTI0OTgpCgkJCQkJCQkJCSggeGhyLnJlc3BvbnNlVHlwZSB8fCAidGV4dCIgKSAhPT0gInRleHQiICB8fAoJCQkJCQkJCQl0eXBlb2YgeGhyLnJlc3BvbnNlVGV4dCAhPT0gInN0cmluZyIgPwoJCQkJCQkJCQkJeyBiaW5hcnk6IHhoci5yZXNwb25zZSB9IDoKCQkJCQkJCQkJCXsgdGV4dDogeGhyLnJlc3BvbnNlVGV4dCB9LAoJCQkJCQkJCQl4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkKCQkJCQkJCQkpOwoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJfTsKCQkJCX07CgoJCQkJLy8gTGlzdGVuIHRvIGV2ZW50cwoJCQkJeGhyLm9ubG9hZCA9IGNhbGxiYWNrKCk7CgkJCQllcnJvckNhbGxiYWNrID0geGhyLm9uZXJyb3IgPSB4aHIub250aW1lb3V0ID0gY2FsbGJhY2soICJlcnJvciIgKTsKCgkJCQkvLyBTdXBwb3J0OiBJRSA5IG9ubHkKCQkJCS8vIFVzZSBvbnJlYWR5c3RhdGVjaGFuZ2UgdG8gcmVwbGFjZSBvbmFib3J0CgkJCQkvLyB0byBoYW5kbGUgdW5jYXVnaHQgYWJvcnRzCgkJCQlpZiAoIHhoci5vbmFib3J0ICE9PSB1bmRlZmluZWQgKSB7CgkJCQkJeGhyLm9uYWJvcnQgPSBlcnJvckNhbGxiYWNrOwoJCQkJfSBlbHNlIHsKCQkJCQl4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7CgoJCQkJCQkvLyBDaGVjayByZWFkeVN0YXRlIGJlZm9yZSB0aW1lb3V0IGFzIGl0IGNoYW5nZXMKCQkJCQkJaWYgKCB4aHIucmVhZHlTdGF0ZSA9PT0gNCApIHsKCgkJCQkJCQkvLyBBbGxvdyBvbmVycm9yIHRvIGJlIGNhbGxlZCBmaXJzdCwKCQkJCQkJCS8vIGJ1dCB0aGF0IHdpbGwgbm90IGhhbmRsZSBhIG5hdGl2ZSBhYm9ydAoJCQkJCQkJLy8gQWxzbywgc2F2ZSBlcnJvckNhbGxiYWNrIHRvIGEgdmFyaWFibGUKCQkJCQkJCS8vIGFzIHhoci5vbmVycm9yIGNhbm5vdCBiZSBhY2Nlc3NlZAoJCQkJCQkJd2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkgewoJCQkJCQkJCWlmICggY2FsbGJhY2sgKSB7CgkJCQkJCQkJCWVycm9yQ2FsbGJhY2soKTsKCQkJCQkJCQl9CgkJCQkJCQl9ICk7CgkJCQkJCX0KCQkJCQl9OwoJCQkJfQoKCQkJCS8vIENyZWF0ZSB0aGUgYWJvcnQgY2FsbGJhY2sKCQkJCWNhbGxiYWNrID0gY2FsbGJhY2soICJhYm9ydCIgKTsKCgkJCQl0cnkgewoKCQkJCQkvLyBEbyBzZW5kIHRoZSByZXF1ZXN0ICh0aGlzIG1heSByYWlzZSBhbiBleGNlcHRpb24pCgkJCQkJeGhyLnNlbmQoIG9wdGlvbnMuaGFzQ29udGVudCAmJiBvcHRpb25zLmRhdGEgfHwgbnVsbCApOwoJCQkJfSBjYXRjaCAoIGUgKSB7CgoJCQkJCS8vIHRyYWMtMTQ2ODM6IE9ubHkgcmV0aHJvdyBpZiB0aGlzIGhhc24ndCBiZWVuIG5vdGlmaWVkIGFzIGFuIGVycm9yIHlldAoJCQkJCWlmICggY2FsbGJhY2sgKSB7CgkJCQkJCXRocm93IGU7CgkJCQkJfQoJCQkJfQoJCQl9LAoKCQkJYWJvcnQ6IGZ1bmN0aW9uKCkgewoJCQkJaWYgKCBjYWxsYmFjayApIHsKCQkJCQljYWxsYmFjaygpOwoJCQkJfQoJCQl9CgkJfTsKCX0KfSApOwoKCgoKLy8gUHJldmVudCBhdXRvLWV4ZWN1dGlvbiBvZiBzY3JpcHRzIHdoZW4gbm8gZXhwbGljaXQgZGF0YVR5cGUgd2FzIHByb3ZpZGVkIChTZWUgZ2gtMjQzMikKalF1ZXJ5LmFqYXhQcmVmaWx0ZXIoIGZ1bmN0aW9uKCBzICkgewoJaWYgKCBzLmNyb3NzRG9tYWluICkgewoJCXMuY29udGVudHMuc2NyaXB0ID0gZmFsc2U7Cgl9Cn0gKTsKCi8vIEluc3RhbGwgc2NyaXB0IGRhdGFUeXBlCmpRdWVyeS5hamF4U2V0dXAoIHsKCWFjY2VwdHM6IHsKCQlzY3JpcHQ6ICJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsICIgKwoJCQkiYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0IgoJfSwKCWNvbnRlbnRzOiB7CgkJc2NyaXB0OiAvXGIoPzpqYXZhfGVjbWEpc2NyaXB0XGIvCgl9LAoJY29udmVydGVyczogewoJCSJ0ZXh0IHNjcmlwdCI6IGZ1bmN0aW9uKCB0ZXh0ICkgewoJCQlqUXVlcnkuZ2xvYmFsRXZhbCggdGV4dCApOwoJCQlyZXR1cm4gdGV4dDsKCQl9Cgl9Cn0gKTsKCi8vIEhhbmRsZSBjYWNoZSdzIHNwZWNpYWwgY2FzZSBhbmQgY3Jvc3NEb21haW4KalF1ZXJ5LmFqYXhQcmVmaWx0ZXIoICJzY3JpcHQiLCBmdW5jdGlvbiggcyApIHsKCWlmICggcy5jYWNoZSA9PT0gdW5kZWZpbmVkICkgewoJCXMuY2FjaGUgPSBmYWxzZTsKCX0KCWlmICggcy5jcm9zc0RvbWFpbiApIHsKCQlzLnR5cGUgPSAiR0VUIjsKCX0KfSApOwoKLy8gQmluZCBzY3JpcHQgdGFnIGhhY2sgdHJhbnNwb3J0CmpRdWVyeS5hamF4VHJhbnNwb3J0KCAic2NyaXB0IiwgZnVuY3Rpb24oIHMgKSB7CgoJLy8gVGhpcyB0cmFuc3BvcnQgb25seSBkZWFscyB3aXRoIGNyb3NzIGRvbWFpbiBvciBmb3JjZWQtYnktYXR0cnMgcmVxdWVzdHMKCWlmICggcy5jcm9zc0RvbWFpbiB8fCBzLnNjcmlwdEF0dHJzICkgewoJCXZhciBzY3JpcHQsIGNhbGxiYWNrOwoJCXJldHVybiB7CgkJCXNlbmQ6IGZ1bmN0aW9uKCBfLCBjb21wbGV0ZSApIHsKCQkJCXNjcmlwdCA9IGpRdWVyeSggIjxzY3JpcHQ+IiApCgkJCQkJLmF0dHIoIHMuc2NyaXB0QXR0cnMgfHwge30gKQoJCQkJCS5wcm9wKCB7IGNoYXJzZXQ6IHMuc2NyaXB0Q2hhcnNldCwgc3JjOiBzLnVybCB9ICkKCQkJCQkub24oICJsb2FkIGVycm9yIiwgY2FsbGJhY2sgPSBmdW5jdGlvbiggZXZ0ICkgewoJCQkJCQlzY3JpcHQucmVtb3ZlKCk7CgkJCQkJCWNhbGxiYWNrID0gbnVsbDsKCQkJCQkJaWYgKCBldnQgKSB7CgkJCQkJCQljb21wbGV0ZSggZXZ0LnR5cGUgPT09ICJlcnJvciIgPyA0MDQgOiAyMDAsIGV2dC50eXBlICk7CgkJCQkJCX0KCQkJCQl9ICk7CgoJCQkJLy8gVXNlIG5hdGl2ZSBET00gbWFuaXB1bGF0aW9uIHRvIGF2b2lkIG91ciBkb21NYW5pcCBBSkFYIHRyaWNrZXJ5CgkJCQlkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKCBzY3JpcHRbIDAgXSApOwoJCQl9LAoJCQlhYm9ydDogZnVuY3Rpb24oKSB7CgkJCQlpZiAoIGNhbGxiYWNrICkgewoJCQkJCWNhbGxiYWNrKCk7CgkJCQl9CgkJCX0KCQl9OwoJfQp9ICk7CgoKCgp2YXIgb2xkQ2FsbGJhY2tzID0gW10sCglyanNvbnAgPSAvKD0pXD8oPz0mfCQpfFw/XD8vOwoKLy8gRGVmYXVsdCBqc29ucCBzZXR0aW5ncwpqUXVlcnkuYWpheFNldHVwKCB7Cglqc29ucDogImNhbGxiYWNrIiwKCWpzb25wQ2FsbGJhY2s6IGZ1bmN0aW9uKCkgewoJCXZhciBjYWxsYmFjayA9IG9sZENhbGxiYWNrcy5wb3AoKSB8fCAoIGpRdWVyeS5leHBhbmRvICsgIl8iICsgKCBub25jZS5ndWlkKysgKSApOwoJCXRoaXNbIGNhbGxiYWNrIF0gPSB0cnVlOwoJCXJldHVybiBjYWxsYmFjazsKCX0KfSApOwoKLy8gRGV0ZWN0LCBub3JtYWxpemUgb3B0aW9ucyBhbmQgaW5zdGFsbCBjYWxsYmFja3MgZm9yIGpzb25wIHJlcXVlc3RzCmpRdWVyeS5hamF4UHJlZmlsdGVyKCAianNvbiBqc29ucCIsIGZ1bmN0aW9uKCBzLCBvcmlnaW5hbFNldHRpbmdzLCBqcVhIUiApIHsKCgl2YXIgY2FsbGJhY2tOYW1lLCBvdmVyd3JpdHRlbiwgcmVzcG9uc2VDb250YWluZXIsCgkJanNvblByb3AgPSBzLmpzb25wICE9PSBmYWxzZSAmJiAoIHJqc29ucC50ZXN0KCBzLnVybCApID8KCQkJInVybCIgOgoJCQl0eXBlb2Ygcy5kYXRhID09PSAic3RyaW5nIiAmJgoJCQkJKCBzLmNvbnRlbnRUeXBlIHx8ICIiICkKCQkJCQkuaW5kZXhPZiggImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIgKSA9PT0gMCAmJgoJCQkJcmpzb25wLnRlc3QoIHMuZGF0YSApICYmICJkYXRhIgoJCSk7CgoJLy8gSGFuZGxlIGlmZiB0aGUgZXhwZWN0ZWQgZGF0YSB0eXBlIGlzICJqc29ucCIgb3Igd2UgaGF2ZSBhIHBhcmFtZXRlciB0byBzZXQKCWlmICgganNvblByb3AgfHwgcy5kYXRhVHlwZXNbIDAgXSA9PT0gImpzb25wIiApIHsKCgkJLy8gR2V0IGNhbGxiYWNrIG5hbWUsIHJlbWVtYmVyaW5nIHByZWV4aXN0aW5nIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCBpdAoJCWNhbGxiYWNrTmFtZSA9IHMuanNvbnBDYWxsYmFjayA9IGlzRnVuY3Rpb24oIHMuanNvbnBDYWxsYmFjayApID8KCQkJcy5qc29ucENhbGxiYWNrKCkgOgoJCQlzLmpzb25wQ2FsbGJhY2s7CgoJCS8vIEluc2VydCBjYWxsYmFjayBpbnRvIHVybCBvciBmb3JtIGRhdGEKCQlpZiAoIGpzb25Qcm9wICkgewoJCQlzWyBqc29uUHJvcCBdID0gc1sganNvblByb3AgXS5yZXBsYWNlKCByanNvbnAsICIkMSIgKyBjYWxsYmFja05hbWUgKTsKCQl9IGVsc2UgaWYgKCBzLmpzb25wICE9PSBmYWxzZSApIHsKCQkJcy51cmwgKz0gKCBycXVlcnkudGVzdCggcy51cmwgKSA/ICImIiA6ICI/IiApICsgcy5qc29ucCArICI9IiArIGNhbGxiYWNrTmFtZTsKCQl9CgoJCS8vIFVzZSBkYXRhIGNvbnZlcnRlciB0byByZXRyaWV2ZSBqc29uIGFmdGVyIHNjcmlwdCBleGVjdXRpb24KCQlzLmNvbnZlcnRlcnNbICJzY3JpcHQganNvbiIgXSA9IGZ1bmN0aW9uKCkgewoJCQlpZiAoICFyZXNwb25zZUNvbnRhaW5lciApIHsKCQkJCWpRdWVyeS5lcnJvciggY2FsbGJhY2tOYW1lICsgIiB3YXMgbm90IGNhbGxlZCIgKTsKCQkJfQoJCQlyZXR1cm4gcmVzcG9uc2VDb250YWluZXJbIDAgXTsKCQl9OwoKCQkvLyBGb3JjZSBqc29uIGRhdGFUeXBlCgkJcy5kYXRhVHlwZXNbIDAgXSA9ICJqc29uIjsKCgkJLy8gSW5zdGFsbCBjYWxsYmFjawoJCW92ZXJ3cml0dGVuID0gd2luZG93WyBjYWxsYmFja05hbWUgXTsKCQl3aW5kb3dbIGNhbGxiYWNrTmFtZSBdID0gZnVuY3Rpb24oKSB7CgkJCXJlc3BvbnNlQ29udGFpbmVyID0gYXJndW1lbnRzOwoJCX07CgoJCS8vIENsZWFuLXVwIGZ1bmN0aW9uIChmaXJlcyBhZnRlciBjb252ZXJ0ZXJzKQoJCWpxWEhSLmFsd2F5cyggZnVuY3Rpb24oKSB7CgoJCQkvLyBJZiBwcmV2aW91cyB2YWx1ZSBkaWRuJ3QgZXhpc3QgLSByZW1vdmUgaXQKCQkJaWYgKCBvdmVyd3JpdHRlbiA9PT0gdW5kZWZpbmVkICkgewoJCQkJalF1ZXJ5KCB3aW5kb3cgKS5yZW1vdmVQcm9wKCBjYWxsYmFja05hbWUgKTsKCgkJCS8vIE90aGVyd2lzZSByZXN0b3JlIHByZWV4aXN0aW5nIHZhbHVlCgkJCX0gZWxzZSB7CgkJCQl3aW5kb3dbIGNhbGxiYWNrTmFtZSBdID0gb3ZlcndyaXR0ZW47CgkJCX0KCgkJCS8vIFNhdmUgYmFjayBhcyBmcmVlCgkJCWlmICggc1sgY2FsbGJhY2tOYW1lIF0gKSB7CgoJCQkJLy8gTWFrZSBzdXJlIHRoYXQgcmUtdXNpbmcgdGhlIG9wdGlvbnMgZG9lc24ndCBzY3JldyB0aGluZ3MgYXJvdW5kCgkJCQlzLmpzb25wQ2FsbGJhY2sgPSBvcmlnaW5hbFNldHRpbmdzLmpzb25wQ2FsbGJhY2s7CgoJCQkJLy8gU2F2ZSB0aGUgY2FsbGJhY2sgbmFtZSBmb3IgZnV0dXJlIHVzZQoJCQkJb2xkQ2FsbGJhY2tzLnB1c2goIGNhbGxiYWNrTmFtZSApOwoJCQl9CgoJCQkvLyBDYWxsIGlmIGl0IHdhcyBhIGZ1bmN0aW9uIGFuZCB3ZSBoYXZlIGEgcmVzcG9uc2UKCQkJaWYgKCByZXNwb25zZUNvbnRhaW5lciAmJiBpc0Z1bmN0aW9uKCBvdmVyd3JpdHRlbiApICkgewoJCQkJb3ZlcndyaXR0ZW4oIHJlc3BvbnNlQ29udGFpbmVyWyAwIF0gKTsKCQkJfQoKCQkJcmVzcG9uc2VDb250YWluZXIgPSBvdmVyd3JpdHRlbiA9IHVuZGVmaW5lZDsKCQl9ICk7CgoJCS8vIERlbGVnYXRlIHRvIHNjcmlwdAoJCXJldHVybiAic2NyaXB0IjsKCX0KfSApOwoKCgoKLy8gU3VwcG9ydDogU2FmYXJpIDggb25seQovLyBJbiBTYWZhcmkgOCBkb2N1bWVudHMgY3JlYXRlZCB2aWEgZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50Ci8vIGNvbGxhcHNlIHNpYmxpbmcgZm9ybXM6IHRoZSBzZWNvbmQgb25lIGJlY29tZXMgYSBjaGlsZCBvZiB0aGUgZmlyc3Qgb25lLgovLyBCZWNhdXNlIG9mIHRoYXQsIHRoaXMgc2VjdXJpdHkgbWVhc3VyZSBoYXMgdG8gYmUgZGlzYWJsZWQgaW4gU2FmYXJpIDguCi8vIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xMzczMzcKc3VwcG9ydC5jcmVhdGVIVE1MRG9jdW1lbnQgPSAoIGZ1bmN0aW9uKCkgewoJdmFyIGJvZHkgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoICIiICkuYm9keTsKCWJvZHkuaW5uZXJIVE1MID0gIjxmb3JtPjwvZm9ybT48Zm9ybT48L2Zvcm0+IjsKCXJldHVybiBib2R5LmNoaWxkTm9kZXMubGVuZ3RoID09PSAyOwp9ICkoKTsKCgovLyBBcmd1bWVudCAiZGF0YSIgc2hvdWxkIGJlIHN0cmluZyBvZiBodG1sCi8vIGNvbnRleHQgKG9wdGlvbmFsKTogSWYgc3BlY2lmaWVkLCB0aGUgZnJhZ21lbnQgd2lsbCBiZSBjcmVhdGVkIGluIHRoaXMgY29udGV4dCwKLy8gZGVmYXVsdHMgdG8gZG9jdW1lbnQKLy8ga2VlcFNjcmlwdHMgKG9wdGlvbmFsKTogSWYgdHJ1ZSwgd2lsbCBpbmNsdWRlIHNjcmlwdHMgcGFzc2VkIGluIHRoZSBodG1sIHN0cmluZwpqUXVlcnkucGFyc2VIVE1MID0gZnVuY3Rpb24oIGRhdGEsIGNvbnRleHQsIGtlZXBTY3JpcHRzICkgewoJaWYgKCB0eXBlb2YgZGF0YSAhPT0gInN0cmluZyIgKSB7CgkJcmV0dXJuIFtdOwoJfQoJaWYgKCB0eXBlb2YgY29udGV4dCA9PT0gImJvb2xlYW4iICkgewoJCWtlZXBTY3JpcHRzID0gY29udGV4dDsKCQljb250ZXh0ID0gZmFsc2U7Cgl9CgoJdmFyIGJhc2UsIHBhcnNlZCwgc2NyaXB0czsKCglpZiAoICFjb250ZXh0ICkgewoKCQkvLyBTdG9wIHNjcmlwdHMgb3IgaW5saW5lIGV2ZW50IGhhbmRsZXJzIGZyb20gYmVpbmcgZXhlY3V0ZWQgaW1tZWRpYXRlbHkKCQkvLyBieSB1c2luZyBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbgoJCWlmICggc3VwcG9ydC5jcmVhdGVIVE1MRG9jdW1lbnQgKSB7CgkJCWNvbnRleHQgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoICIiICk7CgoJCQkvLyBTZXQgdGhlIGJhc2UgaHJlZiBmb3IgdGhlIGNyZWF0ZWQgZG9jdW1lbnQKCQkJLy8gc28gYW55IHBhcnNlZCBlbGVtZW50cyB3aXRoIFVSTHMKCQkJLy8gYXJlIGJhc2VkIG9uIHRoZSBkb2N1bWVudCdzIFVSTCAoZ2gtMjk2NSkKCQkJYmFzZSA9IGNvbnRleHQuY3JlYXRlRWxlbWVudCggImJhc2UiICk7CgkJCWJhc2UuaHJlZiA9IGRvY3VtZW50LmxvY2F0aW9uLmhyZWY7CgkJCWNvbnRleHQuaGVhZC5hcHBlbmRDaGlsZCggYmFzZSApOwoJCX0gZWxzZSB7CgkJCWNvbnRleHQgPSBkb2N1bWVudDsKCQl9Cgl9CgoJcGFyc2VkID0gcnNpbmdsZVRhZy5leGVjKCBkYXRhICk7CglzY3JpcHRzID0gIWtlZXBTY3JpcHRzICYmIFtdOwoKCS8vIFNpbmdsZSB0YWcKCWlmICggcGFyc2VkICkgewoJCXJldHVybiBbIGNvbnRleHQuY3JlYXRlRWxlbWVudCggcGFyc2VkWyAxIF0gKSBdOwoJfQoKCXBhcnNlZCA9IGJ1aWxkRnJhZ21lbnQoIFsgZGF0YSBdLCBjb250ZXh0LCBzY3JpcHRzICk7CgoJaWYgKCBzY3JpcHRzICYmIHNjcmlwdHMubGVuZ3RoICkgewoJCWpRdWVyeSggc2NyaXB0cyApLnJlbW92ZSgpOwoJfQoKCXJldHVybiBqUXVlcnkubWVyZ2UoIFtdLCBwYXJzZWQuY2hpbGROb2RlcyApOwp9OwoKCi8qKgogKiBMb2FkIGEgdXJsIGludG8gYSBwYWdlCiAqLwpqUXVlcnkuZm4ubG9hZCA9IGZ1bmN0aW9uKCB1cmwsIHBhcmFtcywgY2FsbGJhY2sgKSB7Cgl2YXIgc2VsZWN0b3IsIHR5cGUsIHJlc3BvbnNlLAoJCXNlbGYgPSB0aGlzLAoJCW9mZiA9IHVybC5pbmRleE9mKCAiICIgKTsKCglpZiAoIG9mZiA+IC0xICkgewoJCXNlbGVjdG9yID0gc3RyaXBBbmRDb2xsYXBzZSggdXJsLnNsaWNlKCBvZmYgKSApOwoJCXVybCA9IHVybC5zbGljZSggMCwgb2ZmICk7Cgl9CgoJLy8gSWYgaXQncyBhIGZ1bmN0aW9uCglpZiAoIGlzRnVuY3Rpb24oIHBhcmFtcyApICkgewoKCQkvLyBXZSBhc3N1bWUgdGhhdCBpdCdzIHRoZSBjYWxsYmFjawoJCWNhbGxiYWNrID0gcGFyYW1zOwoJCXBhcmFtcyA9IHVuZGVmaW5lZDsKCgkvLyBPdGhlcndpc2UsIGJ1aWxkIGEgcGFyYW0gc3RyaW5nCgl9IGVsc2UgaWYgKCBwYXJhbXMgJiYgdHlwZW9mIHBhcmFtcyA9PT0gIm9iamVjdCIgKSB7CgkJdHlwZSA9ICJQT1NUIjsKCX0KCgkvLyBJZiB3ZSBoYXZlIGVsZW1lbnRzIHRvIG1vZGlmeSwgbWFrZSB0aGUgcmVxdWVzdAoJaWYgKCBzZWxmLmxlbmd0aCA+IDAgKSB7CgkJalF1ZXJ5LmFqYXgoIHsKCQkJdXJsOiB1cmwsCgoJCQkvLyBJZiAidHlwZSIgdmFyaWFibGUgaXMgdW5kZWZpbmVkLCB0aGVuICJHRVQiIG1ldGhvZCB3aWxsIGJlIHVzZWQuCgkJCS8vIE1ha2UgdmFsdWUgb2YgdGhpcyBmaWVsZCBleHBsaWNpdCBzaW5jZQoJCQkvLyB1c2VyIGNhbiBvdmVycmlkZSBpdCB0aHJvdWdoIGFqYXhTZXR1cCBtZXRob2QKCQkJdHlwZTogdHlwZSB8fCAiR0VUIiwKCQkJZGF0YVR5cGU6ICJodG1sIiwKCQkJZGF0YTogcGFyYW1zCgkJfSApLmRvbmUoIGZ1bmN0aW9uKCByZXNwb25zZVRleHQgKSB7CgoJCQkvLyBTYXZlIHJlc3BvbnNlIGZvciB1c2UgaW4gY29tcGxldGUgY2FsbGJhY2sKCQkJcmVzcG9uc2UgPSBhcmd1bWVudHM7CgoJCQlzZWxmLmh0bWwoIHNlbGVjdG9yID8KCgkJCQkvLyBJZiBhIHNlbGVjdG9yIHdhcyBzcGVjaWZpZWQsIGxvY2F0ZSB0aGUgcmlnaHQgZWxlbWVudHMgaW4gYSBkdW1teSBkaXYKCQkJCS8vIEV4Y2x1ZGUgc2NyaXB0cyB0byBhdm9pZCBJRSAnUGVybWlzc2lvbiBEZW5pZWQnIGVycm9ycwoJCQkJalF1ZXJ5KCAiPGRpdj4iICkuYXBwZW5kKCBqUXVlcnkucGFyc2VIVE1MKCByZXNwb25zZVRleHQgKSApLmZpbmQoIHNlbGVjdG9yICkgOgoKCQkJCS8vIE90aGVyd2lzZSB1c2UgdGhlIGZ1bGwgcmVzdWx0CgkJCQlyZXNwb25zZVRleHQgKTsKCgkJLy8gSWYgdGhlIHJlcXVlc3Qgc3VjY2VlZHMsIHRoaXMgZnVuY3Rpb24gZ2V0cyAiZGF0YSIsICJzdGF0dXMiLCAianFYSFIiCgkJLy8gYnV0IHRoZXkgYXJlIGlnbm9yZWQgYmVjYXVzZSByZXNwb25zZSB3YXMgc2V0IGFib3ZlLgoJCS8vIElmIGl0IGZhaWxzLCB0aGlzIGZ1bmN0aW9uIGdldHMgImpxWEhSIiwgInN0YXR1cyIsICJlcnJvciIKCQl9ICkuYWx3YXlzKCBjYWxsYmFjayAmJiBmdW5jdGlvbigganFYSFIsIHN0YXR1cyApIHsKCQkJc2VsZi5lYWNoKCBmdW5jdGlvbigpIHsKCQkJCWNhbGxiYWNrLmFwcGx5KCB0aGlzLCByZXNwb25zZSB8fCBbIGpxWEhSLnJlc3BvbnNlVGV4dCwgc3RhdHVzLCBqcVhIUiBdICk7CgkJCX0gKTsKCQl9ICk7Cgl9CgoJcmV0dXJuIHRoaXM7Cn07CgoKCgpqUXVlcnkuZXhwci5wc2V1ZG9zLmFuaW1hdGVkID0gZnVuY3Rpb24oIGVsZW0gKSB7CglyZXR1cm4galF1ZXJ5LmdyZXAoIGpRdWVyeS50aW1lcnMsIGZ1bmN0aW9uKCBmbiApIHsKCQlyZXR1cm4gZWxlbSA9PT0gZm4uZWxlbTsKCX0gKS5sZW5ndGg7Cn07CgoKCgpqUXVlcnkub2Zmc2V0ID0gewoJc2V0T2Zmc2V0OiBmdW5jdGlvbiggZWxlbSwgb3B0aW9ucywgaSApIHsKCQl2YXIgY3VyUG9zaXRpb24sIGN1ckxlZnQsIGN1ckNTU1RvcCwgY3VyVG9wLCBjdXJPZmZzZXQsIGN1ckNTU0xlZnQsIGNhbGN1bGF0ZVBvc2l0aW9uLAoJCQlwb3NpdGlvbiA9IGpRdWVyeS5jc3MoIGVsZW0sICJwb3NpdGlvbiIgKSwKCQkJY3VyRWxlbSA9IGpRdWVyeSggZWxlbSApLAoJCQlwcm9wcyA9IHt9OwoKCQkvLyBTZXQgcG9zaXRpb24gZmlyc3QsIGluLWNhc2UgdG9wL2xlZnQgYXJlIHNldCBldmVuIG9uIHN0YXRpYyBlbGVtCgkJaWYgKCBwb3NpdGlvbiA9PT0gInN0YXRpYyIgKSB7CgkJCWVsZW0uc3R5bGUucG9zaXRpb24gPSAicmVsYXRpdmUiOwoJCX0KCgkJY3VyT2Zmc2V0ID0gY3VyRWxlbS5vZmZzZXQoKTsKCQljdXJDU1NUb3AgPSBqUXVlcnkuY3NzKCBlbGVtLCAidG9wIiApOwoJCWN1ckNTU0xlZnQgPSBqUXVlcnkuY3NzKCBlbGVtLCAibGVmdCIgKTsKCQljYWxjdWxhdGVQb3NpdGlvbiA9ICggcG9zaXRpb24gPT09ICJhYnNvbHV0ZSIgfHwgcG9zaXRpb24gPT09ICJmaXhlZCIgKSAmJgoJCQkoIGN1ckNTU1RvcCArIGN1ckNTU0xlZnQgKS5pbmRleE9mKCAiYXV0byIgKSA+IC0xOwoKCQkvLyBOZWVkIHRvIGJlIGFibGUgdG8gY2FsY3VsYXRlIHBvc2l0aW9uIGlmIGVpdGhlcgoJCS8vIHRvcCBvciBsZWZ0IGlzIGF1dG8gYW5kIHBvc2l0aW9uIGlzIGVpdGhlciBhYnNvbHV0ZSBvciBmaXhlZAoJCWlmICggY2FsY3VsYXRlUG9zaXRpb24gKSB7CgkJCWN1clBvc2l0aW9uID0gY3VyRWxlbS5wb3NpdGlvbigpOwoJCQljdXJUb3AgPSBjdXJQb3NpdGlvbi50b3A7CgkJCWN1ckxlZnQgPSBjdXJQb3NpdGlvbi5sZWZ0OwoKCQl9IGVsc2UgewoJCQljdXJUb3AgPSBwYXJzZUZsb2F0KCBjdXJDU1NUb3AgKSB8fCAwOwoJCQljdXJMZWZ0ID0gcGFyc2VGbG9hdCggY3VyQ1NTTGVmdCApIHx8IDA7CgkJfQoKCQlpZiAoIGlzRnVuY3Rpb24oIG9wdGlvbnMgKSApIHsKCgkJCS8vIFVzZSBqUXVlcnkuZXh0ZW5kIGhlcmUgdG8gYWxsb3cgbW9kaWZpY2F0aW9uIG9mIGNvb3JkaW5hdGVzIGFyZ3VtZW50IChnaC0xODQ4KQoJCQlvcHRpb25zID0gb3B0aW9ucy5jYWxsKCBlbGVtLCBpLCBqUXVlcnkuZXh0ZW5kKCB7fSwgY3VyT2Zmc2V0ICkgKTsKCQl9CgoJCWlmICggb3B0aW9ucy50b3AgIT0gbnVsbCApIHsKCQkJcHJvcHMudG9wID0gKCBvcHRpb25zLnRvcCAtIGN1ck9mZnNldC50b3AgKSArIGN1clRvcDsKCQl9CgkJaWYgKCBvcHRpb25zLmxlZnQgIT0gbnVsbCApIHsKCQkJcHJvcHMubGVmdCA9ICggb3B0aW9ucy5sZWZ0IC0gY3VyT2Zmc2V0LmxlZnQgKSArIGN1ckxlZnQ7CgkJfQoKCQlpZiAoICJ1c2luZyIgaW4gb3B0aW9ucyApIHsKCQkJb3B0aW9ucy51c2luZy5jYWxsKCBlbGVtLCBwcm9wcyApOwoKCQl9IGVsc2UgewoJCQljdXJFbGVtLmNzcyggcHJvcHMgKTsKCQl9Cgl9Cn07CgpqUXVlcnkuZm4uZXh0ZW5kKCB7CgoJLy8gb2Zmc2V0KCkgcmVsYXRlcyBhbiBlbGVtZW50J3MgYm9yZGVyIGJveCB0byB0aGUgZG9jdW1lbnQgb3JpZ2luCglvZmZzZXQ6IGZ1bmN0aW9uKCBvcHRpb25zICkgewoKCQkvLyBQcmVzZXJ2ZSBjaGFpbmluZyBmb3Igc2V0dGVyCgkJaWYgKCBhcmd1bWVudHMubGVuZ3RoICkgewoJCQlyZXR1cm4gb3B0aW9ucyA9PT0gdW5kZWZpbmVkID8KCQkJCXRoaXMgOgoJCQkJdGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHsKCQkJCQlqUXVlcnkub2Zmc2V0LnNldE9mZnNldCggdGhpcywgb3B0aW9ucywgaSApOwoJCQkJfSApOwoJCX0KCgkJdmFyIHJlY3QsIHdpbiwKCQkJZWxlbSA9IHRoaXNbIDAgXTsKCgkJaWYgKCAhZWxlbSApIHsKCQkJcmV0dXJuOwoJCX0KCgkJLy8gUmV0dXJuIHplcm9zIGZvciBkaXNjb25uZWN0ZWQgYW5kIGhpZGRlbiAoZGlzcGxheTogbm9uZSkgZWxlbWVudHMgKGdoLTIzMTApCgkJLy8gU3VwcG9ydDogSUUgPD0xMSBvbmx5CgkJLy8gUnVubmluZyBnZXRCb3VuZGluZ0NsaWVudFJlY3Qgb24gYQoJCS8vIGRpc2Nvbm5lY3RlZCBub2RlIGluIElFIHRocm93cyBhbiBlcnJvcgoJCWlmICggIWVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggKSB7CgkJCXJldHVybiB7IHRvcDogMCwgbGVmdDogMCB9OwoJCX0KCgkJLy8gR2V0IGRvY3VtZW50LXJlbGF0aXZlIHBvc2l0aW9uIGJ5IGFkZGluZyB2aWV3cG9ydCBzY3JvbGwgdG8gdmlld3BvcnQtcmVsYXRpdmUgZ0JDUgoJCXJlY3QgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwoJCXdpbiA9IGVsZW0ub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldzsKCQlyZXR1cm4gewoJCQl0b3A6IHJlY3QudG9wICsgd2luLnBhZ2VZT2Zmc2V0LAoJCQlsZWZ0OiByZWN0LmxlZnQgKyB3aW4ucGFnZVhPZmZzZXQKCQl9OwoJfSwKCgkvLyBwb3NpdGlvbigpIHJlbGF0ZXMgYW4gZWxlbWVudCdzIG1hcmdpbiBib3ggdG8gaXRzIG9mZnNldCBwYXJlbnQncyBwYWRkaW5nIGJveAoJLy8gVGhpcyBjb3JyZXNwb25kcyB0byB0aGUgYmVoYXZpb3Igb2YgQ1NTIGFic29sdXRlIHBvc2l0aW9uaW5nCglwb3NpdGlvbjogZnVuY3Rpb24oKSB7CgkJaWYgKCAhdGhpc1sgMCBdICkgewoJCQlyZXR1cm47CgkJfQoKCQl2YXIgb2Zmc2V0UGFyZW50LCBvZmZzZXQsIGRvYywKCQkJZWxlbSA9IHRoaXNbIDAgXSwKCQkJcGFyZW50T2Zmc2V0ID0geyB0b3A6IDAsIGxlZnQ6IDAgfTsKCgkJLy8gcG9zaXRpb246Zml4ZWQgZWxlbWVudHMgYXJlIG9mZnNldCBmcm9tIHRoZSB2aWV3cG9ydCwgd2hpY2ggaXRzZWxmIGFsd2F5cyBoYXMgemVybyBvZmZzZXQKCQlpZiAoIGpRdWVyeS5jc3MoIGVsZW0sICJwb3NpdGlvbiIgKSA9PT0gImZpeGVkIiApIHsKCgkJCS8vIEFzc3VtZSBwb3NpdGlvbjpmaXhlZCBpbXBsaWVzIGF2YWlsYWJpbGl0eSBvZiBnZXRCb3VuZGluZ0NsaWVudFJlY3QKCQkJb2Zmc2V0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKCgkJfSBlbHNlIHsKCQkJb2Zmc2V0ID0gdGhpcy5vZmZzZXQoKTsKCgkJCS8vIEFjY291bnQgZm9yIHRoZSAqcmVhbCogb2Zmc2V0IHBhcmVudCwgd2hpY2ggY2FuIGJlIHRoZSBkb2N1bWVudCBvciBpdHMgcm9vdCBlbGVtZW50CgkJCS8vIHdoZW4gYSBzdGF0aWNhbGx5IHBvc2l0aW9uZWQgZWxlbWVudCBpcyBpZGVudGlmaWVkCgkJCWRvYyA9IGVsZW0ub3duZXJEb2N1bWVudDsKCQkJb2Zmc2V0UGFyZW50ID0gZWxlbS5vZmZzZXRQYXJlbnQgfHwgZG9jLmRvY3VtZW50RWxlbWVudDsKCQkJd2hpbGUgKCBvZmZzZXRQYXJlbnQgJiYKCQkJCSggb2Zmc2V0UGFyZW50ID09PSBkb2MuYm9keSB8fCBvZmZzZXRQYXJlbnQgPT09IGRvYy5kb2N1bWVudEVsZW1lbnQgKSAmJgoJCQkJalF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50LCAicG9zaXRpb24iICkgPT09ICJzdGF0aWMiICkgewoKCQkJCW9mZnNldFBhcmVudCA9IG9mZnNldFBhcmVudC5wYXJlbnROb2RlOwoJCQl9CgkJCWlmICggb2Zmc2V0UGFyZW50ICYmIG9mZnNldFBhcmVudCAhPT0gZWxlbSAmJiBvZmZzZXRQYXJlbnQubm9kZVR5cGUgPT09IDEgKSB7CgoJCQkJLy8gSW5jb3Jwb3JhdGUgYm9yZGVycyBpbnRvIGl0cyBvZmZzZXQsIHNpbmNlIHRoZXkgYXJlIG91dHNpZGUgaXRzIGNvbnRlbnQgb3JpZ2luCgkJCQlwYXJlbnRPZmZzZXQgPSBqUXVlcnkoIG9mZnNldFBhcmVudCApLm9mZnNldCgpOwoJCQkJcGFyZW50T2Zmc2V0LnRvcCArPSBqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnQsICJib3JkZXJUb3BXaWR0aCIsIHRydWUgKTsKCQkJCXBhcmVudE9mZnNldC5sZWZ0ICs9IGpRdWVyeS5jc3MoIG9mZnNldFBhcmVudCwgImJvcmRlckxlZnRXaWR0aCIsIHRydWUgKTsKCQkJfQoJCX0KCgkJLy8gU3VidHJhY3QgcGFyZW50IG9mZnNldHMgYW5kIGVsZW1lbnQgbWFyZ2lucwoJCXJldHVybiB7CgkJCXRvcDogb2Zmc2V0LnRvcCAtIHBhcmVudE9mZnNldC50b3AgLSBqUXVlcnkuY3NzKCBlbGVtLCAibWFyZ2luVG9wIiwgdHJ1ZSApLAoJCQlsZWZ0OiBvZmZzZXQubGVmdCAtIHBhcmVudE9mZnNldC5sZWZ0IC0galF1ZXJ5LmNzcyggZWxlbSwgIm1hcmdpbkxlZnQiLCB0cnVlICkKCQl9OwoJfSwKCgkvLyBUaGlzIG1ldGhvZCB3aWxsIHJldHVybiBkb2N1bWVudEVsZW1lbnQgaW4gdGhlIGZvbGxvd2luZyBjYXNlczoKCS8vIDEpIEZvciB0aGUgZWxlbWVudCBpbnNpZGUgdGhlIGlmcmFtZSB3aXRob3V0IG9mZnNldFBhcmVudCwgdGhpcyBtZXRob2Qgd2lsbCByZXR1cm4KCS8vICAgIGRvY3VtZW50RWxlbWVudCBvZiB0aGUgcGFyZW50IHdpbmRvdwoJLy8gMikgRm9yIHRoZSBoaWRkZW4gb3IgZGV0YWNoZWQgZWxlbWVudAoJLy8gMykgRm9yIGJvZHkgb3IgaHRtbCBlbGVtZW50LCBpLmUuIGluIGNhc2Ugb2YgdGhlIGh0bWwgbm9kZSAtIGl0IHdpbGwgcmV0dXJuIGl0c2VsZgoJLy8KCS8vIGJ1dCB0aG9zZSBleGNlcHRpb25zIHdlcmUgbmV2ZXIgcHJlc2VudGVkIGFzIGEgcmVhbCBsaWZlIHVzZS1jYXNlcwoJLy8gYW5kIG1pZ2h0IGJlIGNvbnNpZGVyZWQgYXMgbW9yZSBwcmVmZXJhYmxlIHJlc3VsdHMuCgkvLwoJLy8gVGhpcyBsb2dpYywgaG93ZXZlciwgaXMgbm90IGd1YXJhbnRlZWQgYW5kIGNhbiBjaGFuZ2UgYXQgYW55IHBvaW50IGluIHRoZSBmdXR1cmUKCW9mZnNldFBhcmVudDogZnVuY3Rpb24oKSB7CgkJcmV0dXJuIHRoaXMubWFwKCBmdW5jdGlvbigpIHsKCQkJdmFyIG9mZnNldFBhcmVudCA9IHRoaXMub2Zmc2V0UGFyZW50OwoKCQkJd2hpbGUgKCBvZmZzZXRQYXJlbnQgJiYgalF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50LCAicG9zaXRpb24iICkgPT09ICJzdGF0aWMiICkgewoJCQkJb2Zmc2V0UGFyZW50ID0gb2Zmc2V0UGFyZW50Lm9mZnNldFBhcmVudDsKCQkJfQoKCQkJcmV0dXJuIG9mZnNldFBhcmVudCB8fCBkb2N1bWVudEVsZW1lbnQ7CgkJfSApOwoJfQp9ICk7CgovLyBDcmVhdGUgc2Nyb2xsTGVmdCBhbmQgc2Nyb2xsVG9wIG1ldGhvZHMKalF1ZXJ5LmVhY2goIHsgc2Nyb2xsTGVmdDogInBhZ2VYT2Zmc2V0Iiwgc2Nyb2xsVG9wOiAicGFnZVlPZmZzZXQiIH0sIGZ1bmN0aW9uKCBtZXRob2QsIHByb3AgKSB7Cgl2YXIgdG9wID0gInBhZ2VZT2Zmc2V0IiA9PT0gcHJvcDsKCglqUXVlcnkuZm5bIG1ldGhvZCBdID0gZnVuY3Rpb24oIHZhbCApIHsKCQlyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggZWxlbSwgbWV0aG9kLCB2YWwgKSB7CgoJCQkvLyBDb2FsZXNjZSBkb2N1bWVudHMgYW5kIHdpbmRvd3MKCQkJdmFyIHdpbjsKCQkJaWYgKCBpc1dpbmRvdyggZWxlbSApICkgewoJCQkJd2luID0gZWxlbTsKCQkJfSBlbHNlIGlmICggZWxlbS5ub2RlVHlwZSA9PT0gOSApIHsKCQkJCXdpbiA9IGVsZW0uZGVmYXVsdFZpZXc7CgkJCX0KCgkJCWlmICggdmFsID09PSB1bmRlZmluZWQgKSB7CgkJCQlyZXR1cm4gd2luID8gd2luWyBwcm9wIF0gOiBlbGVtWyBtZXRob2QgXTsKCQkJfQoKCQkJaWYgKCB3aW4gKSB7CgkJCQl3aW4uc2Nyb2xsVG8oCgkJCQkJIXRvcCA/IHZhbCA6IHdpbi5wYWdlWE9mZnNldCwKCQkJCQl0b3AgPyB2YWwgOiB3aW4ucGFnZVlPZmZzZXQKCQkJCSk7CgoJCQl9IGVsc2UgewoJCQkJZWxlbVsgbWV0aG9kIF0gPSB2YWw7CgkJCX0KCQl9LCBtZXRob2QsIHZhbCwgYXJndW1lbnRzLmxlbmd0aCApOwoJfTsKfSApOwoKLy8gU3VwcG9ydDogU2FmYXJpIDw9NyAtIDkuMSwgQ2hyb21lIDw9MzcgLSA0OQovLyBBZGQgdGhlIHRvcC9sZWZ0IGNzc0hvb2tzIHVzaW5nIGpRdWVyeS5mbi5wb3NpdGlvbgovLyBXZWJraXQgYnVnOiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MjkwODQKLy8gQmxpbmsgYnVnOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD01ODkzNDcKLy8gZ2V0Q29tcHV0ZWRTdHlsZSByZXR1cm5zIHBlcmNlbnQgd2hlbiBzcGVjaWZpZWQgZm9yIHRvcC9sZWZ0L2JvdHRvbS9yaWdodDsKLy8gcmF0aGVyIHRoYW4gbWFrZSB0aGUgY3NzIG1vZHVsZSBkZXBlbmQgb24gdGhlIG9mZnNldCBtb2R1bGUsIGp1c3QgY2hlY2sgZm9yIGl0IGhlcmUKalF1ZXJ5LmVhY2goIFsgInRvcCIsICJsZWZ0IiBdLCBmdW5jdGlvbiggX2ksIHByb3AgKSB7CglqUXVlcnkuY3NzSG9va3NbIHByb3AgXSA9IGFkZEdldEhvb2tJZiggc3VwcG9ydC5waXhlbFBvc2l0aW9uLAoJCWZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHsKCQkJaWYgKCBjb21wdXRlZCApIHsKCQkJCWNvbXB1dGVkID0gY3VyQ1NTKCBlbGVtLCBwcm9wICk7CgoJCQkJLy8gSWYgY3VyQ1NTIHJldHVybnMgcGVyY2VudGFnZSwgZmFsbGJhY2sgdG8gb2Zmc2V0CgkJCQlyZXR1cm4gcm51bW5vbnB4LnRlc3QoIGNvbXB1dGVkICkgPwoJCQkJCWpRdWVyeSggZWxlbSApLnBvc2l0aW9uKClbIHByb3AgXSArICJweCIgOgoJCQkJCWNvbXB1dGVkOwoJCQl9CgkJfQoJKTsKfSApOwoKCi8vIENyZWF0ZSBpbm5lckhlaWdodCwgaW5uZXJXaWR0aCwgaGVpZ2h0LCB3aWR0aCwgb3V0ZXJIZWlnaHQgYW5kIG91dGVyV2lkdGggbWV0aG9kcwpqUXVlcnkuZWFjaCggeyBIZWlnaHQ6ICJoZWlnaHQiLCBXaWR0aDogIndpZHRoIiB9LCBmdW5jdGlvbiggbmFtZSwgdHlwZSApIHsKCWpRdWVyeS5lYWNoKCB7CgkJcGFkZGluZzogImlubmVyIiArIG5hbWUsCgkJY29udGVudDogdHlwZSwKCQkiIjogIm91dGVyIiArIG5hbWUKCX0sIGZ1bmN0aW9uKCBkZWZhdWx0RXh0cmEsIGZ1bmNOYW1lICkgewoKCQkvLyBNYXJnaW4gaXMgb25seSBmb3Igb3V0ZXJIZWlnaHQsIG91dGVyV2lkdGgKCQlqUXVlcnkuZm5bIGZ1bmNOYW1lIF0gPSBmdW5jdGlvbiggbWFyZ2luLCB2YWx1ZSApIHsKCQkJdmFyIGNoYWluYWJsZSA9IGFyZ3VtZW50cy5sZW5ndGggJiYgKCBkZWZhdWx0RXh0cmEgfHwgdHlwZW9mIG1hcmdpbiAhPT0gImJvb2xlYW4iICksCgkJCQlleHRyYSA9IGRlZmF1bHRFeHRyYSB8fCAoIG1hcmdpbiA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gdHJ1ZSA/ICJtYXJnaW4iIDogImJvcmRlciIgKTsKCgkJCXJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCB0eXBlLCB2YWx1ZSApIHsKCQkJCXZhciBkb2M7CgoJCQkJaWYgKCBpc1dpbmRvdyggZWxlbSApICkgewoKCQkJCQkvLyAkKCB3aW5kb3cgKS5vdXRlcldpZHRoL0hlaWdodCByZXR1cm4gdy9oIGluY2x1ZGluZyBzY3JvbGxiYXJzIChnaC0xNzI5KQoJCQkJCXJldHVybiBmdW5jTmFtZS5pbmRleE9mKCAib3V0ZXIiICkgPT09IDAgPwoJCQkJCQllbGVtWyAiaW5uZXIiICsgbmFtZSBdIDoKCQkJCQkJZWxlbS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbICJjbGllbnQiICsgbmFtZSBdOwoJCQkJfQoKCQkJCS8vIEdldCBkb2N1bWVudCB3aWR0aCBvciBoZWlnaHQKCQkJCWlmICggZWxlbS5ub2RlVHlwZSA9PT0gOSApIHsKCQkJCQlkb2MgPSBlbGVtLmRvY3VtZW50RWxlbWVudDsKCgkJCQkJLy8gRWl0aGVyIHNjcm9sbFtXaWR0aC9IZWlnaHRdIG9yIG9mZnNldFtXaWR0aC9IZWlnaHRdIG9yIGNsaWVudFtXaWR0aC9IZWlnaHRdLAoJCQkJCS8vIHdoaWNoZXZlciBpcyBncmVhdGVzdAoJCQkJCXJldHVybiBNYXRoLm1heCgKCQkJCQkJZWxlbS5ib2R5WyAic2Nyb2xsIiArIG5hbWUgXSwgZG9jWyAic2Nyb2xsIiArIG5hbWUgXSwKCQkJCQkJZWxlbS5ib2R5WyAib2Zmc2V0IiArIG5hbWUgXSwgZG9jWyAib2Zmc2V0IiArIG5hbWUgXSwKCQkJCQkJZG9jWyAiY2xpZW50IiArIG5hbWUgXQoJCQkJCSk7CgkJCQl9CgoJCQkJcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPwoKCQkJCQkvLyBHZXQgd2lkdGggb3IgaGVpZ2h0IG9uIHRoZSBlbGVtZW50LCByZXF1ZXN0aW5nIGJ1dCBub3QgZm9yY2luZyBwYXJzZUZsb2F0CgkJCQkJalF1ZXJ5LmNzcyggZWxlbSwgdHlwZSwgZXh0cmEgKSA6CgoJCQkJCS8vIFNldCB3aWR0aCBvciBoZWlnaHQgb24gdGhlIGVsZW1lbnQKCQkJCQlqUXVlcnkuc3R5bGUoIGVsZW0sIHR5cGUsIHZhbHVlLCBleHRyYSApOwoJCQl9LCB0eXBlLCBjaGFpbmFibGUgPyBtYXJnaW4gOiB1bmRlZmluZWQsIGNoYWluYWJsZSApOwoJCX07Cgl9ICk7Cn0gKTsKCgpqUXVlcnkuZWFjaCggWwoJImFqYXhTdGFydCIsCgkiYWpheFN0b3AiLAoJImFqYXhDb21wbGV0ZSIsCgkiYWpheEVycm9yIiwKCSJhamF4U3VjY2VzcyIsCgkiYWpheFNlbmQiCl0sIGZ1bmN0aW9uKCBfaSwgdHlwZSApIHsKCWpRdWVyeS5mblsgdHlwZSBdID0gZnVuY3Rpb24oIGZuICkgewoJCXJldHVybiB0aGlzLm9uKCB0eXBlLCBmbiApOwoJfTsKfSApOwoKCgoKalF1ZXJ5LmZuLmV4dGVuZCggewoKCWJpbmQ6IGZ1bmN0aW9uKCB0eXBlcywgZGF0YSwgZm4gKSB7CgkJcmV0dXJuIHRoaXMub24oIHR5cGVzLCBudWxsLCBkYXRhLCBmbiApOwoJfSwKCXVuYmluZDogZnVuY3Rpb24oIHR5cGVzLCBmbiApIHsKCQlyZXR1cm4gdGhpcy5vZmYoIHR5cGVzLCBudWxsLCBmbiApOwoJfSwKCglkZWxlZ2F0ZTogZnVuY3Rpb24oIHNlbGVjdG9yLCB0eXBlcywgZGF0YSwgZm4gKSB7CgkJcmV0dXJuIHRoaXMub24oIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4gKTsKCX0sCgl1bmRlbGVnYXRlOiBmdW5jdGlvbiggc2VsZWN0b3IsIHR5cGVzLCBmbiApIHsKCgkJLy8gKCBuYW1lc3BhY2UgKSBvciAoIHNlbGVjdG9yLCB0eXBlcyBbLCBmbl0gKQoJCXJldHVybiBhcmd1bWVudHMubGVuZ3RoID09PSAxID8KCQkJdGhpcy5vZmYoIHNlbGVjdG9yLCAiKioiICkgOgoJCQl0aGlzLm9mZiggdHlwZXMsIHNlbGVjdG9yIHx8ICIqKiIsIGZuICk7Cgl9LAoKCWhvdmVyOiBmdW5jdGlvbiggZm5PdmVyLCBmbk91dCApIHsKCQlyZXR1cm4gdGhpcwoJCQkub24oICJtb3VzZWVudGVyIiwgZm5PdmVyICkKCQkJLm9uKCAibW91c2VsZWF2ZSIsIGZuT3V0IHx8IGZuT3ZlciApOwoJfQp9ICk7CgpqUXVlcnkuZWFjaCgKCSggImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCByZXNpemUgc2Nyb2xsIGNsaWNrIGRibGNsaWNrICIgKwoJIm1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlICIgKwoJImNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgY29udGV4dG1lbnUiICkuc3BsaXQoICIgIiApLAoJZnVuY3Rpb24oIF9pLCBuYW1lICkgewoKCQkvLyBIYW5kbGUgZXZlbnQgYmluZGluZwoJCWpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIGRhdGEsIGZuICkgewoJCQlyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDAgPwoJCQkJdGhpcy5vbiggbmFtZSwgbnVsbCwgZGF0YSwgZm4gKSA6CgkJCQl0aGlzLnRyaWdnZXIoIG5hbWUgKTsKCQl9OwoJfQopOwoKCgoKLy8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5Ci8vIE1ha2Ugc3VyZSB3ZSB0cmltIEJPTSBhbmQgTkJTUAovLyBSZXF1aXJlIHRoYXQgdGhlICJ3aGl0ZXNwYWNlIHJ1biIgc3RhcnRzIGZyb20gYSBub24td2hpdGVzcGFjZQovLyB0byBhdm9pZCBPKE5eMikgYmVoYXZpb3Igd2hlbiB0aGUgZW5naW5lIHdvdWxkIHRyeSBtYXRjaGluZyAiXHMrJCIgYXQgZWFjaCBzcGFjZSBwb3NpdGlvbi4KdmFyIHJ0cmltID0gL15bXHNcdUZFRkZceEEwXSt8KFteXHNcdUZFRkZceEEwXSlbXHNcdUZFRkZceEEwXSskL2c7CgovLyBCaW5kIGEgZnVuY3Rpb24gdG8gYSBjb250ZXh0LCBvcHRpb25hbGx5IHBhcnRpYWxseSBhcHBseWluZyBhbnkKLy8gYXJndW1lbnRzLgovLyBqUXVlcnkucHJveHkgaXMgZGVwcmVjYXRlZCB0byBwcm9tb3RlIHN0YW5kYXJkcyAoc3BlY2lmaWNhbGx5IEZ1bmN0aW9uI2JpbmQpCi8vIEhvd2V2ZXIsIGl0IGlzIG5vdCBzbGF0ZWQgZm9yIHJlbW92YWwgYW55IHRpbWUgc29vbgpqUXVlcnkucHJveHkgPSBmdW5jdGlvbiggZm4sIGNvbnRleHQgKSB7Cgl2YXIgdG1wLCBhcmdzLCBwcm94eTsKCglpZiAoIHR5cGVvZiBjb250ZXh0ID09PSAic3RyaW5nIiApIHsKCQl0bXAgPSBmblsgY29udGV4dCBdOwoJCWNvbnRleHQgPSBmbjsKCQlmbiA9IHRtcDsKCX0KCgkvLyBRdWljayBjaGVjayB0byBkZXRlcm1pbmUgaWYgdGFyZ2V0IGlzIGNhbGxhYmxlLCBpbiB0aGUgc3BlYwoJLy8gdGhpcyB0aHJvd3MgYSBUeXBlRXJyb3IsIGJ1dCB3ZSB3aWxsIGp1c3QgcmV0dXJuIHVuZGVmaW5lZC4KCWlmICggIWlzRnVuY3Rpb24oIGZuICkgKSB7CgkJcmV0dXJuIHVuZGVmaW5lZDsKCX0KCgkvLyBTaW11bGF0ZWQgYmluZAoJYXJncyA9IHNsaWNlLmNhbGwoIGFyZ3VtZW50cywgMiApOwoJcHJveHkgPSBmdW5jdGlvbigpIHsKCQlyZXR1cm4gZm4uYXBwbHkoIGNvbnRleHQgfHwgdGhpcywgYXJncy5jb25jYXQoIHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApICkgKTsKCX07CgoJLy8gU2V0IHRoZSBndWlkIG9mIHVuaXF1ZSBoYW5kbGVyIHRvIHRoZSBzYW1lIG9mIG9yaWdpbmFsIGhhbmRsZXIsIHNvIGl0IGNhbiBiZSByZW1vdmVkCglwcm94eS5ndWlkID0gZm4uZ3VpZCA9IGZuLmd1aWQgfHwgalF1ZXJ5Lmd1aWQrKzsKCglyZXR1cm4gcHJveHk7Cn07CgpqUXVlcnkuaG9sZFJlYWR5ID0gZnVuY3Rpb24oIGhvbGQgKSB7CglpZiAoIGhvbGQgKSB7CgkJalF1ZXJ5LnJlYWR5V2FpdCsrOwoJfSBlbHNlIHsKCQlqUXVlcnkucmVhZHkoIHRydWUgKTsKCX0KfTsKalF1ZXJ5LmlzQXJyYXkgPSBBcnJheS5pc0FycmF5OwpqUXVlcnkucGFyc2VKU09OID0gSlNPTi5wYXJzZTsKalF1ZXJ5Lm5vZGVOYW1lID0gbm9kZU5hbWU7CmpRdWVyeS5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjsKalF1ZXJ5LmlzV2luZG93ID0gaXNXaW5kb3c7CmpRdWVyeS5jYW1lbENhc2UgPSBjYW1lbENhc2U7CmpRdWVyeS50eXBlID0gdG9UeXBlOwoKalF1ZXJ5Lm5vdyA9IERhdGUubm93OwoKalF1ZXJ5LmlzTnVtZXJpYyA9IGZ1bmN0aW9uKCBvYmogKSB7CgoJLy8gQXMgb2YgalF1ZXJ5IDMuMCwgaXNOdW1lcmljIGlzIGxpbWl0ZWQgdG8KCS8vIHN0cmluZ3MgYW5kIG51bWJlcnMgKHByaW1pdGl2ZXMgb3Igb2JqZWN0cykKCS8vIHRoYXQgY2FuIGJlIGNvZXJjZWQgdG8gZmluaXRlIG51bWJlcnMgKGdoLTI2NjIpCgl2YXIgdHlwZSA9IGpRdWVyeS50eXBlKCBvYmogKTsKCXJldHVybiAoIHR5cGUgPT09ICJudW1iZXIiIHx8IHR5cGUgPT09ICJzdHJpbmciICkgJiYKCgkJLy8gcGFyc2VGbG9hdCBOYU5zIG51bWVyaWMtY2FzdCBmYWxzZSBwb3NpdGl2ZXMgKCIiKQoJCS8vIC4uLmJ1dCBtaXNpbnRlcnByZXRzIGxlYWRpbmctbnVtYmVyIHN0cmluZ3MsIHBhcnRpY3VsYXJseSBoZXggbGl0ZXJhbHMgKCIweC4uLiIpCgkJLy8gc3VidHJhY3Rpb24gZm9yY2VzIGluZmluaXRpZXMgdG8gTmFOCgkJIWlzTmFOKCBvYmogLSBwYXJzZUZsb2F0KCBvYmogKSApOwp9OwoKalF1ZXJ5LnRyaW0gPSBmdW5jdGlvbiggdGV4dCApIHsKCXJldHVybiB0ZXh0ID09IG51bGwgPwoJCSIiIDoKCQkoIHRleHQgKyAiIiApLnJlcGxhY2UoIHJ0cmltLCAiJDEiICk7Cn07CgoKCi8vIFJlZ2lzdGVyIGFzIGEgbmFtZWQgQU1EIG1vZHVsZSwgc2luY2UgalF1ZXJ5IGNhbiBiZSBjb25jYXRlbmF0ZWQgd2l0aCBvdGhlcgovLyBmaWxlcyB0aGF0IG1heSB1c2UgZGVmaW5lLCBidXQgbm90IHZpYSBhIHByb3BlciBjb25jYXRlbmF0aW9uIHNjcmlwdCB0aGF0Ci8vIHVuZGVyc3RhbmRzIGFub255bW91cyBBTUQgbW9kdWxlcy4gQSBuYW1lZCBBTUQgaXMgc2FmZXN0IGFuZCBtb3N0IHJvYnVzdAovLyB3YXkgdG8gcmVnaXN0ZXIuIExvd2VyY2FzZSBqcXVlcnkgaXMgdXNlZCBiZWNhdXNlIEFNRCBtb2R1bGUgbmFtZXMgYXJlCi8vIGRlcml2ZWQgZnJvbSBmaWxlIG5hbWVzLCBhbmQgalF1ZXJ5IGlzIG5vcm1hbGx5IGRlbGl2ZXJlZCBpbiBhIGxvd2VyY2FzZQovLyBmaWxlIG5hbWUuIERvIHRoaXMgYWZ0ZXIgY3JlYXRpbmcgdGhlIGdsb2JhbCBzbyB0aGF0IGlmIGFuIEFNRCBtb2R1bGUgd2FudHMKLy8gdG8gY2FsbCBub0NvbmZsaWN0IHRvIGhpZGUgdGhpcyB2ZXJzaW9uIG9mIGpRdWVyeSwgaXQgd2lsbCB3b3JrLgoKLy8gTm90ZSB0aGF0IGZvciBtYXhpbXVtIHBvcnRhYmlsaXR5LCBsaWJyYXJpZXMgdGhhdCBhcmUgbm90IGpRdWVyeSBzaG91bGQKLy8gZGVjbGFyZSB0aGVtc2VsdmVzIGFzIGFub255bW91cyBtb2R1bGVzLCBhbmQgYXZvaWQgc2V0dGluZyBhIGdsb2JhbCBpZiBhbgovLyBBTUQgbG9hZGVyIGlzIHByZXNlbnQuIGpRdWVyeSBpcyBhIHNwZWNpYWwgY2FzZS4gRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZQovLyBodHRwczovL2dpdGh1Yi5jb20vanJidXJrZS9yZXF1aXJlanMvd2lraS9VcGRhdGluZy1leGlzdGluZy1saWJyYXJpZXMjd2lraS1hbm9uCgppZiAoIHR5cGVvZiBkZWZpbmUgPT09ICJmdW5jdGlvbiIgJiYgZGVmaW5lLmFtZCApIHsKCWRlZmluZSggImpxdWVyeSIsIFtdLCBmdW5jdGlvbigpIHsKCQlyZXR1cm4galF1ZXJ5OwoJfSApOwp9CgoKCgp2YXIKCgkvLyBNYXAgb3ZlciBqUXVlcnkgaW4gY2FzZSBvZiBvdmVyd3JpdGUKCV9qUXVlcnkgPSB3aW5kb3cualF1ZXJ5LAoKCS8vIE1hcCBvdmVyIHRoZSAkIGluIGNhc2Ugb2Ygb3ZlcndyaXRlCglfJCA9IHdpbmRvdy4kOwoKalF1ZXJ5Lm5vQ29uZmxpY3QgPSBmdW5jdGlvbiggZGVlcCApIHsKCWlmICggd2luZG93LiQgPT09IGpRdWVyeSApIHsKCQl3aW5kb3cuJCA9IF8kOwoJfQoKCWlmICggZGVlcCAmJiB3aW5kb3cualF1ZXJ5ID09PSBqUXVlcnkgKSB7CgkJd2luZG93LmpRdWVyeSA9IF9qUXVlcnk7Cgl9CgoJcmV0dXJuIGpRdWVyeTsKfTsKCi8vIEV4cG9zZSBqUXVlcnkgYW5kICQgaWRlbnRpZmllcnMsIGV2ZW4gaW4gQU1ECi8vICh0cmFjLTcxMDIjY29tbWVudDoxMCwgaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9qcXVlcnkvcHVsbC81NTcpCi8vIGFuZCBDb21tb25KUyBmb3IgYnJvd3NlciBlbXVsYXRvcnMgKHRyYWMtMTM1NjYpCmlmICggdHlwZW9mIG5vR2xvYmFsID09PSAidW5kZWZpbmVkIiApIHsKCXdpbmRvdy5qUXVlcnkgPSB3aW5kb3cuJCA9IGpRdWVyeTsKfQoKCgoKcmV0dXJuIGpRdWVyeTsKfSApOwo="}]}]}